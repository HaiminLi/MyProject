INFO  [2018-12-28 15:00:00,342] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:00:00,342] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:00:05,957] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO  [2018-12-28 15:00:06,055] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:00:06,557] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:00:06,557] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:00:07,682  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:00:09,941] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:00:12,271] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:00:12,773] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:00:12,774] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:00:18,383] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:00:18,885] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:00:18,886] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:00:19,950] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:00:23,528] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:00:24,600] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:00:25,102] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:00:25,103] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5501][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:64995<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5501 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5501 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5501 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5501 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5501 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5501 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5501 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5501 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5501 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5501 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 << "Date: Fri, 28 Dec 2018 07:00:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5501 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5501 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5501 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5501 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5501 << Date: Fri, 28 Dec 2018 07:00:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5501 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5501 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5501][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5501][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5501: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5501: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:00:29,960] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:00:30,819] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:00:31,322] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:00:31,322] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:00:36,934] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:00:37,436] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:00:37,436] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:00:37,692  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:00:39,970] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:00:43,157] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:00:43,659] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:00:43,660] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:00:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:00:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:00:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:00:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:00:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:00:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:00:46,594] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:00:46,597] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:00:49,371] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:00:49,873] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:00:49,874] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:00:49,978] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:00:53,538] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:00:55,587] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:00:56,089] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:00:56,090] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5502][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:10716<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5502 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5502 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5502 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5502 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5502 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5502 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5502 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5502 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5502 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5502 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 << "Date: Fri, 28 Dec 2018 07:00:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5502 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5502 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5502 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5502 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5502 << Date: Fri, 28 Dec 2018 07:00:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5502 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5502 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5502][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5502][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5502: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5502: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:00:59,510] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:00:59,512] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:00:59,985] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:01:01,701] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:01:02,203] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:01:02,204] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:01:05,958] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:01:07,701  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:01:07,919] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:01:08,421] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:01:08,421] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:01:09,993] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:01:14,133] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:01:14,635] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:01:14,635] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:01:20,003] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:01:20,351] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:01:20,853] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:01:20,853] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:01:23,548] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:01:26,464] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:01:26,966] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:01:26,966] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5503][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:16444<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5503 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5503 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5503 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5503 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5503 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5503 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5503 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5503 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5503 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5503 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 << "Date: Fri, 28 Dec 2018 07:01:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5503 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5503 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5503 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5503 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5503 << Date: Fri, 28 Dec 2018 07:01:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5503 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5503 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5503][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5503][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5503: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5503: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:01:30,012] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:01:32,681] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:01:33,183] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:01:33,183] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:01:37,715  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:01:38,895] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:01:39,397] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:01:39,397] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:01:40,020] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 2018-12-28 15:01:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:01:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:01:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:01:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:01:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:01:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:01:45,013] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:01:45,515] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:01:45,515] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:01:46,597] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:01:46,599] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:01:50,027] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:01:51,226] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:01:51,728] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:01:51,729] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:01:53,558] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:01:57,441] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:01:57,943] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:01:57,944] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5504][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:22172<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5504 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5504 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5504 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5504 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5504 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5504 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5504 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5504 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5504 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5504 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 << "Date: Fri, 28 Dec 2018 07:01:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5504 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5504 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5504 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5504 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5504 << Date: Fri, 28 Dec 2018 07:01:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5504 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5504 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5504][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5504][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5504: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5504: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:01:59,512] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:01:59,514] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:02:00,036] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:02:03,656] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:02:04,158] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:02:04,158] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:02:05,958] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:02:07,740  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:02:09,872] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:02:10,045] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:02:10,374] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:02:10,374] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:02:15,984] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:02:16,486] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:02:16,487] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:02:20,051] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:02:22,261] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:02:22,763] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:02:22,764] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:02:23,568] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5505][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:27904<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5505 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5505 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5505 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5505 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5505 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5505 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5505 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5505 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5505 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5505 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 << "Date: Fri, 28 Dec 2018 07:02:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5505 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5505 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5505 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5505 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5505 << Date: Fri, 28 Dec 2018 07:02:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5505 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5505 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5505][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5505][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5505: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5505: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:02:28,477] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:02:28,979] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:02:28,979] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:02:30,055] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:02:34,592] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:02:35,094] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:02:35,095] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:02:37,750  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:02:40,062] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:02:40,811] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:02:41,313] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:02:41,313] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:02:42,557] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectProductSalePlanHeader begin
DEBUG [2018-12-28 15:02:42,557] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:02:42,557] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728d994f] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:02:42,558] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@4d1b0889] will not be managed by Spring
DEBUG [2018-12-28 15:02:42,558] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with saleplaninfo as (select spi.tag_id from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.del_flag = '1' group by spi.tag_id) select s.TAG_ID tagId, tm.TAG_NAME tagName, nvl(tm.cxorder,'0') sellinFlag from saleplaninfo s inner join TAG_MANAGE tm on tm.TAG_ID = s.TAG_ID order by tm.display_seq nulls last, tm.tag_name 
DEBUG [2018-12-28 15:02:42,559] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String)
DEBUG [2018-12-28 15:02:42,631] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 7
DEBUG [2018-12-28 15:02:42,631] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728d994f]
INFO  [2018-12-28 15:02:42,756] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectSaleStatisticsDetail begin
INFO  [2018-12-28 15:02:42,756] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - productSalePlanQueryDto:{"cityList":[],"countyList":["3722"],"month":"201812","orderByColumn":"01","orderByType":"2","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceList":[],"tagId":"4227fcaf30294a01b83efd07267e4c25","tagIdList":["4227fcaf30294a01b83efd07267e4c25","7be39893b3e24668b7621a9542ad9406","55ed385129f646b9892d0fe95bbcf908","57c52bd450574ff9a70af4adbe38c926","6e6bd2c882cb4d5a8c82030ce58f3322","bd98285f271d48e1930ed899cf039a49","cfb0cee7eb25489799d30d8c6b2342ee"]}
DEBUG [2018-12-28 15:02:42,757] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:02:42,757] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68d0c9eb] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:02:42,758] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@41bccebf] will not be managed by Spring
DEBUG [2018-12-28 15:02:42,759] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select count(1) from(with saleplaninfo as ( select distinct spi.user_id user_id, spi.tag_id tag_id, spi.plan_sale plan_sale from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.tag_id = ? and spi.del_flag = '1' ), userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), logisticsSendInfo as( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id ), visitTimeInfo as( select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, case when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'') when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'') when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD') else to_char(vti.lastVisitTime,'yy.MM.DD') end as lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid left join saleplaninfo spi on bi.userid = spi.user_id LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join logisticsSendInfo lsi on bi.userid=lsi.userid left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by spi.plan_sale desc nulls last,u.username) 
DEBUG [2018-12-28 15:02:42,759] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 201812(String), 201812(String), 3722(String)
pagination sql : select * from ( select row_limit.*, rownum rownum_ from (with saleplaninfo as (
    select distinct
    spi.user_id user_id,
    spi.tag_id tag_id,
    spi.plan_sale plan_sale
    from SALE_PLAN_INFO spi
    where spi.execute_month = ?
    and spi.tag_id = ?
    and spi.del_flag = '1'
    ),
    userplan as (
    SELECT
    spi1.user_id user_id,
    nvl(sum(spi1.plan_sale),0) plan_sale
    FROM
    SALE_PLAN_INFO spi1
    WHERE
    spi1.execute_month = ?
    AND spi1.del_flag = '1'
    group by spi1.user_id
    ),
    salesgroup as(
    select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin
    from PRODUCT_SALE_STATISTICS pss
    where pss.statistics_month = ?
    and pss.del_flag = '1'
    group by pss.userid),
    logisticsSendInfo as(
    SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime
    FROM logistics_manage lm
    INNER JOIN order_info oi
    ON lm.reor_code = oi.order_code
    WHERE lm.logistics_status = '8'
    AND lm.logistics_type = '01'
    group by oi.customer_user_id
    ),
    visitTimeInfo as(
    select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime
    from visited_buyerinfo vb
    where vb.real_buyer_id is not null
    and vb.del_flag = '1'
    group by vb.real_buyer_id
    )
    select u.userid userId,
    u.username userName,
    cci.month_sales monthSales,
    case
    when cci.month_sales < 50 then
    'D'
    when cci.month_sales >= 50 and cci.month_sales < 100 then
    'C'
    when cci.month_sales >= 100 and cci.month_sales < 200 then
    'B'
    when cci.month_sales >= 200 and cci.month_sales < 500 then
    'A'
    when cci.month_sales >= 500 then
    'S'
    else
    'D'
    end as userLevel,
    case
    when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'')
    when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'')
    when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD')
    else to_char(vti.lastVisitTime,'yy.MM.DD')
    end as lastVisitDate,
    bi.delflag delflag
    from buyerinfo bi
    left join users u
    on bi.userid = u.userid
    left join saleplaninfo spi
    on bi.userid = spi.user_id
    LEFT JOIN userplan up ON bi.userid = up.user_id
    LEFT JOIN salesgroup sg ON bi.userid = sg.userid
    left join crm_company_info cci
    on u.userid = cci.user_id
    left join logisticsSendInfo lsi on bi.userid=lsi.userid
    left join visitTimeInfo vti on bi.userid=vti.userid
    where bi.buyer_type is not null
     
       
        and (
          bi.county in
            (
              ?
            ) 
        )
       
     
    AND (
    bi.delflag = '1'
    OR (
    bi.delflag = '0'
    AND (up.plan_sale > 0 or sg.amount>0)))
     
     
      order by spi.plan_sale desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0
DEBUG [2018-12-28 15:02:43,068] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select * from ( select row_limit.*, rownum rownum_ from (with saleplaninfo as ( select distinct spi.user_id user_id, spi.tag_id tag_id, spi.plan_sale plan_sale from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.tag_id = ? and spi.del_flag = '1' ), userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), logisticsSendInfo as( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id ), visitTimeInfo as( select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, case when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'') when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'') when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD') else to_char(vti.lastVisitTime,'yy.MM.DD') end as lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid left join saleplaninfo spi on bi.userid = spi.user_id LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join logisticsSendInfo lsi on bi.userid=lsi.userid left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by spi.plan_sale desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0 
DEBUG [2018-12-28 15:02:43,069] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 201812(String), 201812(String), 3722(String)
DEBUG [2018-12-28 15:02:43,360] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 20
DEBUG [2018-12-28 15:02:43,360] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68d0c9eb]
DEBUG [2018-12-28 15:02:43,361] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:02:43,361] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5211c4a7] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:02:43,364] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@21c3a7e9] will not be managed by Spring
DEBUG [2018-12-28 15:02:43,365] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with userOrder as ( select t.userId userId, t.indexUser indexUser from ( select 278852 as userId, 0 as indexUser from dual union select 280251 as userId, 1 as indexUser from dual union select 280262 as userId, 2 as indexUser from dual union select 249090 as userId, 3 as indexUser from dual union select 257350 as userId, 4 as indexUser from dual union select 250180 as userId, 5 as indexUser from dual union select 235597 as userId, 6 as indexUser from dual union select 238867 as userId, 7 as indexUser from dual union select 259960 as userId, 8 as indexUser from dual union select 236127 as userId, 9 as indexUser from dual union select 283034 as userId, 10 as indexUser from dual union select 239034 as userId, 11 as indexUser from dual union select 289448 as userId, 12 as indexUser from dual union select 288962 as userId, 13 as indexUser from dual union select 289275 as userId, 14 as indexUser from dual union select 289157 as userId, 15 as indexUser from dual union select 280255 as userId, 16 as indexUser from dual union select 235601 as userId, 17 as indexUser from dual union select 283633 as userId, 18 as indexUser from dual union select 230671 as userId, 19 as indexUser from dual ) t ), tagOrder as ( select t.tagId tagId, t.indexTag indexTag from ( select '4227fcaf30294a01b83efd07267e4c25' as tagId, 0 as indexTag from dual union select '7be39893b3e24668b7621a9542ad9406' as tagId, 1 as indexTag from dual union select '55ed385129f646b9892d0fe95bbcf908' as tagId, 2 as indexTag from dual union select '57c52bd450574ff9a70af4adbe38c926' as tagId, 3 as indexTag from dual union select '6e6bd2c882cb4d5a8c82030ce58f3322' as tagId, 4 as indexTag from dual union select 'bd98285f271d48e1930ed899cf039a49' as tagId, 5 as indexTag from dual union select 'cfb0cee7eb25489799d30d8c6b2342ee' as tagId, 6 as indexTag from dual ) t ), sales as( select pss.userid userId, pss.tag_id tagId, sum(pss.amount) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and pss.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) group by pss.userid, pss.tag_id), salesplan as ( select spi.plan_sale planSale, spi.flighy_name flighyName, spi.user_id userId, spi.tag_id tagId from SALE_PLAN_INFO spi where spi.execute_month=? and spi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and spi.user_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and spi.del_flag='1' ), visitinfo as ( select bi.userid userId, vi.tag_id tagId, vi.intend_degree intendDegree, vi.add_date addDate from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) ), visitintendStatistics as ( select v1.userId userId, v1.tagId tagId, v1.intendDegree visitIntent from visitinfo v1 where not exists ( select 'x' from visitinfo v2 where v1.userId = v2.userId and v1.tagId = v2.tagId and v1.addDate < v2.addDate ) ), visitedcount as ( select vi.userId userId,vi.tagId tagId,count(1) visitedNum from visitinfo vi group by vi.userId,vi.tagId ), visitplancount as ( select vp.buyer_userid userId,vpi.tag_id tagId,count(1) visitplancount from visited_plan vp left join visite_plan_intend vpi on vp.id = vpi.visited_plan_id where vp.visit_time >= to_date(?||'01','yyyyMMdd') and vp.visit_time < add_months(to_date(?||'01','yyyyMMdd'),1) and vp.visited_goal = '2' and vp.buyer_userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vpi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by vp.buyer_userid,vpi.tag_id ), tmpvisitcount as ( select bi.userid userId, vi.tag_id tagId, count(1) tmpvisitcount from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_type = '3' and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by bi.userid,vi.tag_id ) select uo.userId, tor.tagId, sp.flighyName flighyName, sp.planSale planSale, nvl(s.amount,0) amount, nvl(s.sellin,0) sellin, case when sp.planSale is null then null when s.amount is null then 0 when sp.planSale = 0 then null else floor(s.amount*100/sp.planSale) end as pase, vis.visitIntent visitIntent, nvl(vc.visitedNum,0) visitedNum, nvl(vpc.visitplancount,0)+nvl(tvc.tmpvisitcount,0) as visitPlanNum from userOrder uo join tagOrder tor on 1=1 left join salesplan sp on uo.userId = sp.userId and tor.tagId=sp.tagId left join sales s on uo.userId = s.userId and tor.tagId=s.tagId left join visitintendStatistics vis on uo.userId = vis.userId and tor.tagId=vis.tagId left join visitedcount vc on uo.userId = vc.userId and tor.tagId=vc.tagId left join visitplancount vpc on uo.userId = vpc.userId and tor.tagId=vpc.tagId left join tmpvisitcount tvc on uo.userId = tvc.userId and tor.tagId=tvc.tagId order by uo.indexUser,tor.indexTag 
DEBUG [2018-12-28 15:02:43,366] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String)
DEBUG [2018-12-28 15:02:43,447] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 140
DEBUG [2018-12-28 15:02:43,448] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5211c4a7]
2018-12-28 15:02:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:02:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:02:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:02:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:02:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:02:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:02:46,599] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:02:46,602] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:02:47,023] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:02:47,526] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:02:47,526] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:02:50,065] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:02:53,263] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:02:53,590] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:02:53,765] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:02:53,766] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5506][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:33634<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5506 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5506 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5506 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5506 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5506 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5506 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5506 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5506 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5506 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5506 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 << "Date: Fri, 28 Dec 2018 07:02:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5506 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5506 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5506 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5506 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5506 << Date: Fri, 28 Dec 2018 07:02:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5506 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5506 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5506][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5506][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5506: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5506: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:02:59,417] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:02:59,514] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:02:59,516] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:02:59,919] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:02:59,920] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:03:00,070] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:03:05,635] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
ERROR [2018-12-28 15:03:05,959] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO  [2018-12-28 15:03:06,137] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:03:06,138] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:03:07,768  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:03:10,079] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:03:11,847] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:03:12,349] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:03:12,349] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:03:18,062] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:03:18,564] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:03:18,564] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:03:20,082] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:03:23,599] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:03:24,201] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:03:24,703] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:03:24,703] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5507][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:39362<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5507 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5507 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5507 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5507 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5507 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5507 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5507 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5507 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5507 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5507 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 << "Date: Fri, 28 Dec 2018 07:03:27 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5507 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5507 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5507 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5507 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5507 << Date: Fri, 28 Dec 2018 07:03:27 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5507 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5507 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5507][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5507][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5507: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5507: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:03:30,091] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:03:30,474] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:03:30,976] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:03:30,976] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:03:36,688] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:03:37,190] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:03:37,190] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:03:37,777  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:03:40,099] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:03:42,815] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:03:43,317] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:03:43,317] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:03:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:03:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:03:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:03:44,960 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:03:44,961 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:03:44,961 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:03:46,602] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:03:46,604] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:03:48,474] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis begin.
INFO  [2018-12-28 15:03:48,474] cn.ihdou.common.service.impl.CommonProcessServiceImpl - 登录放入redis的信息：key:TLUser:d586eaabca654e7e896710f7379df9e9&value:{"cityId":"null","cityName":"null","countyId":"null","countyName":"null","loginIp":"172.21.10.7","provinceId":"null","provinceName":"null","userName":""}
INFO  [2018-12-28 15:03:48,602] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis end.
2018-12-28 15:03:49,031  INFO [DubboServerHandler-192.168.102.37:20200-thread-23] (AbstractPoolBackedDataSource.java:522) - Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 10, acquireRetryAttempts -> 3, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, contextClassLoaderSource -> caller, dataSourceName -> 1hgel2d9z1sv0tct1tu63ra|3afcd372, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> oracle.jdbc.driver.OracleDriver, extensions -> {}, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hgel2d9z1sv0tct1tu63ra|3afcd372, idleConnectionTestPeriod -> 0, initialPoolSize -> 1, jdbcUrl -> jdbc:oracle:thin:@192.168.100.36:1521:btobtest, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 0, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 3, maxStatements -> 10, maxStatementsPerConnection -> 10, minPoolSize -> 1, numHelperThreads -> 10, preferredTestQuery -> null, privilegeSpawnedThreads -> false, properties -> {user=******, password=******}, propertyCycle -> 0, statementCacheNumDeferredCloseThreads -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, userOverrides -> {}, usesTraditionalReflectiveProxies -> false ]
INFO  [2018-12-28 15:03:49,035] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
2018-12-28 15:03:49,449 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-23] (BaseJdbcLogger.java:139) - ==>  Preparing: with order_cart_num as ( select nvl(sum(cd.product_num),0) product_num from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' where ca.customer_id = ? ) select nvl(sum(product_num),0) from order_cart_num 
INFO  [2018-12-28 15:03:49,538] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:03:49,538] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:03:49,601 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-23] (BaseJdbcLogger.java:139) - ==> Parameters: (String)
2018-12-28 15:03:49,655 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-23] (BaseJdbcLogger.java:139) - <==      Total: 1
INFO  [2018-12-28 15:03:49,865] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis begin.
INFO  [2018-12-28 15:03:49,865] cn.ihdou.common.service.impl.CommonProcessServiceImpl - 登录放入redis的信息：key:TLUser:d586eaabca654e7e896710f7379df9e9&value:{"cityId":"null","cityName":"null","countyId":"null","countyName":"null","loginIp":"172.21.10.7","provinceId":"null","provinceName":"null","userName":""}
INFO  [2018-12-28 15:03:49,912] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis end.
DEBUG [2018-12-28 15:03:50,110] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:03:53,608] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:03:55,250] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:03:55,752] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:03:55,753] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5508][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:45126<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5508 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5508 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5508 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5508 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5508 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5508 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5508 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5508 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5508 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5508 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 << "Date: Fri, 28 Dec 2018 07:03:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5508 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5508 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5508 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5508 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5508 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5508 << Date: Fri, 28 Dec 2018 07:03:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5508][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5508][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5508: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5508: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:04:00,117] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG [2018-12-28 15:04:00,989] cn.ihdou.ihdoumail.member.dao.impl.UserLoginDaoImpl - 根据用户名获取用户登陆信息：select * from userLoginInfo where userName=?
DEBUG [2018-12-28 15:04:00,999] cn.ihdou.ihdoumail.member.dao.impl.UserLoginDaoImpl - 根据用户名获取用户登陆信息：select * from users u where u.mobile1= ?
DEBUG [2018-12-28 15:04:01,032] cn.ihdou.ihdoumail.member.dao.impl.UserLoginDaoImpl - 根据用户id获取供应商信息：select id,id supply_id,area_id,province_id,city_id,user_id,introduction ,name,jc,regcode,corporation,corp_code,taxcode,tel,corpcard_pic,license_pic,tax_pic,organ_pic,pri_name,pri_tel,pri_sex,pri_mail,pri_addr,pri_position,supply_addr,supply_rank,supply_type,supply_cred,account_status,supply_status,remarks,PRI_MOBILE,MOBILE,SEX,deliver_type,supply_source from supply where del_flag='1' and user_id=? 
INFO  [2018-12-28 15:04:01,043] cn.ihdou.common.service.impl.AreaMgrServiceImpl - areaId:3722
INFO  [2018-12-28 15:04:01,043] cn.ihdou.common.dao.impl.AreaMgrDaoImpl - getPilotAreaId&sql:select area_id from pilot_area where del_flag='1'
INFO  [2018-12-28 15:04:01,048] cn.ihdou.common.dao.impl.AreaMgrDaoImpl - getAllAreaIdByAreaId&sql:SELECT ai.areaid, ai.parentid, ai.areaname FROM areainfo ai WHERE ai.status='1' START WITH ai.areaid='3101' CONNECT BY prior ai.areaid=ai.parentid
INFO  [2018-12-28 15:04:01,060] cn.ihdou.common.dao.impl.AreaMgrDaoImpl - getAllAreaIdByAreaId&sql:SELECT ai.areaid, ai.parentid, ai.areaname FROM areainfo ai WHERE ai.status='1' START WITH ai.areaid='3586' CONNECT BY prior ai.areaid=ai.parentid
DEBUG [2018-12-28 15:04:01,099] cn.ihdou.ihdoumail.member.dao.impl.UserLoginDaoImpl - 更新用户登录信息：insert into USERLOGINSTATUS(ID,USERID,LOGIP,LOGTIME,ISAPP,USERSOURCE)values(SEQ_USERLOGINSTATUS_KEY.NEXTVAL,?,?,sysdate,?,?)
INFO  [2018-12-28 15:04:01,126] cn.ihdou.receipt.service.impl.ReceptServiceImpl - getReceptInfoByProCityID begin
INFO  [2018-12-28 15:04:01,126] cn.ihdou.receipt.service.impl.ReceptServiceImpl - receptDao getReceptInfoByProCityID begin
INFO  [2018-12-28 15:04:01,176] cn.ihdou.receipt.service.impl.ReceptServiceImpl - receptDao getReceptInfoByProCityID end
INFO  [2018-12-28 15:04:01,187] cn.ihdou.common.service.impl.AreaMgrServiceImpl - 区域id:[3586,3721,3722]
INFO  [2018-12-28 15:04:01,188] cn.ihdou.common.dao.impl.AreaMgrDaoImpl - 区域id批量转化名字&sql：select areaname from areainfo where  areaid in('3586' ,'3721' ,'3722' ) order by arealevel
INFO  [2018-12-28 15:04:01,190] cn.ihdou.common.service.impl.AreaMgrServiceImpl - 区域id批量转化name结果集：["香港","香港特别行政区","香港市区内"]
INFO  [2018-12-28 15:04:01,193] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis begin.
INFO  [2018-12-28 15:04:01,193] cn.ihdou.common.service.impl.CommonProcessServiceImpl - 登录放入redis的信息：key:TLUser:a94e0508e973469f9ae9a2559a0c5f09&value:{"cityId":3721,"cityName":"香港特别行政区","countyId":3722,"countyName":"香港市区内","loginIp":"172.21.10.7","mobile":"13581732736","provinceId":3586,"provinceName":"香港","userId":289448,"userName":"信测试供应商"}
INFO  [2018-12-28 15:04:01,397] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis end.
INFO  [2018-12-28 15:04:01,480] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:04:01,982] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:04:01,982] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:04:05,285 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-24] (BaseJdbcLogger.java:139) - ==>  Preparing: with order_cart_num as ( select nvl(sum(cd.product_num),0) product_num from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' where ca.customer_id = ? ) select nvl(sum(product_num),0) from order_cart_num 
2018-12-28 15:04:05,292 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-24] (BaseJdbcLogger.java:139) - ==> Parameters: 289448(String)
2018-12-28 15:04:05,295 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-24] (BaseJdbcLogger.java:139) - <==      Total: 1
DEBUG [2018-12-28 15:04:05,449] cn.ihdou.ihdoumail.member.dao.impl.MessageRemindDaoImpl - 到提醒时间的消息数: select count(*) from message_info0 t where t.to_user_id = '289448' and t.message_type = 11 and t.message_status = '01' and t.read_status = '01' and t.del_flag = '1' and t.send_time <= to_date(to_char(sysdate, 'yyyy-mm-dd HH24:MI:ss'), 'yyyy-mm-dd HH24:MI:ss') and exists (select 1 from SECKILL_MAIN skm inner join SECKILL_DETAIL sd on sd.pid = skm.id and sd.del_flag = '1' where skm.status = '0' and skm.check_status = '2' and skm.del_flag = '1' and END_DATETIME > sysdate and sd.id = t.detail_id)
ERROR [2018-12-28 15:04:05,959] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:04:07,805  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:04:07,996] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:04:08,498] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:04:08,499] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:04:10,127] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:04:10,894] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis begin.
INFO  [2018-12-28 15:04:10,894] cn.ihdou.common.service.impl.CommonProcessServiceImpl - 登录放入redis的信息：key:TLUser:d586eaabca654e7e896710f7379df9e9&value:{"cityId":"null","cityName":"null","countyId":"null","countyName":"null","loginIp":"172.21.10.7","provinceId":"null","provinceName":"null","userName":""}
INFO  [2018-12-28 15:04:10,913] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis end.
2018-12-28 15:04:11,161 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-25] (BaseJdbcLogger.java:139) - ==>  Preparing: with order_cart_num as ( select nvl(sum(cd.product_num),0) product_num from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' where ca.customer_id = ? ) select nvl(sum(product_num),0) from order_cart_num 
2018-12-28 15:04:11,161 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-25] (BaseJdbcLogger.java:139) - ==> Parameters: (String)
2018-12-28 15:04:11,163 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-25] (BaseJdbcLogger.java:139) - <==      Total: 1
INFO  [2018-12-28 15:04:11,218] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis begin.
INFO  [2018-12-28 15:04:11,219] cn.ihdou.common.service.impl.CommonProcessServiceImpl - 登录放入redis的信息：key:TLUser:d586eaabca654e7e896710f7379df9e9&value:{"cityId":"null","cityName":"null","countyId":"null","countyName":"null","loginIp":"172.21.10.7","provinceId":"null","provinceName":"null","userName":""}
INFO  [2018-12-28 15:04:11,242] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis end.
INFO  [2018-12-28 15:04:13,511] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:04:14,013] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:04:14,013] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:04:16,924] cn.ihdou.ihdoumail.member.dao.impl.UserLoginDaoImpl - 根据用户名获取用户登陆信息：select * from userLoginInfo where userName=?
DEBUG [2018-12-28 15:04:16,933] cn.ihdou.ihdoumail.member.dao.impl.UserLoginDaoImpl - 根据用户名获取用户登陆信息：select * from users u where u.mobile1= ?
INFO  [2018-12-28 15:04:16,961] cn.ihdou.common.service.impl.AreaMgrServiceImpl - areaId:3722
INFO  [2018-12-28 15:04:16,961] cn.ihdou.common.dao.impl.AreaMgrDaoImpl - getPilotAreaId&sql:select area_id from pilot_area where del_flag='1'
INFO  [2018-12-28 15:04:16,962] cn.ihdou.common.dao.impl.AreaMgrDaoImpl - getAllAreaIdByAreaId&sql:SELECT ai.areaid, ai.parentid, ai.areaname FROM areainfo ai WHERE ai.status='1' START WITH ai.areaid='3101' CONNECT BY prior ai.areaid=ai.parentid
INFO  [2018-12-28 15:04:16,969] cn.ihdou.common.dao.impl.AreaMgrDaoImpl - getAllAreaIdByAreaId&sql:SELECT ai.areaid, ai.parentid, ai.areaname FROM areainfo ai WHERE ai.status='1' START WITH ai.areaid='3586' CONNECT BY prior ai.areaid=ai.parentid
DEBUG [2018-12-28 15:04:17,484] cn.ihdou.ihdoumail.member.dao.impl.UserLoginDaoImpl - 更新用户登录信息：insert into USERLOGINSTATUS(ID,USERID,LOGIP,LOGTIME,ISAPP,USERSOURCE)values(SEQ_USERLOGINSTATUS_KEY.NEXTVAL,?,?,sysdate,?,?)
INFO  [2018-12-28 15:04:17,496] cn.ihdou.receipt.service.impl.ReceptServiceImpl - getReceptInfoByProCityID begin
INFO  [2018-12-28 15:04:17,496] cn.ihdou.receipt.service.impl.ReceptServiceImpl - receptDao getReceptInfoByProCityID begin
INFO  [2018-12-28 15:04:17,497] cn.ihdou.receipt.service.impl.ReceptServiceImpl - receptDao getReceptInfoByProCityID end
INFO  [2018-12-28 15:04:17,503] cn.ihdou.common.service.impl.AreaMgrServiceImpl - 区域id:[3586,3721,3722]
INFO  [2018-12-28 15:04:17,503] cn.ihdou.common.dao.impl.AreaMgrDaoImpl - 区域id批量转化名字&sql：select areaname from areainfo where  areaid in('3586' ,'3721' ,'3722' ) order by arealevel
INFO  [2018-12-28 15:04:17,504] cn.ihdou.common.service.impl.AreaMgrServiceImpl - 区域id批量转化name结果集：["香港","香港特别行政区","香港市区内"]
INFO  [2018-12-28 15:04:17,505] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis begin.
INFO  [2018-12-28 15:04:17,506] cn.ihdou.common.service.impl.CommonProcessServiceImpl - 登录放入redis的信息：key:TLUser:258225b59cef4a2399ceab1618ae27ae&value:{"cityId":3721,"cityName":"香港特别行政区","countyId":3722,"countyName":"香港市区内","loginIp":"172.21.10.7","mobile":"177465*****","provinceId":3586,"provinceName":"香港","userId":239034,"userName":"zhengshitest"}
INFO  [2018-12-28 15:04:18,515] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis end.
INFO  [2018-12-28 15:04:19,030] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
2018-12-28 15:04:19,413 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-26] (BaseJdbcLogger.java:139) - ==>  Preparing: with order_cart_num as ( select nvl(sum(cd.product_num),0) product_num from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' where ca.customer_id = ? ) select nvl(sum(product_num),0) from order_cart_num 
2018-12-28 15:04:19,413 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-26] (BaseJdbcLogger.java:139) - ==> Parameters: 239034(String)
2018-12-28 15:04:19,458 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-26] (BaseJdbcLogger.java:139) - <==      Total: 1
INFO  [2018-12-28 15:04:19,536] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:04:19,536] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:04:19,544] cn.ihdou.ihdoumail.member.dao.impl.MessageRemindDaoImpl - 到提醒时间的消息数: select count(*) from message_info2 t where t.to_user_id = '239034' and t.message_type = 11 and t.message_status = '01' and t.read_status = '01' and t.del_flag = '1' and t.send_time <= to_date(to_char(sysdate, 'yyyy-mm-dd HH24:MI:ss'), 'yyyy-mm-dd HH24:MI:ss') and exists (select 1 from SECKILL_MAIN skm inner join SECKILL_DETAIL sd on sd.pid = skm.id and sd.del_flag = '1' where skm.status = '0' and skm.check_status = '2' and skm.del_flag = '1' and END_DATETIME > sysdate and sd.id = t.detail_id)
DEBUG [2018-12-28 15:04:20,137] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG [2018-12-28 15:04:20,792] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Received heartbeat from remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:04:23,617] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:04:24,558] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:04:25,060] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:04:25,060] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5509][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:51030<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5509 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5509 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5509 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5509 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5509 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5509 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5509 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5509 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5509 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5509 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 << "Date: Fri, 28 Dec 2018 07:04:27 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5509 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5509 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5509 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5509 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5509 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5509 << Date: Fri, 28 Dec 2018 07:04:27 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5509][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5509][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5509: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5509: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:04:30,091] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:04:30,143] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 2018-12-28 15:04:30,569 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-27] (BaseJdbcLogger.java:139) - ==>  Preparing: with order_cart_num as ( select nvl(sum(cd.product_num),0) product_num from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' where ca.customer_id = ? ) select nvl(sum(product_num),0) from order_cart_num 
2018-12-28 15:04:30,570 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-27] (BaseJdbcLogger.java:139) - ==> Parameters: 239034(String)
2018-12-28 15:04:30,572 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-27] (BaseJdbcLogger.java:139) - <==      Total: 1
INFO  [2018-12-28 15:04:30,594] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:04:30,594] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:04:30,608] cn.ihdou.ihdoumail.member.dao.impl.MessageRemindDaoImpl - 到提醒时间的消息数: select count(*) from message_info2 t where t.to_user_id = '239034' and t.message_type = 11 and t.message_status = '01' and t.read_status = '01' and t.del_flag = '1' and t.send_time <= to_date(to_char(sysdate, 'yyyy-mm-dd HH24:MI:ss'), 'yyyy-mm-dd HH24:MI:ss') and exists (select 1 from SECKILL_MAIN skm inner join SECKILL_DETAIL sd on sd.pid = skm.id and sd.del_flag = '1' where skm.status = '0' and skm.check_status = '2' and skm.del_flag = '1' and END_DATETIME > sysdate and sd.id = t.detail_id)
INFO  [2018-12-28 15:04:35,604] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:04:36,106] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:04:36,106] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:04:37,814  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:04:40,153] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 2018-12-28 15:04:41,055 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-28] (BaseJdbcLogger.java:139) - ==>  Preparing: with order_cart_num as ( select nvl(sum(cd.product_num),0) product_num from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' where ca.customer_id = ? ) select nvl(sum(product_num),0) from order_cart_num 
2018-12-28 15:04:41,056 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-28] (BaseJdbcLogger.java:139) - ==> Parameters: 239034(String)
2018-12-28 15:04:41,057 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-28] (BaseJdbcLogger.java:139) - <==      Total: 1
DEBUG [2018-12-28 15:04:41,089] cn.ihdou.ihdoumail.member.dao.impl.MessageRemindDaoImpl - 到提醒时间的消息数: select count(*) from message_info2 t where t.to_user_id = '239034' and t.message_type = 11 and t.message_status = '01' and t.read_status = '01' and t.del_flag = '1' and t.send_time <= to_date(to_char(sysdate, 'yyyy-mm-dd HH24:MI:ss'), 'yyyy-mm-dd HH24:MI:ss') and exists (select 1 from SECKILL_MAIN skm inner join SECKILL_DETAIL sd on sd.pid = skm.id and sd.del_flag = '1' where skm.status = '0' and skm.check_status = '2' and skm.del_flag = '1' and END_DATETIME > sysdate and sd.id = t.detail_id)
INFO  [2018-12-28 15:04:41,114] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:04:41,616] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:04:41,616] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:04:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:04:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:04:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:04:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:04:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:04:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:04:46,604] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:04:46,606] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:04:46,702] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:04:47,204] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:04:47,204] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:04:50,162] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:04:52,217] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:04:52,302] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:04:52,302] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:04:52,308] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:04:52,308] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:04:52,310] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:04:52,310] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:04:52,719] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:04:52,719] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:04:53,414] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:04:53,414] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:04:53,418] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:04:53,418] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:04:53,420] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:04:53,420] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:04:53,463] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:04:53,463] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:04:53,466] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:04:53,467] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:04:53,468] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:04:53,468] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:04:53,626] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:04:57,888] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5510][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:56824<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5510 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5510 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5510 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5510 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5510 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5510 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5510 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5510 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5510 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5510 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 << "Date: Fri, 28 Dec 2018 07:04:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5510 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5510 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5510 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5510 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5510 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5510 << Date: Fri, 28 Dec 2018 07:04:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5510][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5510][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5510: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5510: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:04:58,390] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:04:58,390] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:05:00,169] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:05:03,614] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:05:04,116] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:05:04,116] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:05:05,960] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:05:07,823  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:05:09,229] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:05:09,731] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:05:09,731] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:05:10,179] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:05:14,842] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:05:15,344] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:05:15,345] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:05:20,190] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:05:20,557] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:05:21,059] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:05:21,059] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:05:23,634] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:05:26,180] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:05:26,682] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:05:26,682] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5511][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:62552<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5511 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5511 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5511 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5511 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5511 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5511 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5511 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5511 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5511 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5511 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 << "Date: Fri, 28 Dec 2018 07:05:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5511 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5511 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5511 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5511 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5511 << Date: Fri, 28 Dec 2018 07:05:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5511 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5511 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5511][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5511][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5511: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5511: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:05:29,524] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:05:29,524] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:29,532] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:05:29,532] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:29,534] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:05:29,534] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:05:29,581] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:05:29,581] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:29,584] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:05:29,585] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:29,586] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:05:29,586] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
DEBUG [2018-12-28 15:05:30,199] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:05:31,993] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:05:32,495] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:05:32,495] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:05:37,605] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
2018-12-28 15:05:37,844  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:05:38,107] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:05:38,107] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:05:40,206] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:05:40,566] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:05:40,566] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:40,570] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:05:40,570] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:40,572] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:05:40,572] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:05:40,624] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:05:40,625] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:40,628] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:05:40,628] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:40,630] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:05:40,630] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:05:43,348] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:05:43,850] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:05:43,850] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:05:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:05:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:05:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:05:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:05:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:05:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:05:45,042] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:05:45,042] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:45,046] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:05:45,046] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:45,048] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:05:45,048] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:05:46,279] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:05:46,279] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:46,283] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:05:46,283] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:46,285] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:05:46,285] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:05:46,494] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - BuyerVisiteServiceImpl getVisitNum START...
INFO  [2018-12-28 15:05:46,494] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - 拜访统计数量参数staffId ：7bcc975d4921455f87e208b1249ca5c9
INFO  [2018-12-28 15:05:46,495] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取今日待拜访数量sql: select count(*) visitNum from VISITED_PLAN vp where to_char(vp.VISIT_TIME, 'yyyy-MM-dd HH24:mi:ss') <= to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vp.visited_flg='0' AND vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9'
INFO  [2018-12-28 15:05:46,496] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取今日拜访完成数量sql: select count(*) visitFinshNum from VISITED_BUYERINFO vb where to_char(vb.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') between TO_CHAR(trunc(sysdate), 'yyyy-mm-dd hh24:mi:ss') and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and  vb.del_flag='1' and vb.OPERATION_TYPE='' and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9'and vb.operation_type is null
INFO  [2018-12-28 15:05:46,521] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - 拜访统计数量LogisticsVisitNumVo ：{"visitFinshNum":0,"visitNum":5}
INFO  [2018-12-28 15:05:46,521] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - BuyerVisiteServiceImpl getVisitNum end...
INFO  [2018-12-28 15:05:46,533] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:05:46,533] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:46,537] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:05:46,537] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:46,539] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:05:46,539] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
DEBUG [2018-12-28 15:05:46,606] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:05:46,608] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:05:48,888] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:05:48,888] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:48,892] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:05:48,892] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:48,894] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:05:48,894] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:05:48,965] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:05:49,331] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:05:49,331] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:49,335] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:05:49,335] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:49,337] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:05:49,337] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:05:49,467] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:05:49,467] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:05:50,086] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerListCrm START...
INFO  [2018-12-28 15:05:50,086] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - customerListParamVO = {"areaIds":"","channelPlanTag":"","cityLi":[],"countyLi":[],"curPage":1,"customLevel":"","infoCompleteFrom":"0","infoCompleteTo":"100","isLocation":"","maturityTag":"","memberTag":"","nation":"","pageSize":20,"provinceLi":["3586"],"searchInfo":"","sortSpecies":"4","staffId":"7bcc975d4921455f87e208b1249ca5c9"}
INFO  [2018-12-28 15:05:50,086] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - buyerQueryDao.getCustomerListCrm START...
INFO  [2018-12-28 15:05:50,087] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 客户列表分页查询sql: SELECT * FROM (SELECT ROWNUM row_, t.* FROM (with tmp as( select /*+ NO_INDEX(B IND_BUYERINFO_PROVINCE)*/ distinct to_char(b.userid) customerid, concat( b.buyerid，'') regbuyerId, b.shopname, b.pri_mobile phone, (ai1.areaname  ||','  ||ai2.areaname  ||','  ||ai3.areaname ||nvl2(t.townname,','  ||t.townname,'')) areatext, b.addtime, '3' customertype, b.longitude, b.latitude, b.province, b.city, b.county, b.townid, cs.instore_image1 instoreimage1, cs.shopowner_name shopownername, cs.shop_address shopaddress, cs.business_area businessarea, cs.clerk_num clerknum, cs.door_header_image doorheaderimage, vb.visited_date visitedDate,  case b.buyer_tag   when '01' then '一般客户'   when '02' then '重点客户'   when '03' then '核心客户'   end as memberTag,  case   when b.LONGITUDE is null then '0'   when b.LATITUDE is null then '0'   else '1'   end as isLocation, to_char(b.MES_DEGREE*100) as mesDegree,  case   when cci.MONTH_SALES < 50 and cci.MONTH_SALES >= 0 then 'D'   when cci.MONTH_SALES < 100 then 'C'   when cci.MONTH_SALES < 200 then 'B'   when cci.MONTH_SALES < 500 then 'A'   when cci.MONTH_SALES > 499 then 'S'   else 'X'   end as customLevel from buyerinfo b left join areainfo ai1 on ai1.areaid=b.province left join areainfo ai2 on ai2.areaid=b.city left join areainfo ai3 on ai3.areaid=b.county left join towninfo t on t.townid=b.townid and t.status='1' left join (select user_id,door_header_image,instore_image1,shopowner_name,shop_address,business_area,clerk_num from (select user_id,door_header_image,instore_image1,shopowner_name,shop_address,business_area,clerk_num, row_number()over(partition by user_id order by is_main_shop desc nulls last,add_date desc nulls last) rn from crm_shop where del_flag='1') t where t.rn=1) cs on cs.user_id=b.userid left join (select  vb.real_buyer_id,max(vb.visited_date) visited_date  from VISITED_BUYERINFO vb where vb.unreal_buyer_id is null  and vb.del_flag = 1 group by vb.real_buyer_id) vb on vb.real_buyer_id = b.userid left join (select cci.MONTH_SALES MONTH_SALES,cci.USER_ID from crm_company_info cci where cci.DEL_FLAG = '1') cci on cci.USER_ID = b.userid where b.buyerstatus='02' and b.buyer_type is not null and b.delflag='1' union  select ub.buyer_id customerid, '' regbuyerId, translate(ub.shop_name USING NCHAR_CS) shopname, ub.pri_mobile phone, (ai1.areaname  ||','  ||ai2.areaname  ||','  ||ai3.areaname ||nvl2(t.townname,','  ||t.townname,'')) areatext, ub.add_date addtime, '2' customertype, ub.longitude, ub.latitude, ub.province_id province, ub.city_id city, ub.area_id county, ub.town_id townid, ub.instore_image1 instoreimage1, translate(ub.main_contacts_name USING NCHAR_CS) shopownername, ub.shop_address shopaddress, ub.business_area businessarea, ub.clerk_num clerknum, ub.door_header_image doorheaderimage, vb.visited_date visitedDate,  case ub.buyer_tag   when '01' then '一般客户'   when '02' then '重点客户'   when '03' then '核心客户'   end as memberTag,  case   when ub.LONGITUDE is null then '0'   when ub.LATITUDE is null then '0'   else '1'   end as isLocation, to_char(ub.MES_DEGREE*100) as mesDegree,  case   when ub.MONTH_SALES < 50 and ub.MONTH_SALES >= 0 then 'D'   when ub.MONTH_SALES < 100 then 'C'   when ub.MONTH_SALES < 200 then 'B'   when ub.MONTH_SALES < 500 then 'A'   when ub.MONTH_SALES > 499 then 'S'   else 'X'   end as customLevel from unregistered_buyerinfo ub left join areainfo ai1 on ai1.areaid=ub.province_id left join areainfo ai2 on ai2.areaid=ub.city_id left join areainfo ai3 on ai3.areaid=ub.area_id left join towninfo t on t.townid=ub.town_id and t.status='1' left join (select  vb.UNREAL_BUYER_ID,max(vb.visited_date) visited_date  from VISITED_BUYERINFO vb where vb.real_buyer_id is null and vb.del_flag = 1 group by vb.UNREAL_BUYER_ID) vb on vb.unreal_buyer_id = ub.buyer_id where ub.del_flag='1' and ub.buyer_type is not null and ub.register_status='0' ) select distinct customerid,regbuyerId, shopname,phone,areatext,addtime,customertype,isLocation,mesDegree,longitude,latitude,memberTag,visitedDate,  case   when customLevel = 'X' then '未分级'   else customLevel   end as customLevel, doorheaderimage from tmp where 1=1 and (province in (3586) ) and (to_number(mesDegree) >= to_number('0')) and (to_number(mesDegree) <= to_number('100')) order by addtime DESC) t ) WHERE row_ <=20 AND row_ >=1
DEBUG [2018-12-28 15:05:50,217] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:05:50,251] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - li = [{"addTime":"2018-12-28 10:37:50","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289448","customerType":"3","isLocation":"0","mesDegree":"0","phone":"13581732736","regbuyerId":"410572","shopName":"信测试公司1"},{"addTime":"2018-12-03 17:27:01","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289382","customerType":"3","doorHeaderImage":"/upload/20181203172623186_968.jpg","isLocation":"1","memberTag":"核心客户","mesDegree":"75","phone":"15801446300","regbuyerId":"410557","shopName":"测试地址"},{"addTime":"2018-10-24 15:57:24","areaText":"香港,香港特别行政区,油尖旺","customLevel":"未分级","customerId":"289341","customerType":"3","doorHeaderImage":"/upload/20181126145423866_643.jpeg","isLocation":"1","memberTag":"核心客户","mesDegree":"60","phone":"18871716276","regbuyerId":"410547","shopName":"yuuko123"},{"addTime":"2018-10-23 18:10:37","areaText":"香港,香港特别行政区,北区","customLevel":"S","customerId":"289340","customerType":"3","doorHeaderImage":"/upload/20181126143646689_181.jpg","isLocation":"1","memberTag":"一般客户","mesDegree":"65","phone":"18519184576","regbuyerId":"410546","shopName":"chengjj"},{"addTime":"2018-08-24 11:21:14","areaText":"香港,香港特别行政区,香港市区内","customLevel":"D","customerId":"225830","customerType":"3","doorHeaderImage":"/upload/20181121170432903_582.jpg","isLocation":"1","memberTag":"核心客户","mesDegree":"100","phone":"11391023541","regbuyerId":"410543","shopName":"香港天联通讯市场"},{"addTime":"2018-08-01 15:16:42","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289303","customerType":"3","doorHeaderImage":"/upload/20170301182808842_722.jpeg","isLocation":"1","memberTag":"一般客户","mesDegree":"50","phone":"13652148596","regbuyerId":"410510","shopName":"还比较快路"},{"addTime":"2018-07-31 14:41:48","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289281","customerType":"3","doorHeaderImage":"/upload/20180731144132499_365.jpeg","isLocation":"1","mesDegree":"80","phone":"13541708965","regbuyerId":"410468","shopName":"玩儿玩儿"},{"addTime":"2018-07-30 17:03:43","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289275","customerType":"3","doorHeaderImage":"/upload/20180730160334835_345.jpeg","isLocation":"1","memberTag":"一般客户","mesDegree":"60","phone":"13580896321","regbuyerId":"410456","shopName":"啊啊撒"},{"addTime":"2018-07-30 15:32:10","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289273","customerType":"3","doorHeaderImage":"/upload/20180730153143002_937.jpg","isLocation":"1","mesDegree":"50","phone":"18700003333","regbuyerId":"410452","shopName":"测试数据不要动"},{"addTime":"2018-07-30 15:23:25","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289272","customerType":"3","doorHeaderImage":"/upload/20180730145630886_727.jpeg","isLocation":"1","memberTag":"一般客户","mesDegree":"50","phone":"18700001236","regbuyerId":"410450","shopName":"海淀区客户不要动"},{"addTime":"2018-07-19 17:47:31","areaText":"香港,香港特别行政区,香港市区内","customLevel":"C","customerId":"289211","customerType":"3","doorHeaderImage":"/upload/20180719174338925_346.jpg","isLocation":"1","memberTag":"一般客户","mesDegree":"85","phone":"13214258741","regbuyerId":"410328","shopName":"饿到处"},{"addTime":"2018-07-16 18:36:43","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289157","customerType":"3","doorHeaderImage":"/upload/20180716175523067_740.jpg","isLocation":"1","memberTag":"重点客户","mesDegree":"70","phone":"13311111113","regbuyerId":"410278","shopName":"土办法"},{"addTime":"2018-04-26 20:21:09","areaText":"香港,香港特别行政区,北区","customLevel":"未分级","customerId":"289011","customerType":"3","isLocation":"1","mesDegree":"0","phone":"18810483514","regbuyerId":"410155","shopName":"测试微信注册"},{"addTime":"2018-04-02 13:32:12","areaText":"香港,香港特别行政区,香港市区内,八宝山街道办事处","customLevel":"S","customerId":"288962","customerType":"3","doorHeaderImage":"/upload/20180408103354886_810.png","isLocation":"1","memberTag":"重点客户","mesDegree":"100","phone":"18811170832","regbuyerId":"410139","shopName":"北京客户2"},{"addTime":"2017-10-26 22:22:36","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"286914","customerType":"3","doorHeaderImage":"/upload/20171026222217193_122.jpeg","isLocation":"1","mesDegree":"50","phone":"18668888888","regbuyerId":"406772","shopName":"香港测试数据"},{"addTime":"2017-09-18 11:16:24","areaText":"香港,香港特别行政区,北区","customLevel":"未分级","customerId":"286036","customerType":"3","isLocation":"1","mesDegree":"0","phone":"184101*****","regbuyerId":"405332","shopName":"香港终端测试组"},{"addTime":"2017-09-04 09:42:46","areaText":"香港,香港特别行政区,香港市区内","customLevel":"D","customerId":"285626","customerType":"3","doorHeaderImage":"/upload/20170904094235690_585.jpeg","isLocation":"1","memberTag":"核心客户","mesDegree":"0","phone":"180000*****","regbuyerId":"404643","shopName":"正式测试客户3"},{"addTime":"2017-07-06 20:14:57","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"284146","customerType":"3","doorHeaderImage":"/upload/20170706202700507_991.png","isLocation":"1","mesDegree":"0","phone":"136510*****","regbuyerId":"402497","shopName":"运营商001"},{"addTime":"2017-06-22 22:19:17","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"283633","customerType":"3","doorHeaderImage":"/upload/20170622231750575_583.jpg","isLocation":"1","memberTag":"一般客户","mesDegree":"0","phone":"188111*****","regbuyerId":"401673","shopName":"张测试001"},{"addTime":"2017-06-15 22:24:09","areaText":"香港,香港特别行政区,香港市区内","customLevel":"D","customerId":"283492","customerType":"3","doorHeaderImage":"/upload/20170615221509988_768.jpg","isLocation":"1","mesDegree":"0","phone":"185000*****","regbuyerId":"401497","shopName":"测试客户1"}]
INFO  [2018-12-28 15:05:50,251] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - buyerQueryDao.getCustomerListCrm END...
INFO  [2018-12-28 15:05:50,251] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerListCrm END...
INFO  [2018-12-28 15:05:50,254] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:50,254] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289448') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:50,308] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:50,308] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289448'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:50,371] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:50,371] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289382') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:50,434] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:50,434] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289382'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:50,488] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:50,488] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289341') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:50,553] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:50,554] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289341'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:50,609] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:50,609] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289340') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:50,673] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:50,674] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289340'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:50,729] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:50,729] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '225830') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:50,794] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:50,794] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='225830'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:50,854] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:50,854] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289303') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:50,921] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:50,921] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289303'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:50,977] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:50,977] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289281') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:51,034] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:51,034] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289281'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:51,099] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:51,099] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289275') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:51,156] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:51,156] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289275'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:51,221] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:51,221] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289273') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:51,278] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:51,278] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289273'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:51,343] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:51,343] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289272') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:51,400] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:51,400] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289272'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:51,464] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:51,465] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289211') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:51,524] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:51,525] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289211'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:51,592] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:51,592] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289157') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:51,658] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:51,658] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289157'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:51,723] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:51,723] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289011') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:51,779] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:51,780] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289011'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:51,843] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:51,844] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '288962') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:51,899] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:51,899] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='288962'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:51,963] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:51,963] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '286914') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:52,019] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:52,020] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='286914'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:52,083] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:52,083] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '286036') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:52,139] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:52,140] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='286036'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:52,202] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:52,203] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '285626') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:52,257] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:52,258] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='285626'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:52,312] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:52,313] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '284146') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:52,367] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:52,367] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='284146'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:52,424] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:52,424] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '283633') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:52,482] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:52,482] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='283633'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:52,536] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:05:52,536] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '283492') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:05:52,594] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:05:52,594] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='283492'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:05:53,642] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:05:54,579] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:05:55,082] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:05:55,082] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:05:58,203] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:05:58,203] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:58,207] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:05:58,207] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:58,209] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:05:58,209] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:05:58,255] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:05:58,255] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:58,259] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:05:58,259] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:05:58,260] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:05:58,261] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5512][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:8315<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5512 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5512 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5512 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5512 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5512 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5512 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5512 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5512 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5512 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5512 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 << "Date: Fri, 28 Dec 2018 07:05:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5512 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5512 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5512 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5512 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5512 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5512 << Date: Fri, 28 Dec 2018 07:05:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5512][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5512][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5512: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5512: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:05:59,515] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:05:59,517] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:06:00,215] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:06:00,225] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:06:00,717] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:06:00,717] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:06:02,703] cn.ihdou.ihdoumail.member.dao.impl.SupplyInfoDaoImpl - select ri.id,ri.province, ri.city, ri.district, ri.address, ri.userid, ri.returnname, ri.idcard, ri.mobile  from return_info ri where ri.del_flag ='1' and ri.userid='259800' 
INFO  [2018-12-28 15:06:05,482] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:06:05,482] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:05,486] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:06:05,486] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:05,487] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:06:05,488] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:06:05,504] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:06:05,505] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:05,507] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:06:05,507] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:05,509] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:06:05,509] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:06:05,827] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
ERROR [2018-12-28 15:06:05,961] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO  [2018-12-28 15:06:06,329] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:06:06,329] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:06:07,868  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:06:10,235] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:06:11,448] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:06:11,950] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:06:11,950] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:06:17,164] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:06:17,666] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:06:17,666] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:06:20,245] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:06:22,801] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:06:23,303] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:06:23,303] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:06:23,663] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5513][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:14053<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5513 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5513 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5513 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5513 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5513 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5513 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5513 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5513 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5513 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5513 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 << "Date: Fri, 28 Dec 2018 07:06:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5513 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5513 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5513 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5513 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5513 << Date: Fri, 28 Dec 2018 07:06:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5513 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5513 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5513][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5513][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5513: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5513: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:06:28,541] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:06:29,043] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:06:29,043] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:06:30,249] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:06:31,484] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:06:31,484] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:31,488] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:06:31,488] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:31,490] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:06:31,490] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:06:31,535] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:06:31,536] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:31,539] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:06:31,539] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:31,541] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:06:31,541] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:06:34,155] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:06:34,657] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:06:34,657] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:06:37,903  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:06:39,871] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:06:40,258] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:06:40,373] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:06:40,374] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:06:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:06:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:06:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:06:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:06:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:06:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:06:45,527] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:06:46,030] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:06:46,030] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:06:46,608] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:06:46,611] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:06:50,262] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:06:51,143] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:06:51,645] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:06:51,646] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:06:53,684] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:06:54,404] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:06:54,404] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:54,408] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:06:54,408] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:54,410] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:06:54,410] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:06:54,930] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:06:54,930] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:54,934] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:06:54,934] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:54,936] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:06:54,936] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:06:55,560] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:06:55,560] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:55,564] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:06:55,564] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:06:55,566] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:06:55,566] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:06:56,759] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:06:57,262] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:06:57,262] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
INFO  [2018-12-28 15:06:58,357] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerListCrm START...
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5514][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
INFO  [2018-12-28 15:06:58,357] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - customerListParamVO = {"areaIds":"","channelPlanTag":"","cityLi":[],"countyLi":[],"curPage":1,"customLevel":"","infoCompleteFrom":"0","infoCompleteTo":"100","isLocation":"","maturityTag":"","memberTag":"","nation":"","pageSize":20,"provinceLi":["3586"],"searchInfo":"","sortSpecies":"4","staffId":"7bcc975d4921455f87e208b1249ca5c9"}
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
INFO  [2018-12-28 15:06:58,358] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - buyerQueryDao.getCustomerListCrm START...
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
INFO  [2018-12-28 15:06:58,358] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 客户列表分页查询sql: SELECT * FROM (SELECT ROWNUM row_, t.* FROM (with tmp as( select /*+ NO_INDEX(B IND_BUYERINFO_PROVINCE)*/ distinct to_char(b.userid) customerid, concat( b.buyerid，'') regbuyerId, b.shopname, b.pri_mobile phone, (ai1.areaname  ||','  ||ai2.areaname  ||','  ||ai3.areaname ||nvl2(t.townname,','  ||t.townname,'')) areatext, b.addtime, '3' customertype, b.longitude, b.latitude, b.province, b.city, b.county, b.townid, cs.instore_image1 instoreimage1, cs.shopowner_name shopownername, cs.shop_address shopaddress, cs.business_area businessarea, cs.clerk_num clerknum, cs.door_header_image doorheaderimage, vb.visited_date visitedDate,  case b.buyer_tag   when '01' then '一般客户'   when '02' then '重点客户'   when '03' then '核心客户'   end as memberTag,  case   when b.LONGITUDE is null then '0'   when b.LATITUDE is null then '0'   else '1'   end as isLocation, to_char(b.MES_DEGREE*100) as mesDegree,  case   when cci.MONTH_SALES < 50 and cci.MONTH_SALES >= 0 then 'D'   when cci.MONTH_SALES < 100 then 'C'   when cci.MONTH_SALES < 200 then 'B'   when cci.MONTH_SALES < 500 then 'A'   when cci.MONTH_SALES > 499 then 'S'   else 'X'   end as customLevel from buyerinfo b left join areainfo ai1 on ai1.areaid=b.province left join areainfo ai2 on ai2.areaid=b.city left join areainfo ai3 on ai3.areaid=b.county left join towninfo t on t.townid=b.townid and t.status='1' left join (select user_id,door_header_image,instore_image1,shopowner_name,shop_address,business_area,clerk_num from (select user_id,door_header_image,instore_image1,shopowner_name,shop_address,business_area,clerk_num, row_number()over(partition by user_id order by is_main_shop desc nulls last,add_date desc nulls last) rn from crm_shop where del_flag='1') t where t.rn=1) cs on cs.user_id=b.userid left join (select  vb.real_buyer_id,max(vb.visited_date) visited_date  from VISITED_BUYERINFO vb where vb.unreal_buyer_id is null  and vb.del_flag = 1 group by vb.real_buyer_id) vb on vb.real_buyer_id = b.userid left join (select cci.MONTH_SALES MONTH_SALES,cci.USER_ID from crm_company_info cci where cci.DEL_FLAG = '1') cci on cci.USER_ID = b.userid where b.buyerstatus='02' and b.buyer_type is not null and b.delflag='1' union  select ub.buyer_id customerid, '' regbuyerId, translate(ub.shop_name USING NCHAR_CS) shopname, ub.pri_mobile phone, (ai1.areaname  ||','  ||ai2.areaname  ||','  ||ai3.areaname ||nvl2(t.townname,','  ||t.townname,'')) areatext, ub.add_date addtime, '2' customertype, ub.longitude, ub.latitude, ub.province_id province, ub.city_id city, ub.area_id county, ub.town_id townid, ub.instore_image1 instoreimage1, translate(ub.main_contacts_name USING NCHAR_CS) shopownername, ub.shop_address shopaddress, ub.business_area businessarea, ub.clerk_num clerknum, ub.door_header_image doorheaderimage, vb.visited_date visitedDate,  case ub.buyer_tag   when '01' then '一般客户'   when '02' then '重点客户'   when '03' then '核心客户'   end as memberTag,  case   when ub.LONGITUDE is null then '0'   when ub.LATITUDE is null then '0'   else '1'   end as isLocation, to_char(ub.MES_DEGREE*100) as mesDegree,  case   when ub.MONTH_SALES < 50 and ub.MONTH_SALES >= 0 then 'D'   when ub.MONTH_SALES < 100 then 'C'   when ub.MONTH_SALES < 200 then 'B'   when ub.MONTH_SALES < 500 then 'A'   when ub.MONTH_SALES > 499 then 'S'   else 'X'   end as customLevel from unregistered_buyerinfo ub left join areainfo ai1 on ai1.areaid=ub.province_id left join areainfo ai2 on ai2.areaid=ub.city_id left join areainfo ai3 on ai3.areaid=ub.area_id left join towninfo t on t.townid=ub.town_id and t.status='1' left join (select  vb.UNREAL_BUYER_ID,max(vb.visited_date) visited_date  from VISITED_BUYERINFO vb where vb.real_buyer_id is null and vb.del_flag = 1 group by vb.UNREAL_BUYER_ID) vb on vb.unreal_buyer_id = ub.buyer_id where ub.del_flag='1' and ub.buyer_type is not null and ub.register_status='0' ) select distinct customerid,regbuyerId, shopname,phone,areatext,addtime,customertype,isLocation,mesDegree,longitude,latitude,memberTag,visitedDate,  case   when customLevel = 'X' then '未分级'   else customLevel   end as customLevel, doorheaderimage from tmp where 1=1 and (province in (3586) ) and (to_number(mesDegree) >= to_number('0')) and (to_number(mesDegree) <= to_number('100')) order by addtime DESC) t ) WHERE row_ <=20 AND row_ >=1
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:19807<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5514 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5514 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5514 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5514 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5514 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5514 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5514 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5514 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5514 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5514 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 << "Date: Fri, 28 Dec 2018 07:06:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5514 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5514 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5514 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5514 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5514 << Date: Fri, 28 Dec 2018 07:06:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5514 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5514 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5514][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5514][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5514: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5514: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:06:58,520] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - li = [{"addTime":"2018-12-28 10:37:50","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289448","customerType":"3","isLocation":"0","mesDegree":"0","phone":"13581732736","regbuyerId":"410572","shopName":"信测试公司1"},{"addTime":"2018-12-03 17:27:01","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289382","customerType":"3","doorHeaderImage":"/upload/20181203172623186_968.jpg","isLocation":"1","memberTag":"核心客户","mesDegree":"75","phone":"15801446300","regbuyerId":"410557","shopName":"测试地址"},{"addTime":"2018-10-24 15:57:24","areaText":"香港,香港特别行政区,油尖旺","customLevel":"未分级","customerId":"289341","customerType":"3","doorHeaderImage":"/upload/20181126145423866_643.jpeg","isLocation":"1","memberTag":"核心客户","mesDegree":"60","phone":"18871716276","regbuyerId":"410547","shopName":"yuuko123"},{"addTime":"2018-10-23 18:10:37","areaText":"香港,香港特别行政区,北区","customLevel":"S","customerId":"289340","customerType":"3","doorHeaderImage":"/upload/20181126143646689_181.jpg","isLocation":"1","memberTag":"一般客户","mesDegree":"65","phone":"18519184576","regbuyerId":"410546","shopName":"chengjj"},{"addTime":"2018-08-24 11:21:14","areaText":"香港,香港特别行政区,香港市区内","customLevel":"D","customerId":"225830","customerType":"3","doorHeaderImage":"/upload/20181121170432903_582.jpg","isLocation":"1","memberTag":"核心客户","mesDegree":"100","phone":"11391023541","regbuyerId":"410543","shopName":"香港天联通讯市场"},{"addTime":"2018-08-01 15:16:42","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289303","customerType":"3","doorHeaderImage":"/upload/20170301182808842_722.jpeg","isLocation":"1","memberTag":"一般客户","mesDegree":"50","phone":"13652148596","regbuyerId":"410510","shopName":"还比较快路"},{"addTime":"2018-07-31 14:41:48","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289281","customerType":"3","doorHeaderImage":"/upload/20180731144132499_365.jpeg","isLocation":"1","mesDegree":"80","phone":"13541708965","regbuyerId":"410468","shopName":"玩儿玩儿"},{"addTime":"2018-07-30 17:03:43","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289275","customerType":"3","doorHeaderImage":"/upload/20180730160334835_345.jpeg","isLocation":"1","memberTag":"一般客户","mesDegree":"60","phone":"13580896321","regbuyerId":"410456","shopName":"啊啊撒"},{"addTime":"2018-07-30 15:32:10","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289273","customerType":"3","doorHeaderImage":"/upload/20180730153143002_937.jpg","isLocation":"1","mesDegree":"50","phone":"18700003333","regbuyerId":"410452","shopName":"测试数据不要动"},{"addTime":"2018-07-30 15:23:25","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289272","customerType":"3","doorHeaderImage":"/upload/20180730145630886_727.jpeg","isLocation":"1","memberTag":"一般客户","mesDegree":"50","phone":"18700001236","regbuyerId":"410450","shopName":"海淀区客户不要动"},{"addTime":"2018-07-19 17:47:31","areaText":"香港,香港特别行政区,香港市区内","customLevel":"C","customerId":"289211","customerType":"3","doorHeaderImage":"/upload/20180719174338925_346.jpg","isLocation":"1","memberTag":"一般客户","mesDegree":"85","phone":"13214258741","regbuyerId":"410328","shopName":"饿到处"},{"addTime":"2018-07-16 18:36:43","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289157","customerType":"3","doorHeaderImage":"/upload/20180716175523067_740.jpg","isLocation":"1","memberTag":"重点客户","mesDegree":"70","phone":"13311111113","regbuyerId":"410278","shopName":"土办法"},{"addTime":"2018-04-26 20:21:09","areaText":"香港,香港特别行政区,北区","customLevel":"未分级","customerId":"289011","customerType":"3","isLocation":"1","mesDegree":"0","phone":"18810483514","regbuyerId":"410155","shopName":"测试微信注册"},{"addTime":"2018-04-02 13:32:12","areaText":"香港,香港特别行政区,香港市区内,八宝山街道办事处","customLevel":"S","customerId":"288962","customerType":"3","doorHeaderImage":"/upload/20180408103354886_810.png","isLocation":"1","memberTag":"重点客户","mesDegree":"100","phone":"18811170832","regbuyerId":"410139","shopName":"北京客户2"},{"addTime":"2017-10-26 22:22:36","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"286914","customerType":"3","doorHeaderImage":"/upload/20171026222217193_122.jpeg","isLocation":"1","mesDegree":"50","phone":"18668888888","regbuyerId":"406772","shopName":"香港测试数据"},{"addTime":"2017-09-18 11:16:24","areaText":"香港,香港特别行政区,北区","customLevel":"未分级","customerId":"286036","customerType":"3","isLocation":"1","mesDegree":"0","phone":"184101*****","regbuyerId":"405332","shopName":"香港终端测试组"},{"addTime":"2017-09-04 09:42:46","areaText":"香港,香港特别行政区,香港市区内","customLevel":"D","customerId":"285626","customerType":"3","doorHeaderImage":"/upload/20170904094235690_585.jpeg","isLocation":"1","memberTag":"核心客户","mesDegree":"0","phone":"180000*****","regbuyerId":"404643","shopName":"正式测试客户3"},{"addTime":"2017-07-06 20:14:57","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"284146","customerType":"3","doorHeaderImage":"/upload/20170706202700507_991.png","isLocation":"1","mesDegree":"0","phone":"136510*****","regbuyerId":"402497","shopName":"运营商001"},{"addTime":"2017-06-22 22:19:17","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"283633","customerType":"3","doorHeaderImage":"/upload/20170622231750575_583.jpg","isLocation":"1","memberTag":"一般客户","mesDegree":"0","phone":"188111*****","regbuyerId":"401673","shopName":"张测试001"},{"addTime":"2017-06-15 22:24:09","areaText":"香港,香港特别行政区,香港市区内","customLevel":"D","customerId":"283492","customerType":"3","doorHeaderImage":"/upload/20170615221509988_768.jpg","isLocation":"1","mesDegree":"0","phone":"185000*****","regbuyerId":"401497","shopName":"测试客户1"}]
INFO  [2018-12-28 15:06:58,520] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - buyerQueryDao.getCustomerListCrm END...
INFO  [2018-12-28 15:06:58,520] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerListCrm END...
INFO  [2018-12-28 15:06:58,523] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:06:58,523] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289448') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:06:58,583] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:06:58,583] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289448'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:06:58,648] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:06:58,649] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289382') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:06:58,714] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:06:58,714] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289382'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:06:58,772] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:06:58,772] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289341') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:06:58,829] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:06:58,829] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289341'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:06:58,883] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:06:58,883] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289340') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:06:58,949] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:06:58,949] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289340'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:06:59,012] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:06:59,012] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '225830') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:06:59,072] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:06:59,072] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='225830'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:06:59,138] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:06:59,138] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289303') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:06:59,195] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:06:59,195] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289303'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:06:59,259] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:06:59,260] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289281') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:06:59,316] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:06:59,317] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289281'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:06:59,380] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:06:59,380] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289275') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:06:59,436] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:06:59,436] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289275'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:06:59,500] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:06:59,500] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289273') and btt.del_flag='1'  order by tm.display_seq 
DEBUG [2018-12-28 15:06:59,517] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:06:59,519] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:06:59,556] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:06:59,556] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289273'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:06:59,620] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:06:59,620] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289272') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:06:59,676] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:06:59,676] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289272'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:06:59,740] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:06:59,740] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289211') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:06:59,795] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:06:59,796] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289211'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:06:59,860] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:06:59,860] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289157') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:06:59,926] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:06:59,926] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289157'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:07:00,005] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:07:00,005] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289011') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:07:00,104] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:07:00,105] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289011'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:07:00,198] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:07:00,199] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '288962') and btt.del_flag='1'  order by tm.display_seq 
DEBUG [2018-12-28 15:07:00,268] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:07:00,272] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:07:00,272] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='288962'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:07:00,349] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:07:00,350] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '286914') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:07:00,426] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:07:00,426] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='286914'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:07:00,485] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:07:00,486] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '286036') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:07:00,566] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:07:00,566] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='286036'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:07:00,625] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:07:00,625] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '285626') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:07:00,695] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:07:00,695] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='285626'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:07:00,753] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:07:00,753] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '284146') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:07:00,825] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:07:00,825] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='284146'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:07:00,893] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:07:00,893] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '283633') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:07:00,968] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:07:00,968] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='283633'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:07:01,025] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:07:01,025] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '283492') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:07:01,095] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:07:01,096] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='283492'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:07:02,399] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:07:02,901] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:07:02,901] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:07:05,961] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:07:07,914  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:07:08,014] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:07:08,516] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:07:08,516] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:07:10,275] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:07:13,731] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:07:14,233] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:07:14,233] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:07:19,343] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:07:19,845] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:07:19,845] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:07:20,284] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:07:23,695] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:07:25,087] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:07:25,493] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:07:25,493] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:07:25,497] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:07:25,497] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:07:25,498] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:07:25,499] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:07:25,552] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:07:25,552] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:07:25,555] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:07:25,555] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:07:25,557] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:07:25,557] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:07:25,589] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:07:25,589] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5515][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:25553<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5515 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5515 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5515 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5515 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5515 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5515 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5515 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5515 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5515 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5515 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 << "Date: Fri, 28 Dec 2018 07:07:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5515 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5515 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5515 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5515 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5515 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5515 << Date: Fri, 28 Dec 2018 07:07:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5515][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5515][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5515: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5515: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:07:30,291] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:07:30,729] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:07:31,231] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:07:31,232] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:07:31,596] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:07:31,597] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:07:31,601] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:07:31,601] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:07:31,603] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:07:31,603] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:07:31,649] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:07:31,649] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:07:31,653] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:07:31,653] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:07:31,654] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:07:31,655] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:07:36,446] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:07:36,948] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:07:36,948] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:07:37,923  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:07:40,301] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:07:42,058] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:07:42,560] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:07:42,560] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:07:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:07:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:07:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:07:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:07:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:07:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:07:46,611] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:07:46,613] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:07:47,705] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:07:48,207] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:07:48,208] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:07:50,309] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:07:52,196] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:07:52,196] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:07:52,200] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:07:52,200] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:07:52,202] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:07:52,202] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:07:52,247] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:07:52,248] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:07:52,251] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:07:52,251] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='7bcc975d4921455f87e208b1249ca5c9' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:07:52,253] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:07:52,253] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:07:53,496] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:07:53,705] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:07:53,998] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:07:53,999] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5516][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:31299<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5516 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5516 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5516 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5516 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5516 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5516 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5516 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5516 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5516 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5516 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 << "Date: Fri, 28 Dec 2018 07:07:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5516 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5516 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5516 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5516 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5516 << Date: Fri, 28 Dec 2018 07:07:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5516 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5516 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5516][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5516][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5516: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5516: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:07:59,063] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:07:59,519] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:07:59,521] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:07:59,565] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:07:59,566] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:08:00,316] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:08:04,680] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:08:05,182] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:08:05,183] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:08:05,962] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:08:07,933  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:08:10,327] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:08:10,397] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:08:10,899] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:08:10,899] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:08:16,013] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:08:16,515] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:08:16,515] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:08:20,336] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:08:21,737] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:08:22,239] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:08:22,239] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:08:23,019] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:08:23,019] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:08:23,065] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:08:23,065] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:08:23,104] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:08:23,104] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:08:23,119] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230616","custype":"3","shopName":"尒XO580736","type":"3","typeText":"待拜访","userName":"苹果专卖test"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"安徽蚌埠市固镇县","conProvince":"安徽","consCounty":"固镇县","cusUserId":"245177","custype":"3","latitude":"33.316899","longitude":"117.316955","shopName":"ym15955265526","type":"3","typeText":"待拜访","userName":"ym15955265526"},{"conAddress":"安徽合肥市长丰县庄墓镇","conProvince":"安徽","consCounty":"长丰县","consTown":"庄墓镇","cusUserId":"289249","custype":"3","latitude":"39.91577419704861","longitude":"116.4370703125","shopName":"1134","type":"3","typeText":"待拜访","userName":"1134"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"}]
INFO  [2018-12-28 15:08:23,120] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:08:23,120] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230616","custype":"3","shopName":"尒XO580736","type":"3","typeText":"待拜访","userName":"苹果专卖test"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"安徽蚌埠市固镇县","conProvince":"安徽","consCounty":"固镇县","cusUserId":"245177","custype":"3","latitude":"33.316899","longitude":"117.316955","shopName":"ym15955265526","type":"3","typeText":"待拜访","userName":"ym15955265526"},{"conAddress":"安徽合肥市长丰县庄墓镇","conProvince":"安徽","consCounty":"长丰县","consTown":"庄墓镇","cusUserId":"289249","custype":"3","latitude":"39.91577419704861","longitude":"116.4370703125","shopName":"1134","type":"3","typeText":"待拜访","userName":"1134"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"}]
INFO  [2018-12-28 15:08:23,121] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:08:23,123] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230616","custype":"3","shopName":"尒XO580736","type":"3","typeText":"待拜访","userName":"苹果专卖test"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"安徽蚌埠市固镇县","conProvince":"安徽","consCounty":"固镇县","cusUserId":"245177","custype":"3","latitude":"33.316899","longitude":"117.316955","shopName":"ym15955265526","type":"3","typeText":"待拜访","userName":"ym15955265526"},{"conAddress":"安徽合肥市长丰县庄墓镇","conProvince":"安徽","consCounty":"长丰县","consTown":"庄墓镇","cusUserId":"289249","custype":"3","latitude":"39.91577419704861","longitude":"116.4370703125","shopName":"1134","type":"3","typeText":"待拜访","userName":"1134"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"}]
INFO  [2018-12-28 15:08:23,123] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:08:23,123] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[{"conAddress":"北京北京市海淀区永定路街道办事处专营店","conProvince":"北京","consCounty":"海淀区","consTown":"永定路街道办事处","cusUserId":"7034540e971c4f2095fdd945135c6b42","custype":"2","latitude":"39.91575","longitude":"116.436964","shopName":"bbbbb无坐标","type":"3","typeText":"待拜访"},{"conAddress":"北京北京市朝阳区朝外街道办事处雅宝路5号","conProvince":"北京","consCounty":"朝阳区","consTown":"朝外街道办事处","cusUserId":"bd69b0aad40144d0b8015da16ba4f1fd","custype":"2","latitude":"39.915943","longitude":"116.437163","shopName":"趣味日","type":"3","typeText":"待拜访"}]
INFO  [2018-12-28 15:08:23,124] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:08:23,125] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[{"conAddress":"北京北京市海淀区永定路街道办事处专营店","conProvince":"北京","consCounty":"海淀区","consTown":"永定路街道办事处","cusUserId":"7034540e971c4f2095fdd945135c6b42","custype":"2","latitude":"39.91575","longitude":"116.436964","shopName":"bbbbb无坐标","type":"3","typeText":"待拜访"},{"conAddress":"北京北京市朝阳区朝外街道办事处雅宝路5号","conProvince":"北京","consCounty":"朝阳区","consTown":"朝外街道办事处","cusUserId":"bd69b0aad40144d0b8015da16ba4f1fd","custype":"2","latitude":"39.915943","longitude":"116.437163","shopName":"趣味日","type":"3","typeText":"待拜访"}]
INFO  [2018-12-28 15:08:23,126] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:08:23,126] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[{"conAddress":"北京北京市海淀区永定路街道办事处专营店","conProvince":"北京","consCounty":"海淀区","consTown":"永定路街道办事处","cusUserId":"7034540e971c4f2095fdd945135c6b42","custype":"2","latitude":"39.91575","longitude":"116.436964","shopName":"bbbbb无坐标","type":"3","typeText":"待拜访"},{"conAddress":"北京北京市朝阳区朝外街道办事处雅宝路5号","conProvince":"北京","consCounty":"朝阳区","consTown":"朝外街道办事处","cusUserId":"bd69b0aad40144d0b8015da16ba4f1fd","custype":"2","latitude":"39.915943","longitude":"116.437163","shopName":"趣味日","type":"3","typeText":"待拜访"}]
INFO  [2018-12-28 15:08:23,126] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:08:23,715] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:08:27,382] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:08:27,884] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:08:27,884] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5517][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:37037<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5517 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5517 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5517 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5517 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5517 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5517 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5517 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5517 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5517 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5517 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 << "Date: Fri, 28 Dec 2018 07:08:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5517 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5517 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5517 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5517 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5517 << Date: Fri, 28 Dec 2018 07:08:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5517 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5517 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5517][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5517][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5517: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5517: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:08:30,342] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:08:33,093] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:08:33,595] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:08:33,596] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:08:37,952  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:08:38,708] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:08:39,210] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:08:39,210] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:08:40,352] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:08:44,342] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:08:44,844] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:08:44,844] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:08:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:08:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:08:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:08:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:08:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:08:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:08:46,613] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:08:46,615] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:08:50,057] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:08:50,359] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:08:50,559] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:08:50,559] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:08:50,647] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:08:50,647] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:08:50,677] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:08:50,678] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:08:50,781] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230616","custype":"3","shopName":"尒XO580736","type":"3","typeText":"待拜访","userName":"苹果专卖test"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"安徽蚌埠市固镇县","conProvince":"安徽","consCounty":"固镇县","cusUserId":"245177","custype":"3","latitude":"33.316899","longitude":"117.316955","shopName":"ym15955265526","type":"3","typeText":"待拜访","userName":"ym15955265526"},{"conAddress":"安徽合肥市长丰县庄墓镇","conProvince":"安徽","consCounty":"长丰县","consTown":"庄墓镇","cusUserId":"289249","custype":"3","latitude":"39.91577419704861","longitude":"116.4370703125","shopName":"1134","type":"3","typeText":"待拜访","userName":"1134"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"}]
INFO  [2018-12-28 15:08:50,781] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:08:50,781] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230616","custype":"3","shopName":"尒XO580736","type":"3","typeText":"待拜访","userName":"苹果专卖test"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"安徽蚌埠市固镇县","conProvince":"安徽","consCounty":"固镇县","cusUserId":"245177","custype":"3","latitude":"33.316899","longitude":"117.316955","shopName":"ym15955265526","type":"3","typeText":"待拜访","userName":"ym15955265526"},{"conAddress":"安徽合肥市长丰县庄墓镇","conProvince":"安徽","consCounty":"长丰县","consTown":"庄墓镇","cusUserId":"289249","custype":"3","latitude":"39.91577419704861","longitude":"116.4370703125","shopName":"1134","type":"3","typeText":"待拜访","userName":"1134"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"}]
INFO  [2018-12-28 15:08:50,782] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:08:50,783] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[{"conAddress":"北京北京市海淀区永定路街道办事处专营店","conProvince":"北京","consCounty":"海淀区","consTown":"永定路街道办事处","cusUserId":"7034540e971c4f2095fdd945135c6b42","custype":"2","latitude":"39.91575","longitude":"116.436964","shopName":"bbbbb无坐标","type":"3","typeText":"待拜访"},{"conAddress":"北京北京市朝阳区朝外街道办事处雅宝路5号","conProvince":"北京","consCounty":"朝阳区","consTown":"朝外街道办事处","cusUserId":"bd69b0aad40144d0b8015da16ba4f1fd","custype":"2","latitude":"39.915943","longitude":"116.437163","shopName":"趣味日","type":"3","typeText":"待拜访"}]
INFO  [2018-12-28 15:08:50,783] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:08:50,785] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[{"conAddress":"北京北京市海淀区永定路街道办事处专营店","conProvince":"北京","consCounty":"海淀区","consTown":"永定路街道办事处","cusUserId":"7034540e971c4f2095fdd945135c6b42","custype":"2","latitude":"39.91575","longitude":"116.436964","shopName":"bbbbb无坐标","type":"3","typeText":"待拜访"},{"conAddress":"北京北京市朝阳区朝外街道办事处雅宝路5号","conProvince":"北京","consCounty":"朝阳区","consTown":"朝外街道办事处","cusUserId":"bd69b0aad40144d0b8015da16ba4f1fd","custype":"2","latitude":"39.915943","longitude":"116.437163","shopName":"趣味日","type":"3","typeText":"待拜访"}]
INFO  [2018-12-28 15:08:50,785] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:08:53,725] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:08:55,676] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:08:56,178] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:08:56,178] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5518][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:42777<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5518 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5518 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5518 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5518 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5518 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5518 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5518 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5518 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5518 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5518 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 << "Date: Fri, 28 Dec 2018 07:08:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5518 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5518 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5518 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5518 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5518 << Date: Fri, 28 Dec 2018 07:08:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5518 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5518 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5518][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5518][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5518: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5518: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:08:59,522] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:08:59,528] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:09:00,369] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:09:01,198] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:09:01,700] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:09:01,700] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:09:05,962] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO  [2018-12-28 15:09:06,912] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:09:07,414] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:09:07,414] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:09:07,962  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:09:10,377] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:09:12,525] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:09:13,027] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:09:13,027] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:09:18,240] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:09:18,742] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:09:18,742] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:09:20,384] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:09:23,741] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:09:23,873] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:09:24,375] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:09:24,375] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5519][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:48509<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5519 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5519 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5519 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5519 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5519 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5519 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5519 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5519 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5519 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5519 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 << "Date: Fri, 28 Dec 2018 07:09:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5519 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5519 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5519 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5519 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5519 << Date: Fri, 28 Dec 2018 07:09:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5519 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5519 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5519][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5519][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5519: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5519: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:09:29,596] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:09:30,098] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:09:30,099] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:09:30,391] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:09:35,210] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:09:35,712] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:09:35,712] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:09:37,972  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:09:40,395] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:09:40,823] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:09:41,325] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:09:41,325] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:09:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:09:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:09:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:09:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:09:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:09:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:09:46,568] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:09:46,615] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:09:46,618] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:09:47,070] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:09:47,070] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:09:50,405] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:09:52,180] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:09:52,682] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:09:52,682] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:09:53,751] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:09:57,896] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:09:58,398] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:09:58,399] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5520][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:54245<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5520 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5520 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5520 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5520 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5520 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5520 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5520 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5520 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5520 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5520 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 << "Date: Fri, 28 Dec 2018 07:09:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 << "26[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5520 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5520 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5520 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5520 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5520 << Date: Fri, 28 Dec 2018 07:09:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5520 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5520 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5520][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5520][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5520: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5520: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:09:59,528] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:09:59,530] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:10:00,416] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:10:03,409] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:10:03,911] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:10:03,911] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:10:05,963] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:10:07,983  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:10:09,024] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:10:09,526] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:10:09,526] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:10:10,424] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:10:14,740] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:10:15,242] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:10:15,243] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:10:18,317] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis begin.
INFO  [2018-12-28 15:10:18,319] cn.ihdou.common.service.impl.CommonProcessServiceImpl - 登录放入redis的信息：key:TLUser:d73ca7b6c6c34a59b23ab168217f8e9f&value:{"cityId":"null","cityName":"null","countyId":"null","countyName":"null","loginIp":"172.21.10.7","provinceId":"null","provinceName":"null","userName":""}
INFO  [2018-12-28 15:10:18,405] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis end.
2018-12-28 15:10:18,971 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-29] (BaseJdbcLogger.java:139) - ==>  Preparing: with order_cart_num as ( select nvl(sum(cd.product_num),0) product_num from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' where ca.customer_id = ? ) select nvl(sum(product_num),0) from order_cart_num 
2018-12-28 15:10:18,972 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-29] (BaseJdbcLogger.java:139) - ==> Parameters: (String)
2018-12-28 15:10:18,973 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-29] (BaseJdbcLogger.java:139) - <==      Total: 1
INFO  [2018-12-28 15:10:19,030] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis begin.
INFO  [2018-12-28 15:10:19,030] cn.ihdou.common.service.impl.CommonProcessServiceImpl - 登录放入redis的信息：key:TLUser:d73ca7b6c6c34a59b23ab168217f8e9f&value:{"cityId":"null","cityName":"null","countyId":"null","countyName":"null","loginIp":"172.21.10.7","provinceId":"null","provinceName":"null","userName":""}
INFO  [2018-12-28 15:10:19,069] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis end.
DEBUG [2018-12-28 15:10:20,433] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:10:21,216] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:10:21,718] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:10:21,718] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:10:23,777] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:10:27,246] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:10:27,474] cn.ihdou.ihdoumail.member.dao.impl.UserLoginDaoImpl - 根据用户名获取用户登陆信息：select * from userLoginInfo where userName=?
DEBUG [2018-12-28 15:10:27,479] cn.ihdou.ihdoumail.member.dao.impl.UserLoginDaoImpl - 根据用户名获取用户登陆信息：select * from users u where u.mobile1= ?
DEBUG [2018-12-28 15:10:27,489] cn.ihdou.ihdoumail.member.dao.impl.UserLoginDaoImpl - 根据用户id获取供应商信息：select id,id supply_id,area_id,province_id,city_id,user_id,introduction ,name,jc,regcode,corporation,corp_code,taxcode,tel,corpcard_pic,license_pic,tax_pic,organ_pic,pri_name,pri_tel,pri_sex,pri_mail,pri_addr,pri_position,supply_addr,supply_rank,supply_type,supply_cred,account_status,supply_status,remarks,PRI_MOBILE,MOBILE,SEX,deliver_type,supply_source from supply where del_flag='1' and user_id=? 
INFO  [2018-12-28 15:10:27,494] cn.ihdou.common.service.impl.AreaMgrServiceImpl - areaId:629274
INFO  [2018-12-28 15:10:27,496] cn.ihdou.common.dao.impl.AreaMgrDaoImpl - getPilotAreaId&sql:select area_id from pilot_area where del_flag='1'
INFO  [2018-12-28 15:10:27,498] cn.ihdou.common.dao.impl.AreaMgrDaoImpl - getAllAreaIdByAreaId&sql:SELECT ai.areaid, ai.parentid, ai.areaname FROM areainfo ai WHERE ai.status='1' START WITH ai.areaid='3101' CONNECT BY prior ai.areaid=ai.parentid
INFO  [2018-12-28 15:10:27,507] cn.ihdou.common.dao.impl.AreaMgrDaoImpl - getAllAreaIdByAreaId&sql:SELECT ai.areaid, ai.parentid, ai.areaname FROM areainfo ai WHERE ai.status='1' START WITH ai.areaid='3586' CONNECT BY prior ai.areaid=ai.parentid
DEBUG [2018-12-28 15:10:27,521] cn.ihdou.ihdoumail.member.dao.impl.UserLoginDaoImpl - 更新用户登录信息：insert into USERLOGINSTATUS(ID,USERID,LOGIP,LOGTIME,ISAPP,USERSOURCE)values(SEQ_USERLOGINSTATUS_KEY.NEXTVAL,?,?,sysdate,?,?)
INFO  [2018-12-28 15:10:27,524] cn.ihdou.receipt.service.impl.ReceptServiceImpl - getReceptInfoByProCityID begin
INFO  [2018-12-28 15:10:27,526] cn.ihdou.receipt.service.impl.ReceptServiceImpl - receptDao getReceptInfoByProCityID begin
INFO  [2018-12-28 15:10:27,531] cn.ihdou.receipt.service.impl.ReceptServiceImpl - receptDao getReceptInfoByProCityID end
INFO  [2018-12-28 15:10:27,536] cn.ihdou.common.service.impl.AreaMgrServiceImpl - 区域id:[3586,3721,629274]
INFO  [2018-12-28 15:10:27,537] cn.ihdou.common.dao.impl.AreaMgrDaoImpl - 区域id批量转化名字&sql：select areaname from areainfo where  areaid in('3586' ,'3721' ,'629274' ) order by arealevel
INFO  [2018-12-28 15:10:27,538] cn.ihdou.common.service.impl.AreaMgrServiceImpl - 区域id批量转化name结果集：["香港","香港特别行政区","九龙城"]
INFO  [2018-12-28 15:10:27,539] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis begin.
INFO  [2018-12-28 15:10:27,540] cn.ihdou.common.service.impl.CommonProcessServiceImpl - 登录放入redis的信息：key:TLUser:7e9992d9b12d4064b2d74fe53dcaf530&value:{"cityId":3721,"cityName":"香港特别行政区","countyId":629274,"countyName":"九龙城","loginIp":"172.21.10.7","mobile":"13051412345","provinceId":3586,"provinceName":"香港","userId":259800,"userName":"香港天联供货商"}
INFO  [2018-12-28 15:10:27,591] cn.ihdou.common.service.impl.CommonProcessServiceImpl - CommonProcessServiceImpl addInfoInRedis end.
INFO  [2018-12-28 15:10:27,748] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:10:27,749] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5521][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:60041<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5521 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5521 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5521 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5521 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5521 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5521 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5521 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5521 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5521 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5521 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 << "Date: Fri, 28 Dec 2018 07:10:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5521 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5521 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5521 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5521 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5521 << Date: Fri, 28 Dec 2018 07:10:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5521 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5521 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5521][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5521][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5521: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5521: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:10:30,444] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 2018-12-28 15:10:31,077 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-30] (BaseJdbcLogger.java:139) - ==>  Preparing: with order_cart_num as ( select nvl(sum(cd.product_num),0) product_num from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' where ca.customer_id = ? ) select nvl(sum(product_num),0) from order_cart_num 
2018-12-28 15:10:31,078 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-30] (BaseJdbcLogger.java:139) - ==> Parameters: 259800(String)
2018-12-28 15:10:31,079 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-30] (BaseJdbcLogger.java:139) - <==      Total: 1
DEBUG [2018-12-28 15:10:31,108] cn.ihdou.ihdoumail.member.dao.impl.MessageRemindDaoImpl - 到提醒时间的消息数: select count(*) from message_info0 t where t.to_user_id = '259800' and t.message_type = 11 and t.message_status = '01' and t.read_status = '01' and t.del_flag = '1' and t.send_time <= to_date(to_char(sysdate, 'yyyy-mm-dd HH24:MI:ss'), 'yyyy-mm-dd HH24:MI:ss') and exists (select 1 from SECKILL_MAIN skm inner join SECKILL_DETAIL sd on sd.pid = skm.id and sd.del_flag = '1' where skm.status = '0' and skm.check_status = '2' and skm.del_flag = '1' and END_DATETIME > sysdate and sd.id = t.detail_id)
INFO  [2018-12-28 15:10:33,281] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:10:33,783] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:10:33,784] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:10:34,286 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-31] (BaseJdbcLogger.java:139) - ==>  Preparing: with nums as( select oi.id, oi.order_status, oi.ship_status,oi.is_goods_prepared,oi.goods_type ,s.deliver_type from order_info oi inner join order_detail0 od0 on od0.order_id = oi.id and oi.del_flag = 1 inner join supply s on s.user_id = od0.supply_user_id and od0.del_flag = 1 where od0.supply_user_id = ? and (oi.order_type = 'TL' or oi.order_type = 'MT') group by oi.id, oi.order_status, oi.ship_status,oi.is_goods_prepared ,oi.goods_type ,s.deliver_type ) select nvl(sum(case when oi.ship_status = '04'and oi.goods_type = '01' and oi.is_goods_prepared = '0' then 1 else 0 end ),0) num1, nvl(sum(case when oi.ship_status = '04'and oi.goods_type = '01' and oi.is_goods_prepared = '1' then 1 else 0 end ),0) num2, nvl(sum(case when oi.ship_status = '01'and oi.goods_type = '01' and oi.deliver_type in ('04','07') then 1 else 0 end ),0) num3, nvl(sum(case when oi.ship_status = '01'and oi.goods_type = '02' then 1 else 0 end ),0) num4 from nums oi 
2018-12-28 15:10:34,287 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-31] (BaseJdbcLogger.java:139) - ==> Parameters: 259800(BigDecimal)
2018-12-28 15:10:34,339 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-31] (BaseJdbcLogger.java:139) - <==      Total: 1
INFO  [2018-12-28 15:10:34,397] cn.ihdou.supplygrade.service.impl.SupplierScoreServiceImpl - getMonthScoreBySupplyId START...
INFO  [2018-12-28 15:10:34,397] cn.ihdou.supplygrade.service.impl.SupplierScoreServiceImpl - supplyId = 13981
DEBUG [2018-12-28 15:10:34,398] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:10:34,398] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b67b22c] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:10:34,432] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@2d13c6b0] will not be managed by Spring
DEBUG [2018-12-28 15:10:34,432] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: SELECT msd.score_month scoreMonth, msd.supply_userid supplyUserid, msd.supply_id supplyId, round(msd.total_score*10,0) totalScore, IF (msd.abundance_target_weight=0.0,ROUND(msd.abundance_target_weight * msd.abundance_score,1), msd.abundance_score) abundanceScore, IF (msd.sales_target_weight=0.0,ROUND(msd.sales_target_weight * msd.sales_score,1), msd.sales_score) salesScore, IF (msd.service_target_weight=0.0,ROUND(msd.service_target_weight * msd.service_score,1), msd.service_score) serviceScore, IF (msd.qualified_target_weight=0.0,ROUND(msd.qualified_target_weight * msd.qualified_score,1), msd.qualified_score) qualifiedScore, IF (msd.stockup_score=0.0,ROUND(msd.stockup_target_weight * msd.stockup_score,1), msd.stockup_score) stockupScore FROM month_score_detail msd INNER JOIN month_score_manage msm ON msd.score_month = msm.score_month AND msm.score_status='0' WHERE msd.supply_id = ? AND msd.score_month >= DATE_FORMAT(SUBDATE(CURDATE(), INTERVAL 2 MONTH), '%Y-%m') AND msd.score_month < DATE_FORMAT(CURDATE(), '%Y-%m') ORDER BY msd.score_month DESC 
DEBUG [2018-12-28 15:10:34,437] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 13981(String)
DEBUG [2018-12-28 15:10:34,439] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 0
DEBUG [2018-12-28 15:10:34,440] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b67b22c]
INFO  [2018-12-28 15:10:34,440] cn.ihdou.supplygrade.service.impl.SupplierScoreServiceImpl - ls = []
INFO  [2018-12-28 15:10:34,476] cn.ihdou.supplygrade.service.impl.SupplierScoreServiceImpl - vo = {"freezestatus":0}
INFO  [2018-12-28 15:10:34,476] cn.ihdou.supplygrade.service.impl.SupplierScoreServiceImpl - getMonthScoreBySupplyId END...
2018-12-28 15:10:34,939 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-32] (BaseJdbcLogger.java:139) - ==>  Preparing: with nums as( select oi.id, oi.order_status, oi.ship_status,oi.is_goods_prepared,oi.goods_type from order_info oi inner join order_detail0 od0 on od0.order_id = oi.id and oi.del_flag = 1 and od0.del_flag = 1 where od0.supply_user_id = ? and (oi.order_type = 'TL' or oi.order_type = 'MT') group by oi.id, oi.order_status, oi.ship_status,oi.is_goods_prepared ,oi.goods_type) select nvl(sum(case when oi.ship_status = '01'and oi.goods_type = '01' then 1 else 0 end ),0) num1, nvl(sum(case when oi.ship_status = '02'and oi.goods_type = '01' then 1 else 0 end ),0) num2, nvl(sum(case when oi.order_status = '02' and oi.ship_status = '03'and oi.goods_type = '01' then 1 else 0 end ),0) num3, nvl(sum(case when oi.order_status = '06'and oi.goods_type = '01' then 1 else 0 end ),0) num4, nvl(sum(case when oi.order_status = '01'and oi.goods_type = '01' then 1 else 0 end ),0) num5, nvl(sum(case when oi.order_status = '05'and oi.goods_type = '01' then 1 else 0 end ),0) num6, nvl(sum(case when oi.ship_status = '04'and oi.goods_type = '01' and oi.is_goods_prepared = '0' then 1 else 0 end ),0) num7, nvl(sum(case when oi.ship_status = '04'and oi.goods_type = '01' and oi.is_goods_prepared = '1' then 1 else 0 end ),0) num8, nvl(sum(case when oi.ship_status = '01'and oi.goods_type = '01' and oi.is_goods_prepared = '0' then 1 else 0 end ),0) num10, nvl(sum(case when oi.ship_status = '01'and oi.goods_type = '01' and oi.is_goods_prepared = '1' then 1 else 0 end ),0) num11, nvl(sum(case when oi.ship_status = '01'and oi.goods_type = '02' then 1 else 0 end ),0) num12, count(1) num9 from nums oi 
2018-12-28 15:10:34,940 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-32] (BaseJdbcLogger.java:139) - ==> Parameters: 259800(String)
2018-12-28 15:10:34,968 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-32] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:10:35,600 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-33] (BaseJdbcLogger.java:139) - ==>  Preparing: with order_cart_num as ( select nvl(sum(cd.product_num),0) product_num from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' where ca.customer_id = ? ) select nvl(sum(product_num),0) from order_cart_num 
2018-12-28 15:10:35,600 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-33] (BaseJdbcLogger.java:139) - ==> Parameters: 259800(String)
2018-12-28 15:10:35,602 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-33] (BaseJdbcLogger.java:139) - <==      Total: 1
DEBUG [2018-12-28 15:10:35,644] cn.ihdou.ihdoumail.member.dao.impl.MessageRemindDaoImpl - 到提醒时间的消息数: select count(*) from message_info0 t where t.to_user_id = '259800' and t.message_type = 11 and t.message_status = '01' and t.read_status = '01' and t.del_flag = '1' and t.send_time <= to_date(to_char(sysdate, 'yyyy-mm-dd HH24:MI:ss'), 'yyyy-mm-dd HH24:MI:ss') and exists (select 1 from SECKILL_MAIN skm inner join SECKILL_DETAIL sd on sd.pid = skm.id and sd.del_flag = '1' where skm.status = '0' and skm.check_status = '2' and skm.del_flag = '1' and END_DATETIME > sysdate and sd.id = t.detail_id)
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/attributeManage/getAttribute/09
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/buyerInformation/list
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/area/getProvinceByAuth/
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/attributeManage/getAttribute/10
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - AttributeManageController getAttribute start...
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - type : [10]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.ContactsInfoApiServiceImpl - ContactsInfoApiServiceImpl listContactsInfoByPage begin.
INFO : com.ihdou.api.member.controller.crm.common.AreaComController - AreaComController getProvinceByAuth begin.
INFO : com.ihdou.api.member.controller.crm.common.AreaComController - loginId:cfbc0d15fc4840c3ac7d73716f063cd2
INFO : com.ihdou.api.member.service.impl.crm.common.AreaComServiceImpl - ..getProvinceByAuth begin.
INFO  [2018-12-28 15:10:37,448] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - select * from crm_attribute where del_flag=1 order by des_type asc,the_order asc
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - AttributeManageController getAttribute start...
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - type : [09]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.ContactsInfoApiServiceImpl - ContactsInfoApiServiceImpl listContactsInfoByPage begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - BuyerInforController getBuyerInformationList begin.
INFO  [2018-12-28 15:10:37,453] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - select * from crm_attribute where del_flag=1 order by des_type asc,the_order asc
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - vo:{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"","start_date":"","userName":""}
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInformationServiceImpl listBuyerInfoForPage START...
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - vo:[{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"","start_date":"","userName":""}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync begin.
INFO  [2018-12-28 15:10:37,459] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync begin.
INFO  [2018-12-28 15:10:37,459] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 客户列表搜索筛选项BuyerInformationConditionVo：{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"isAdmin":"1","loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"","start_date":"","userName":""}
INFO  [2018-12-28 15:10:37,459] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页信息pageVo:{"centerPage":0,"endPage":0,"inLastPageInteral":false,"lastPage":0,"messageForPage":10,"nextPage":0,"pageEndCount":0,"pageInterval":0,"pageIntervalNow":0,"pageNow":1,"pageStartCount":0,"startPage":0,"totalCount":0,"totalPage":0}
INFO  [2018-12-28 15:10:37,460] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数:select count(*) from ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  order by addtime desc ) 
INFO  [2018-12-28 15:10:37,460] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录: SELECT * FROM (SELECT ROWNUM row_, t.* FROM ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  order by addtime desc ) t ) WHERE row_ <=10 AND row_ >=1
DEBUG [2018-12-28 15:10:37,475] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - list:[{"des_detail_id":"1","des_detail_name":"中国联通","des_name":"合作运营商","des_type":"01","effective":"1","id":1,"the_order":1},{"des_detail_id":"2","des_detail_name":"中国移动","des_name":"合作运营商","des_type":"01","effective":"1","id":2,"the_order":2},{"des_detail_id":"3","des_detail_name":"中国电信","des_name":"合作运营商","des_type":"01","effective":"1","id":3,"the_order":3},{"des_detail_id":"4","des_detail_name":"无合作","des_name":"合作运营商","des_type":"01","effective":"1","id":4,"the_order":4},{"des_detail_id":"10","des_detail_name":"手机","des_name":"主营品类","des_type":"02","effective":"1","id":5,"the_order":1},{"des_detail_id":"20","des_detail_name":"平板","des_name":"主营品类","des_type":"02","effective":"1","id":6,"the_order":2},{"des_detail_id":"30","des_detail_name":"智能设备","des_name":"主营品类","des_type":"02","effective":"1","id":7,"the_order":3},{"des_detail_id":"40","des_detail_name":"手机配件","des_name":"主营品类","des_type":"02","effective":"1","id":8,"the_order":4},{"des_detail_id":"98","des_detail_name":"都涉及","des_name":"主营品类","des_type":"02","effective":"1","id":217,"the_order":98},{"des_detail_id":"99","des_detail_name":"其他","des_name":"主营品类","des_type":"02","effective":"1","id":218,"the_order":99},{"des_detail_id":"01","des_detail_name":"华为","des_name":"主营品牌","des_type":"03","effective":"1","id":9,"the_order":1},{"des_detail_id":"02","des_detail_name":"三星","des_name":"主营品牌","des_type":"03","effective":"1","id":10,"the_order":2},{"des_detail_id":"03","des_detail_name":"苹果","des_name":"主营品牌","des_type":"03","effective":"1","id":11,"the_order":3},{"des_detail_id":"04","des_detail_name":"小米","des_name":"主营品牌","des_type":"03","effective":"1","id":12,"the_order":4},{"des_detail_id":"05","des_detail_name":"酷派","des_name":"主营品牌","des_type":"03","effective":"1","id":13,"the_order":5},{"des_detail_id":"06","des_detail_name":"瓦戈","des_name":"主营品牌","des_type":"03","effective":"1","id":14,"the_order":6},{"des_detail_id":"07","des_detail_name":"oppo","des_name":"主营品牌","des_type":"03","effective":"1","id":219,"the_order":7},{"des_detail_id":"08","des_detail_name":"步步高","des_name":"主营品牌","des_type":"03","effective":"1","id":220,"the_order":8},{"des_detail_id":"09","des_detail_name":"魅族","des_name":"主营品牌","des_type":"03","effective":"1","id":221,"the_order":9},{"des_detail_id":"10","des_detail_name":"联想","des_name":"主营品牌","des_type":"03","effective":"1","id":222,"the_order":10},{"des_detail_id":"11","des_detail_name":"vivo","des_name":"主营品牌","des_type":"03","effective":"1","id":223,"the_order":11},{"des_detail_id":"12","des_detail_name":"金立","des_name":"主营品牌","des_type":"03","effective":"1","id":224,"the_order":12},{"des_detail_id":"13","des_detail_name":"中兴","des_name":"主营品牌","des_type":"03","effective":"1","id":225,"the_order":13},{"des_detail_id":"14","des_detail_name":"小辣椒","des_name":"主营品牌","des_type":"03","effective":"1","id":226,"the_order":14},{"des_detail_id":"15","des_detail_name":"诺基亚","des_name":"主营品牌","des_type":"03","effective":"1","id":227,"the_order":15},{"des_detail_id":"16","des_detail_name":"万利达","des_name":"主营品牌","des_type":"03","effective":"1","id":228,"the_order":16},{"des_detail_id":"17","des_detail_name":"康佳","des_name":"主营品牌","des_type":"03","effective":"1","id":229,"the_order":17},{"des_detail_id":"18","des_detail_name":"朵唯","des_name":"主营品牌","des_type":"03","effective":"1","id":230,"the_order":18},{"des_detail_id":"19","des_detail_name":"爱我","des_name":"主营品牌","des_type":"03","effective":"1","id":231,"the_order":19},{"des_detail_id":"20","des_detail_name":"长虹","des_name":"主营品牌","des_type":"03","effective":"1","id":232,"the_order":20},{"des_detail_id":"21","des_detail_name":"海信","des_name":"主营品牌","des_type":"03","effective":"1","id":233,"the_order":21},{"des_detail_id":"22","des_detail_name":"乐视","des_name":"主营品牌","des_type":"03","effective":"1","id":238,"the_order":22},{"des_detail_id":"23","des_detail_name":"中诺","des_name":"主营品牌","des_type":"03","effective":"1","id":239,"the_order":23},{"des_detail_id":"24","des_detail_name":"青橙","des_name":"主营品牌","des_type":"03","effective":"1","id":240,"the_order":24},{"des_detail_id":"25","des_detail_name":"努比亚","des_name":"主营品牌","des_type":"03","effective":"1","id":241,"the_order":25},{"des_detail_id":"26","des_detail_name":"TCL","des_name":"主营品牌","des_type":"03","effective":"1","id":242,"the_order":26},{"des_detail_id":"27","des_detail_name":"百利丰","des_name":"主营品牌","des_type":"03","effective":"1","id":243,"the_order":27},{"des_detail_id":"28","des_detail_name":"亿通","des_name":"主营品牌","des_type":"03","effective":"1","id":244,"the_order":28},{"des_detail_id":"29","des_detail_name":"波导","des_name":"主营品牌","des_type":"03","effective":"1","id":245,"the_order":29},{"des_detail_id":"30","des_detail_name":"优思","des_name":"主营品牌","des_type":"03","effective":"1","id":246,"the_order":30},{"des_detail_id":"01","des_detail_name":"黄豆E家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":15,"the_order":1},{"des_detail_id":"02","des_detail_name":"51订货网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":16,"the_order":2},{"des_detail_id":"03","des_detail_name":"易直供","des_name":"主要进货渠道","des_type":"04","effective":"1","id":17,"the_order":3},{"des_detail_id":"04","des_detail_name":"通讯市场","des_name":"主要进货渠道","des_type":"04","effective":"1","id":18,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"主要进货渠道","des_type":"04","effective":"1","id":19,"the_order":5},{"des_detail_id":"06","des_detail_name":"终端公司","des_name":"主要进货渠道","des_type":"04","effective":"1","id":234,"the_order":6},{"des_detail_id":"07","des_detail_name":"厂家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":235,"the_order":7},{"des_detail_id":"08","des_detail_name":"天音通信","des_name":"主要进货渠道","des_type":"04","effective":"1","id":236,"the_order":8},{"des_detail_id":"09","des_detail_name":"爱施德","des_name":"主要进货渠道","des_type":"04","effective":"1","id":237,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆侠","des_name":"主要进货渠道","des_type":"04","effective":"1","id":247,"the_order":10},{"des_detail_id":"11","des_detail_name":"3G手机网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":248,"the_order":11},{"des_detail_id":"12","des_detail_name":"地包商","des_name":"主要进货渠道","des_type":"04","effective":"1","id":249,"the_order":12},{"des_detail_id":"13","des_detail_name":"1号机","des_name":"主要进货渠道","des_type":"04","effective":"1","id":250,"the_order":13},{"des_detail_id":"14","des_detail_name":"沃易购","des_name":"主要进货渠道","des_type":"04","effective":"1","id":251,"the_order":14},{"des_detail_id":"15","des_detail_name":"京东","des_name":"主要进货渠道","des_type":"04","effective":"1","id":252,"the_order":15},{"des_detail_id":"16","des_detail_name":"淘宝","des_name":"主要进货渠道","des_type":"04","effective":"1","id":253,"the_order":16},{"des_detail_id":"17","des_detail_name":"厂家官网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":254,"the_order":17},{"des_detail_id":"18","des_detail_name":"易道网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":255,"the_order":18},{"des_detail_id":"19","des_detail_name":"开店通","des_name":"主要进货渠道","des_type":"04","effective":"1","id":256,"the_order":19},{"des_detail_id":"20","des_detail_name":"九牛网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":257,"the_order":20},{"des_detail_id":"11","des_detail_name":"黄豆E家","des_name":"合作网站","des_type":"05","effective":"1","id":20,"the_order":1},{"des_detail_id":"12","des_detail_name":"51订货网","des_name":"合作网站","des_type":"05","effective":"1","id":21,"the_order":2},{"des_detail_id":"13","des_detail_name":"易直供","des_name":"合作网站","des_type":"05","effective":"1","id":22,"the_order":3},{"des_detail_id":"14","des_detail_name":"淘宝","des_name":"合作网站","des_type":"05","effective":"1","id":23,"the_order":4},{"des_detail_id":"15","des_detail_name":"其他","des_name":"合作网站","des_type":"05","effective":"1","id":24,"the_order":5},{"des_detail_id":"01","des_detail_name":"学校","des_name":"周边环境","des_type":"06","effective":"1","id":25,"the_order":1},{"des_detail_id":"02","des_detail_name":"商场","des_name":"周边环境","des_type":"06","effective":"1","id":26,"the_order":2},{"des_detail_id":"03","des_detail_name":"政府机构","des_name":"周边环境","des_type":"06","effective":"1","id":27,"the_order":3},{"des_detail_id":"04","des_detail_name":"公园","des_name":"周边环境","des_type":"06","effective":"1","id":28,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"周边环境","des_type":"06","effective":"1","id":29,"the_order":5},{"des_detail_id":"01","des_detail_name":"S","des_name":"公司规模性质","des_type":"07","effective":"1","id":30,"the_order":1},{"des_detail_id":"02","des_detail_name":"A","des_name":"公司规模性质","des_type":"07","effective":"1","id":31,"the_order":2},{"des_detail_id":"03","des_detail_name":"B","des_name":"公司规模性质","des_type":"07","effective":"1","id":32,"the_order":3},{"des_detail_id":"04","des_detail_name":"C","des_name":"公司规模性质","des_type":"07","effective":"1","id":33,"the_order":4},{"des_detail_id":"05","des_detail_name":"D","des_name":"公司规模性质","des_type":"07","effective":"1","id":34,"the_order":5},{"des_detail_id":"01","des_detail_name":"法人","des_name":"岗位","des_type":"08","effective":"1","id":35,"the_order":1},{"des_detail_id":"02","des_detail_name":"采购负责人","des_name":"岗位","des_type":"08","effective":"1","id":36,"the_order":2},{"des_detail_id":"03","des_detail_name":"销售负责人","des_name":"岗位","des_type":"08","effective":"1","id":37,"the_order":3},{"des_detail_id":"04","des_detail_name":"店长","des_name":"岗位","des_type":"08","effective":"1","id":38,"the_order":4},{"des_detail_id":"01","des_detail_name":"黄豆E家WEB","des_name":"注册来源","des_type":"09","effective":"1","id":39,"the_order":1},{"des_detail_id":"02","des_detail_name":"NC","des_name":"注册来源","des_type":"09","effective":"1","id":40,"the_order":2},{"des_detail_id":"03","des_detail_name":"黄豆侠WEB","des_name":"注册来源","des_type":"09","effective":"1","id":41,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆侠微信","des_name":"注册来源","des_type":"09","effective":"1","id":42,"the_order":4},{"des_detail_id":"05","des_detail_name":"黄豆侠APP","des_name":"注册来源","des_type":"09","effective":"1","id":43,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠WAP","des_name":"注册来源","des_type":"09","effective":"1","id":44,"the_order":6},{"des_detail_id":"07","des_detail_name":"黄豆E家微信","des_name":"注册来源","des_type":"09","effective":"1","id":45,"the_order":7},{"des_detail_id":"08","des_detail_name":"黄豆E家APP","des_name":"注册来源","des_type":"09","effective":"1","id":46,"the_order":8},{"des_detail_id":"09","des_detail_name":"黄豆E家QQ营销","des_name":"注册来源","des_type":"09","effective":"1","id":47,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"注册来源","des_type":"09","effective":"1","id":48,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"注册来源","des_type":"09","effective":"1","id":49,"the_order":11},{"des_detail_id":"13","des_detail_name":"黄豆优推","des_name":"注册来源","des_type":"09","effective":"1","id":273,"the_order":13},{"des_detail_id":"12","des_detail_name":"代理人","des_name":"注册来源","des_type":"09","id":10000},{"des_detail_id":"01","des_detail_name":"直供大客户 ","des_name":"买家类别","des_type":"10","effective":"1","id":50,"the_order":1},{"des_detail_id":"02","des_detail_name":"区域规模客户","des_name":"买家类别","des_type":"10","effective":"1","id":51,"the_order":2},{"des_detail_id":"03","des_detail_name":"零售终端客户","des_name":"买家类别","des_type":"10","effective":"1","id":52,"the_order":3},{"des_detail_id":"04","des_detail_name":"县平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":53,"the_order":4},{"des_detail_id":"05","des_detail_name":"省平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":54,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠平台供应商客户","des_name":"买家类别","des_type":"10","effective":"1","id":258,"the_order":6},{"des_detail_id":"99","des_detail_name":"未分配","des_name":"买家类别","des_type":"10","effective":"1","id":55,"the_order":99},{"des_detail_id":"01","des_detail_name":"天音通信","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":56,"the_order":1},{"des_detail_id":"02","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":57,"the_order":2},{"des_detail_id":"03","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":58,"the_order":3},{"des_detail_id":"04","des_detail_name":"国代商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":59,"the_order":4},{"des_detail_id":"05","des_detail_name":"国代分公司","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":60,"the_order":5},{"des_detail_id":"06","des_detail_name":"省包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":61,"the_order":6},{"des_detail_id":"07","des_detail_name":"地包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":62,"the_order":7},{"des_detail_id":"08","des_detail_name":"通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":63,"the_order":8},{"des_detail_id":"09","des_detail_name":"联通平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":64,"the_order":9},{"des_detail_id":"10","des_detail_name":"联通平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":65,"the_order":10},{"des_detail_id":"11","des_detail_name":"移动平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":66,"the_order":11},{"des_detail_id":"12","des_detail_name":"移动平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":67,"the_order":12},{"des_detail_id":"13","des_detail_name":"电信平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":68,"the_order":13},{"des_detail_id":"14","des_detail_name":"电信平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":69,"the_order":14},{"des_detail_id":"16","des_detail_name":"旧模式县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":70,"the_order":16},{"des_detail_id":"17","des_detail_name":"自采自营（入sap）","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":259,"the_order":17},{"des_detail_id":"18","des_detail_name":"旧模式省级通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":260,"the_order":18},{"des_detail_id":"19","des_detail_name":"省平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":261,"the_order":19},{"des_detail_id":"20","des_detail_name":"县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":262,"the_order":20},{"des_detail_id":"21","des_detail_name":"苹果配件销售平台平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":263,"the_order":21},{"des_detail_id":"22","des_detail_name":"黄豆侠平台供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":264,"the_order":22},{"des_detail_id":"1","des_detail_name":"黄豆E家WEB","des_name":"登录来源","des_type":"12","effective":"1","id":71,"the_order":1},{"des_detail_id":"2","des_detail_name":"黄豆侠WEB","des_name":"登录来源","des_type":"12","effective":"1","id":72,"the_order":2},{"des_detail_id":"4","des_detail_name":"黄豆侠微信","des_name":"登录来源","des_type":"12","effective":"1","id":73,"the_order":4},{"des_detail_id":"5","des_detail_name":"黄豆侠APP","des_name":"登录来源","des_type":"12","effective":"1","id":74,"the_order":5},{"des_detail_id":"6","des_detail_name":"黄豆侠WAP","des_name":"登录来源","des_type":"12","effective":"1","id":75,"the_order":6},{"des_detail_id":"7","des_detail_name":"黄豆E家微信","des_name":"登录来源","des_type":"12","effective":"1","id":76,"the_order":7},{"des_detail_id":"8","des_detail_name":"黄豆E家APP","des_name":"登录来源","des_type":"12","effective":"1","id":77,"the_order":8},{"des_detail_id":"9","des_detail_name":"黄豆E家QQ营销","des_name":"登录来源","des_type":"12","effective":"1","id":78,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"登录来源","des_type":"12","effective":"1","id":79,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"登录来源","des_type":"12","effective":"1","id":80,"the_order":11},{"att_manage_id":5,"des_detail_id":"1","des_detail_name":"属性1","des_name":"测试属性3","des_type":"13","effective":"1","id":201,"the_order":1},{"att_manage_id":5,"des_detail_id":"3","des_detail_name":"属性值1","des_name":"测试属性3","des_type":"13","effective":"1","id":203,"the_order":1},{"att_manage_id":5,"des_detail_id":"11","des_detail_name":"aa","des_name":"测试属性3","des_type":"13","effective":"1","id":212,"the_order":1},{"att_manage_id":5,"des_detail_id":"2","des_detail_name":"属性3","des_name":"测试属性3","des_type":"13","effective":"1","id":202,"the_order":2},{"att_manage_id":5,"des_detail_id":"4","des_detail_name":"属性值2","des_name":"测试属性3","des_type":"13","effective":"1","id":204,"the_order":2},{"att_manage_id":5,"des_detail_id":"5","des_detail_name":"属性值3","des_name":"测试属性3","des_type":"13","effective":"1","id":205,"the_order":3},{"att_manage_id":5,"des_detail_id":"6","des_detail_name":"属性值4","des_name":"测试属性3","des_type":"13","effective":"1","id":206,"the_order":4},{"att_manage_id":5,"des_detail_id":"7","des_detail_name":"属性值5","des_name":"测试属性3","des_type":"13","effective":"1","id":207,"the_order":5},{"att_manage_id":5,"des_detail_id":"8","des_detail_name":"属性值6","des_name":"测试属性3","des_type":"13","effective":"1","id":208,"the_order":6},{"att_manage_id":5,"des_detail_id":"9","des_detail_name":"a","des_name":"测试属性3","des_type":"13","effective":"1","id":209},{"att_manage_id":5,"des_detail_id":"10","des_detail_name":"b","des_name":"测试属性3","des_type":"13","effective":"1","id":210},{"att_manage_id":6,"des_name":"fff","des_type":"14","id":211},{"att_manage_id":9,"des_name":"县平台物流","des_type":"17","id":216},{"des_detail_id":"1","des_detail_name":"注册会员","des_name":"会员等级","des_type":"18","id":265,"the_order":1},{"des_detail_id":"2","des_detail_name":"普通会员","des_name":"会员等级","des_type":"18","id":266,"the_order":2},{"des_detail_id":"3","des_detail_name":"铜牌会员","des_name":"会员等级","des_type":"18","id":267,"the_order":3},{"des_detail_id":"4","des_detail_name":"银牌会员","des_name":"会员等级","des_type":"18","id":268,"the_order":4},{"des_detail_id":"5","des_detail_name":"金牌会员","des_name":"会员等级","des_type":"18","id":269,"the_order":5},{"des_detail_id":"6","des_detail_name":"钻石会员","des_name":"会员等级","des_type":"18","id":270,"the_order":6},{"des_detail_id":"01","des_detail_name":"新黄豆侠","des_name":"应用网站","des_type":"19","id":271,"the_order":1},{"des_detail_id":"01","des_detail_name":"后台规则","des_name":"规则发起方","des_type":"20","id":272,"the_order":1},{"des_detail_id":"01","des_detail_name":"CRM后台","des_name":"标签指定渠道","des_type":"21","id":10001,"the_order":1},{"des_detail_id":"02","des_detail_name":"小能IM","des_name":"标签指定渠道","des_type":"21","id":10002,"the_order":2},{"des_detail_id":"03","des_detail_name":"系统自动","des_name":"标签指定渠道","des_type":"21","id":10003,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆优服APP","des_name":"标签指定渠道","des_type":"21","effective":"1","id":666,"the_order":4},{"att_manage_id":34,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintest2","des_type":"23","effective":"1","id":362,"the_order":1},{"att_manage_id":34,"des_detail_id":"2","des_detail_name":"bbb","des_name":"xintest2","des_type":"23","effective":"1","id":363,"the_order":2},{"att_manage_id":35,"des_name":"zhangmx","des_type":"24","id":356},{"att_manage_id":36,"des_name":"是否必填测试","des_type":"25","id":357},{"att_manage_id":38,"des_name":"5553","des_type":"26","id":359},{"att_manage_id":39,"des_name":"54353","des_type":"27","id":360},{"att_manage_id":40,"des_name":"鹅鹅鹅饿饿","des_type":"28","id":361},{"att_manage_id":42,"des_name":"他婷婷婷婷","des_type":"29","id":365},{"des_name":"NodeList","des_type":"3","id":9999,"the_order":3},{"att_manage_id":43,"des_name":"xintest3","des_type":"30","id":366},{"att_manage_id":44,"des_name":"xintest477","des_type":"31","id":367},{"att_manage_id":45,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintes3","des_type":"32","effective":"1","id":394,"remark":"1","the_order":1},{"att_manage_id":46,"des_name":"xintest6","des_type":"33","id":369},{"att_manage_id":47,"des_detail_id":"1","des_detail_name":"aa","des_name":"张明霞","des_type":"34","effective":"1","id":374,"the_order":1},{"att_manage_id":48,"des_name":"yyyy","des_type":"35","id":372},{"att_manage_id":49,"des_name":"张明霞111111","des_type":"36","id":373},{"att_manage_id":50,"des_name":"店铺属性1","des_type":"37","id":375},{"att_manage_id":51,"des_detail_id":"2","des_detail_name":"test1店铺信息","des_name":"多选属性值","des_type":"38","effective":"1","id":405,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"1","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到","des_name":"多选属性值","des_type":"38","effective":"1","id":404,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"3","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到11","des_name":"多选属性值","des_type":"38","effective":"1","id":406,"remark":"22","the_order":22},{"att_manage_id":51,"des_detail_id":"4","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到22","des_name":"多选属性值","des_type":"38","effective":"1","id":407,"remark":"33","the_order":33},{"att_manage_id":52,"des_detail_id":"1","des_detail_name":"维护联系人属性","des_name":"联系人属性","des_type":"39","effective":"1","id":379,"remark":"11","the_order":11},{"att_manage_id":52,"des_detail_id":"2","des_detail_name":"维护联系人属性1","des_name":"联系人属性","des_type":"39","effective":"1","id":380,"remark":"22","the_order":22},{"att_manage_id":53,"des_name":"公司信息属性1","des_type":"40","id":381},{"att_manage_id":54,"des_detail_id":"1","des_detail_name":"属性值1","des_name":"公司信息属性2","des_type":"41","effective":"1","id":384,"remark":"1","the_order":1},{"att_manage_id":54,"des_detail_id":"2","des_detail_name":"属性2","des_name":"公司信息属性2","des_type":"41","effective":"1","id":385,"remark":"2","the_order":2},{"att_manage_id":55,"des_name":"属性输入","des_type":"42","id":386},{"att_manage_id":57,"des_name":"test1公司属性","des_type":"43","id":395},{"att_manage_id":58,"des_name":"test1公司属性2","des_type":"44","id":396},{"att_manage_id":59,"des_detail_id":"1","des_detail_name":"kuck","des_name":"联系人信息test1","des_type":"45","effective":"1","id":409,"remark":"aaa","the_order":2},{"att_manage_id":60,"des_name":"黄豆","des_type":"46","id":410},{"des_name":"NodeList","des_type":"5","id":9998,"the_order":5},{"des_name":"NodeList","des_type":"8","id":9997,"the_order":8},{"att_manage_id":56,"des_detail_id":"1","des_detail_name":"cem","des_name":"xintest7","des_type":"9","effective":"1","id":393,"remark":"1","the_order":1}]
DEBUG [2018-12-28 15:10:37,476] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - list:[{"des_detail_id":"1","des_detail_name":"中国联通","des_name":"合作运营商","des_type":"01","effective":"1","id":1,"the_order":1},{"des_detail_id":"2","des_detail_name":"中国移动","des_name":"合作运营商","des_type":"01","effective":"1","id":2,"the_order":2},{"des_detail_id":"3","des_detail_name":"中国电信","des_name":"合作运营商","des_type":"01","effective":"1","id":3,"the_order":3},{"des_detail_id":"4","des_detail_name":"无合作","des_name":"合作运营商","des_type":"01","effective":"1","id":4,"the_order":4},{"des_detail_id":"10","des_detail_name":"手机","des_name":"主营品类","des_type":"02","effective":"1","id":5,"the_order":1},{"des_detail_id":"20","des_detail_name":"平板","des_name":"主营品类","des_type":"02","effective":"1","id":6,"the_order":2},{"des_detail_id":"30","des_detail_name":"智能设备","des_name":"主营品类","des_type":"02","effective":"1","id":7,"the_order":3},{"des_detail_id":"40","des_detail_name":"手机配件","des_name":"主营品类","des_type":"02","effective":"1","id":8,"the_order":4},{"des_detail_id":"98","des_detail_name":"都涉及","des_name":"主营品类","des_type":"02","effective":"1","id":217,"the_order":98},{"des_detail_id":"99","des_detail_name":"其他","des_name":"主营品类","des_type":"02","effective":"1","id":218,"the_order":99},{"des_detail_id":"01","des_detail_name":"华为","des_name":"主营品牌","des_type":"03","effective":"1","id":9,"the_order":1},{"des_detail_id":"02","des_detail_name":"三星","des_name":"主营品牌","des_type":"03","effective":"1","id":10,"the_order":2},{"des_detail_id":"03","des_detail_name":"苹果","des_name":"主营品牌","des_type":"03","effective":"1","id":11,"the_order":3},{"des_detail_id":"04","des_detail_name":"小米","des_name":"主营品牌","des_type":"03","effective":"1","id":12,"the_order":4},{"des_detail_id":"05","des_detail_name":"酷派","des_name":"主营品牌","des_type":"03","effective":"1","id":13,"the_order":5},{"des_detail_id":"06","des_detail_name":"瓦戈","des_name":"主营品牌","des_type":"03","effective":"1","id":14,"the_order":6},{"des_detail_id":"07","des_detail_name":"oppo","des_name":"主营品牌","des_type":"03","effective":"1","id":219,"the_order":7},{"des_detail_id":"08","des_detail_name":"步步高","des_name":"主营品牌","des_type":"03","effective":"1","id":220,"the_order":8},{"des_detail_id":"09","des_detail_name":"魅族","des_name":"主营品牌","des_type":"03","effective":"1","id":221,"the_order":9},{"des_detail_id":"10","des_detail_name":"联想","des_name":"主营品牌","des_type":"03","effective":"1","id":222,"the_order":10},{"des_detail_id":"11","des_detail_name":"vivo","des_name":"主营品牌","des_type":"03","effective":"1","id":223,"the_order":11},{"des_detail_id":"12","des_detail_name":"金立","des_name":"主营品牌","des_type":"03","effective":"1","id":224,"the_order":12},{"des_detail_id":"13","des_detail_name":"中兴","des_name":"主营品牌","des_type":"03","effective":"1","id":225,"the_order":13},{"des_detail_id":"14","des_detail_name":"小辣椒","des_name":"主营品牌","des_type":"03","effective":"1","id":226,"the_order":14},{"des_detail_id":"15","des_detail_name":"诺基亚","des_name":"主营品牌","des_type":"03","effective":"1","id":227,"the_order":15},{"des_detail_id":"16","des_detail_name":"万利达","des_name":"主营品牌","des_type":"03","effective":"1","id":228,"the_order":16},{"des_detail_id":"17","des_detail_name":"康佳","des_name":"主营品牌","des_type":"03","effective":"1","id":229,"the_order":17},{"des_detail_id":"18","des_detail_name":"朵唯","des_name":"主营品牌","des_type":"03","effective":"1","id":230,"the_order":18},{"des_detail_id":"19","des_detail_name":"爱我","des_name":"主营品牌","des_type":"03","effective":"1","id":231,"the_order":19},{"des_detail_id":"20","des_detail_name":"长虹","des_name":"主营品牌","des_type":"03","effective":"1","id":232,"the_order":20},{"des_detail_id":"21","des_detail_name":"海信","des_name":"主营品牌","des_type":"03","effective":"1","id":233,"the_order":21},{"des_detail_id":"22","des_detail_name":"乐视","des_name":"主营品牌","des_type":"03","effective":"1","id":238,"the_order":22},{"des_detail_id":"23","des_detail_name":"中诺","des_name":"主营品牌","des_type":"03","effective":"1","id":239,"the_order":23},{"des_detail_id":"24","des_detail_name":"青橙","des_name":"主营品牌","des_type":"03","effective":"1","id":240,"the_order":24},{"des_detail_id":"25","des_detail_name":"努比亚","des_name":"主营品牌","des_type":"03","effective":"1","id":241,"the_order":25},{"des_detail_id":"26","des_detail_name":"TCL","des_name":"主营品牌","des_type":"03","effective":"1","id":242,"the_order":26},{"des_detail_id":"27","des_detail_name":"百利丰","des_name":"主营品牌","des_type":"03","effective":"1","id":243,"the_order":27},{"des_detail_id":"28","des_detail_name":"亿通","des_name":"主营品牌","des_type":"03","effective":"1","id":244,"the_order":28},{"des_detail_id":"29","des_detail_name":"波导","des_name":"主营品牌","des_type":"03","effective":"1","id":245,"the_order":29},{"des_detail_id":"30","des_detail_name":"优思","des_name":"主营品牌","des_type":"03","effective":"1","id":246,"the_order":30},{"des_detail_id":"01","des_detail_name":"黄豆E家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":15,"the_order":1},{"des_detail_id":"02","des_detail_name":"51订货网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":16,"the_order":2},{"des_detail_id":"03","des_detail_name":"易直供","des_name":"主要进货渠道","des_type":"04","effective":"1","id":17,"the_order":3},{"des_detail_id":"04","des_detail_name":"通讯市场","des_name":"主要进货渠道","des_type":"04","effective":"1","id":18,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"主要进货渠道","des_type":"04","effective":"1","id":19,"the_order":5},{"des_detail_id":"06","des_detail_name":"终端公司","des_name":"主要进货渠道","des_type":"04","effective":"1","id":234,"the_order":6},{"des_detail_id":"07","des_detail_name":"厂家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":235,"the_order":7},{"des_detail_id":"08","des_detail_name":"天音通信","des_name":"主要进货渠道","des_type":"04","effective":"1","id":236,"the_order":8},{"des_detail_id":"09","des_detail_name":"爱施德","des_name":"主要进货渠道","des_type":"04","effective":"1","id":237,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆侠","des_name":"主要进货渠道","des_type":"04","effective":"1","id":247,"the_order":10},{"des_detail_id":"11","des_detail_name":"3G手机网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":248,"the_order":11},{"des_detail_id":"12","des_detail_name":"地包商","des_name":"主要进货渠道","des_type":"04","effective":"1","id":249,"the_order":12},{"des_detail_id":"13","des_detail_name":"1号机","des_name":"主要进货渠道","des_type":"04","effective":"1","id":250,"the_order":13},{"des_detail_id":"14","des_detail_name":"沃易购","des_name":"主要进货渠道","des_type":"04","effective":"1","id":251,"the_order":14},{"des_detail_id":"15","des_detail_name":"京东","des_name":"主要进货渠道","des_type":"04","effective":"1","id":252,"the_order":15},{"des_detail_id":"16","des_detail_name":"淘宝","des_name":"主要进货渠道","des_type":"04","effective":"1","id":253,"the_order":16},{"des_detail_id":"17","des_detail_name":"厂家官网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":254,"the_order":17},{"des_detail_id":"18","des_detail_name":"易道网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":255,"the_order":18},{"des_detail_id":"19","des_detail_name":"开店通","des_name":"主要进货渠道","des_type":"04","effective":"1","id":256,"the_order":19},{"des_detail_id":"20","des_detail_name":"九牛网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":257,"the_order":20},{"des_detail_id":"11","des_detail_name":"黄豆E家","des_name":"合作网站","des_type":"05","effective":"1","id":20,"the_order":1},{"des_detail_id":"12","des_detail_name":"51订货网","des_name":"合作网站","des_type":"05","effective":"1","id":21,"the_order":2},{"des_detail_id":"13","des_detail_name":"易直供","des_name":"合作网站","des_type":"05","effective":"1","id":22,"the_order":3},{"des_detail_id":"14","des_detail_name":"淘宝","des_name":"合作网站","des_type":"05","effective":"1","id":23,"the_order":4},{"des_detail_id":"15","des_detail_name":"其他","des_name":"合作网站","des_type":"05","effective":"1","id":24,"the_order":5},{"des_detail_id":"01","des_detail_name":"学校","des_name":"周边环境","des_type":"06","effective":"1","id":25,"the_order":1},{"des_detail_id":"02","des_detail_name":"商场","des_name":"周边环境","des_type":"06","effective":"1","id":26,"the_order":2},{"des_detail_id":"03","des_detail_name":"政府机构","des_name":"周边环境","des_type":"06","effective":"1","id":27,"the_order":3},{"des_detail_id":"04","des_detail_name":"公园","des_name":"周边环境","des_type":"06","effective":"1","id":28,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"周边环境","des_type":"06","effective":"1","id":29,"the_order":5},{"des_detail_id":"01","des_detail_name":"S","des_name":"公司规模性质","des_type":"07","effective":"1","id":30,"the_order":1},{"des_detail_id":"02","des_detail_name":"A","des_name":"公司规模性质","des_type":"07","effective":"1","id":31,"the_order":2},{"des_detail_id":"03","des_detail_name":"B","des_name":"公司规模性质","des_type":"07","effective":"1","id":32,"the_order":3},{"des_detail_id":"04","des_detail_name":"C","des_name":"公司规模性质","des_type":"07","effective":"1","id":33,"the_order":4},{"des_detail_id":"05","des_detail_name":"D","des_name":"公司规模性质","des_type":"07","effective":"1","id":34,"the_order":5},{"des_detail_id":"01","des_detail_name":"法人","des_name":"岗位","des_type":"08","effective":"1","id":35,"the_order":1},{"des_detail_id":"02","des_detail_name":"采购负责人","des_name":"岗位","des_type":"08","effective":"1","id":36,"the_order":2},{"des_detail_id":"03","des_detail_name":"销售负责人","des_name":"岗位","des_type":"08","effective":"1","id":37,"the_order":3},{"des_detail_id":"04","des_detail_name":"店长","des_name":"岗位","des_type":"08","effective":"1","id":38,"the_order":4},{"des_detail_id":"01","des_detail_name":"黄豆E家WEB","des_name":"注册来源","des_type":"09","effective":"1","id":39,"the_order":1},{"des_detail_id":"02","des_detail_name":"NC","des_name":"注册来源","des_type":"09","effective":"1","id":40,"the_order":2},{"des_detail_id":"03","des_detail_name":"黄豆侠WEB","des_name":"注册来源","des_type":"09","effective":"1","id":41,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆侠微信","des_name":"注册来源","des_type":"09","effective":"1","id":42,"the_order":4},{"des_detail_id":"05","des_detail_name":"黄豆侠APP","des_name":"注册来源","des_type":"09","effective":"1","id":43,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠WAP","des_name":"注册来源","des_type":"09","effective":"1","id":44,"the_order":6},{"des_detail_id":"07","des_detail_name":"黄豆E家微信","des_name":"注册来源","des_type":"09","effective":"1","id":45,"the_order":7},{"des_detail_id":"08","des_detail_name":"黄豆E家APP","des_name":"注册来源","des_type":"09","effective":"1","id":46,"the_order":8},{"des_detail_id":"09","des_detail_name":"黄豆E家QQ营销","des_name":"注册来源","des_type":"09","effective":"1","id":47,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"注册来源","des_type":"09","effective":"1","id":48,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"注册来源","des_type":"09","effective":"1","id":49,"the_order":11},{"des_detail_id":"13","des_detail_name":"黄豆优推","des_name":"注册来源","des_type":"09","effective":"1","id":273,"the_order":13},{"des_detail_id":"12","des_detail_name":"代理人","des_name":"注册来源","des_type":"09","id":10000},{"des_detail_id":"01","des_detail_name":"直供大客户 ","des_name":"买家类别","des_type":"10","effective":"1","id":50,"the_order":1},{"des_detail_id":"02","des_detail_name":"区域规模客户","des_name":"买家类别","des_type":"10","effective":"1","id":51,"the_order":2},{"des_detail_id":"03","des_detail_name":"零售终端客户","des_name":"买家类别","des_type":"10","effective":"1","id":52,"the_order":3},{"des_detail_id":"04","des_detail_name":"县平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":53,"the_order":4},{"des_detail_id":"05","des_detail_name":"省平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":54,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠平台供应商客户","des_name":"买家类别","des_type":"10","effective":"1","id":258,"the_order":6},{"des_detail_id":"99","des_detail_name":"未分配","des_name":"买家类别","des_type":"10","effective":"1","id":55,"the_order":99},{"des_detail_id":"01","des_detail_name":"天音通信","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":56,"the_order":1},{"des_detail_id":"02","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":57,"the_order":2},{"des_detail_id":"03","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":58,"the_order":3},{"des_detail_id":"04","des_detail_name":"国代商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":59,"the_order":4},{"des_detail_id":"05","des_detail_name":"国代分公司","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":60,"the_order":5},{"des_detail_id":"06","des_detail_name":"省包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":61,"the_order":6},{"des_detail_id":"07","des_detail_name":"地包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":62,"the_order":7},{"des_detail_id":"08","des_detail_name":"通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":63,"the_order":8},{"des_detail_id":"09","des_detail_name":"联通平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":64,"the_order":9},{"des_detail_id":"10","des_detail_name":"联通平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":65,"the_order":10},{"des_detail_id":"11","des_detail_name":"移动平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":66,"the_order":11},{"des_detail_id":"12","des_detail_name":"移动平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":67,"the_order":12},{"des_detail_id":"13","des_detail_name":"电信平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":68,"the_order":13},{"des_detail_id":"14","des_detail_name":"电信平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":69,"the_order":14},{"des_detail_id":"16","des_detail_name":"旧模式县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":70,"the_order":16},{"des_detail_id":"17","des_detail_name":"自采自营（入sap）","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":259,"the_order":17},{"des_detail_id":"18","des_detail_name":"旧模式省级通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":260,"the_order":18},{"des_detail_id":"19","des_detail_name":"省平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":261,"the_order":19},{"des_detail_id":"20","des_detail_name":"县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":262,"the_order":20},{"des_detail_id":"21","des_detail_name":"苹果配件销售平台平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":263,"the_order":21},{"des_detail_id":"22","des_detail_name":"黄豆侠平台供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":264,"the_order":22},{"des_detail_id":"1","des_detail_name":"黄豆E家WEB","des_name":"登录来源","des_type":"12","effective":"1","id":71,"the_order":1},{"des_detail_id":"2","des_detail_name":"黄豆侠WEB","des_name":"登录来源","des_type":"12","effective":"1","id":72,"the_order":2},{"des_detail_id":"4","des_detail_name":"黄豆侠微信","des_name":"登录来源","des_type":"12","effective":"1","id":73,"the_order":4},{"des_detail_id":"5","des_detail_name":"黄豆侠APP","des_name":"登录来源","des_type":"12","effective":"1","id":74,"the_order":5},{"des_detail_id":"6","des_detail_name":"黄豆侠WAP","des_name":"登录来源","des_type":"12","effective":"1","id":75,"the_order":6},{"des_detail_id":"7","des_detail_name":"黄豆E家微信","des_name":"登录来源","des_type":"12","effective":"1","id":76,"the_order":7},{"des_detail_id":"8","des_detail_name":"黄豆E家APP","des_name":"登录来源","des_type":"12","effective":"1","id":77,"the_order":8},{"des_detail_id":"9","des_detail_name":"黄豆E家QQ营销","des_name":"登录来源","des_type":"12","effective":"1","id":78,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"登录来源","des_type":"12","effective":"1","id":79,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"登录来源","des_type":"12","effective":"1","id":80,"the_order":11},{"att_manage_id":5,"des_detail_id":"1","des_detail_name":"属性1","des_name":"测试属性3","des_type":"13","effective":"1","id":201,"the_order":1},{"att_manage_id":5,"des_detail_id":"3","des_detail_name":"属性值1","des_name":"测试属性3","des_type":"13","effective":"1","id":203,"the_order":1},{"att_manage_id":5,"des_detail_id":"11","des_detail_name":"aa","des_name":"测试属性3","des_type":"13","effective":"1","id":212,"the_order":1},{"att_manage_id":5,"des_detail_id":"2","des_detail_name":"属性3","des_name":"测试属性3","des_type":"13","effective":"1","id":202,"the_order":2},{"att_manage_id":5,"des_detail_id":"4","des_detail_name":"属性值2","des_name":"测试属性3","des_type":"13","effective":"1","id":204,"the_order":2},{"att_manage_id":5,"des_detail_id":"5","des_detail_name":"属性值3","des_name":"测试属性3","des_type":"13","effective":"1","id":205,"the_order":3},{"att_manage_id":5,"des_detail_id":"6","des_detail_name":"属性值4","des_name":"测试属性3","des_type":"13","effective":"1","id":206,"the_order":4},{"att_manage_id":5,"des_detail_id":"7","des_detail_name":"属性值5","des_name":"测试属性3","des_type":"13","effective":"1","id":207,"the_order":5},{"att_manage_id":5,"des_detail_id":"8","des_detail_name":"属性值6","des_name":"测试属性3","des_type":"13","effective":"1","id":208,"the_order":6},{"att_manage_id":5,"des_detail_id":"9","des_detail_name":"a","des_name":"测试属性3","des_type":"13","effective":"1","id":209},{"att_manage_id":5,"des_detail_id":"10","des_detail_name":"b","des_name":"测试属性3","des_type":"13","effective":"1","id":210},{"att_manage_id":6,"des_name":"fff","des_type":"14","id":211},{"att_manage_id":9,"des_name":"县平台物流","des_type":"17","id":216},{"des_detail_id":"1","des_detail_name":"注册会员","des_name":"会员等级","des_type":"18","id":265,"the_order":1},{"des_detail_id":"2","des_detail_name":"普通会员","des_name":"会员等级","des_type":"18","id":266,"the_order":2},{"des_detail_id":"3","des_detail_name":"铜牌会员","des_name":"会员等级","des_type":"18","id":267,"the_order":3},{"des_detail_id":"4","des_detail_name":"银牌会员","des_name":"会员等级","des_type":"18","id":268,"the_order":4},{"des_detail_id":"5","des_detail_name":"金牌会员","des_name":"会员等级","des_type":"18","id":269,"the_order":5},{"des_detail_id":"6","des_detail_name":"钻石会员","des_name":"会员等级","des_type":"18","id":270,"the_order":6},{"des_detail_id":"01","des_detail_name":"新黄豆侠","des_name":"应用网站","des_type":"19","id":271,"the_order":1},{"des_detail_id":"01","des_detail_name":"后台规则","des_name":"规则发起方","des_type":"20","id":272,"the_order":1},{"des_detail_id":"01","des_detail_name":"CRM后台","des_name":"标签指定渠道","des_type":"21","id":10001,"the_order":1},{"des_detail_id":"02","des_detail_name":"小能IM","des_name":"标签指定渠道","des_type":"21","id":10002,"the_order":2},{"des_detail_id":"03","des_detail_name":"系统自动","des_name":"标签指定渠道","des_type":"21","id":10003,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆优服APP","des_name":"标签指定渠道","des_type":"21","effective":"1","id":666,"the_order":4},{"att_manage_id":34,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintest2","des_type":"23","effective":"1","id":362,"the_order":1},{"att_manage_id":34,"des_detail_id":"2","des_detail_name":"bbb","des_name":"xintest2","des_type":"23","effective":"1","id":363,"the_order":2},{"att_manage_id":35,"des_name":"zhangmx","des_type":"24","id":356},{"att_manage_id":36,"des_name":"是否必填测试","des_type":"25","id":357},{"att_manage_id":38,"des_name":"5553","des_type":"26","id":359},{"att_manage_id":39,"des_name":"54353","des_type":"27","id":360},{"att_manage_id":40,"des_name":"鹅鹅鹅饿饿","des_type":"28","id":361},{"att_manage_id":42,"des_name":"他婷婷婷婷","des_type":"29","id":365},{"des_name":"NodeList","des_type":"3","id":9999,"the_order":3},{"att_manage_id":43,"des_name":"xintest3","des_type":"30","id":366},{"att_manage_id":44,"des_name":"xintest477","des_type":"31","id":367},{"att_manage_id":45,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintes3","des_type":"32","effective":"1","id":394,"remark":"1","the_order":1},{"att_manage_id":46,"des_name":"xintest6","des_type":"33","id":369},{"att_manage_id":47,"des_detail_id":"1","des_detail_name":"aa","des_name":"张明霞","des_type":"34","effective":"1","id":374,"the_order":1},{"att_manage_id":48,"des_name":"yyyy","des_type":"35","id":372},{"att_manage_id":49,"des_name":"张明霞111111","des_type":"36","id":373},{"att_manage_id":50,"des_name":"店铺属性1","des_type":"37","id":375},{"att_manage_id":51,"des_detail_id":"2","des_detail_name":"test1店铺信息","des_name":"多选属性值","des_type":"38","effective":"1","id":405,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"1","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到","des_name":"多选属性值","des_type":"38","effective":"1","id":404,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"3","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到11","des_name":"多选属性值","des_type":"38","effective":"1","id":406,"remark":"22","the_order":22},{"att_manage_id":51,"des_detail_id":"4","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到22","des_name":"多选属性值","des_type":"38","effective":"1","id":407,"remark":"33","the_order":33},{"att_manage_id":52,"des_detail_id":"1","des_detail_name":"维护联系人属性","des_name":"联系人属性","des_type":"39","effective":"1","id":379,"remark":"11","the_order":11},{"att_manage_id":52,"des_detail_id":"2","des_detail_name":"维护联系人属性1","des_name":"联系人属性","des_type":"39","effective":"1","id":380,"remark":"22","the_order":22},{"att_manage_id":53,"des_name":"公司信息属性1","des_type":"40","id":381},{"att_manage_id":54,"des_detail_id":"1","des_detail_name":"属性值1","des_name":"公司信息属性2","des_type":"41","effective":"1","id":384,"remark":"1","the_order":1},{"att_manage_id":54,"des_detail_id":"2","des_detail_name":"属性2","des_name":"公司信息属性2","des_type":"41","effective":"1","id":385,"remark":"2","the_order":2},{"att_manage_id":55,"des_name":"属性输入","des_type":"42","id":386},{"att_manage_id":57,"des_name":"test1公司属性","des_type":"43","id":395},{"att_manage_id":58,"des_name":"test1公司属性2","des_type":"44","id":396},{"att_manage_id":59,"des_detail_id":"1","des_detail_name":"kuck","des_name":"联系人信息test1","des_type":"45","effective":"1","id":409,"remark":"aaa","the_order":2},{"att_manage_id":60,"des_name":"黄豆","des_type":"46","id":410},{"des_name":"NodeList","des_type":"5","id":9998,"the_order":5},{"des_name":"NodeList","des_type":"8","id":9997,"the_order":8},{"att_manage_id":56,"des_detail_id":"1","des_detail_name":"cem","des_name":"xintest7","des_type":"9","effective":"1","id":393,"remark":"1","the_order":1}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.ContactsInfoApiServiceImpl - ContactsInfoApiServiceImpl listContactsInfoByPage end.
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - List<SelectVo> : [[{"key":"01","value":"直供大客户 "},{"key":"02","value":"区域规模客户"},{"key":"03","value":"零售终端客户"},{"key":"04","value":"县平台客户"},{"key":"05","value":"省平台客户"},{"key":"06","value":"黄豆侠平台供应商客户"},{"key":"99","value":"未分配"}]]
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - AttributeManageController getAttribute end...
INFO : com.ihdou.api.member.service.impl.crm.common.AreaComServiceImpl - ..getProvinceByAuth end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.ContactsInfoApiServiceImpl - ContactsInfoApiServiceImpl listContactsInfoByPage end.
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - List<SelectVo> : [[{"key":"01","value":"黄豆E家WEB"},{"key":"02","value":"NC"},{"key":"03","value":"黄豆侠WEB"},{"key":"04","value":"黄豆侠微信"},{"key":"05","value":"黄豆侠APP"},{"key":"06","value":"黄豆侠WAP"},{"key":"07","value":"黄豆E家微信"},{"key":"08","value":"黄豆E家APP"},{"key":"09","value":"黄豆E家QQ营销"},{"key":"10","value":"黄豆E家WAP"},{"key":"11","value":"苹果配件销售平台"},{"key":"13","value":"黄豆优推"},{"key":"12","value":"代理人"}]]
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - AttributeManageController getAttribute end...
DEBUG [2018-12-28 15:10:37,772] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数count:241175
2018-12-28 15:10:37,993  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:10:38,550] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 客户列表list:[{"addTime":"2018-12-28 10:37:50","agentName":"技术-朱守德","area_text":"香港,香港特别行政区,香港市区内","buyerId":410572,"buyerSource":"03","buyer_type":"06","countyId":3722,"loginTime":"2018.12.27 19:59:46","pri_mobile":"13581732736","registerFrom":"自然流量","shopName":"信测试公司1","userId":289448,"userName":"信测试供应商"},{"addTime":"2018-12-10 11:25:40","agentName":"丁川川","area_text":"河北,石家庄市,正定县,正定镇","buyerId":410571,"buyerSource":"05","buyer_type":"03","countyId":1034,"loginTime":"2018.12.19 17:50:37","registerFrom":"自然流量","shopName":"华鑫通讯","userId":289412,"userName":"华鑫通讯"},{"addTime":"2018-12-04 17:31:34","area_text":"北京,北京市,朝阳区,朝外街道办事处","buyerId":410569,"buyerSource":"12","buyer_type":"03","countyId":8,"pri_mobile":"17731630390","registerFrom":"自然流量","shopName":"ceshi-1","userId":289403,"userName":"ceshi-1"},{"addTime":"2018-12-04 17:27:39","area_text":"北京,北京市,朝阳区,朝外街道办事处","buyerId":410567,"buyerSource":"12","buyer_type":"03","countyId":8,"registerFrom":"自然流量","shopName":"拜访执行邮件","userId":289402,"userName":"拜访执行邮件"},{"addTime":"2018-12-04 13:38:21","area_text":"河北,唐山市,迁西县","buyerId":410565,"buyerSource":"12","buyer_type":"03","countyId":1166,"pri_mobile":"13810111190","registerFrom":"自然流量","shopName":"静涛科技数码","userId":289395,"userName":"静涛科技数码"},{"addTime":"2018-12-04 12:01:25","area_text":"河北,唐山市,迁西县","buyerId":410563,"buyerSource":"12","buyer_type":"03","countyId":1166,"pri_mobile":"13810111197","registerFrom":"自然流量","shopName":"亿通科技","userId":289394,"userName":"亿通科技"},{"addTime":"2018-12-04 12:00:22","area_text":"河北,唐山市,迁西县","buyerId":410561,"buyerSource":"12","buyer_type":"03","countyId":1166,"loginTime":"2018.12.12 15:57:04","pri_mobile":"13810111173","registerFrom":"自然流量","shopName":"天越数码","userId":289393,"userName":"天越数码"},{"addTime":"2018-12-04 11:59:06","area_text":"河北,唐山市,迁西县","buyerId":410559,"buyerSource":"12","buyer_type":"03","countyId":1166,"pri_mobile":"13810111174","registerFrom":"自然流量","shopName":"钱星腾达","userId":289392,"userName":"钱星腾达"},{"addTime":"2018-12-03 17:27:01","agentName":"技术-朱守德","area_text":"香港,香港特别行政区,香港市区内","buyerId":410557,"buyerSource":"12","buyer_type":"03","countyId":3722,"loginTime":"2018.12.19 15:05:40","orderTime":"2018.12.04 14:38:07","pri_mobile":"15801446300","registerFrom":"自然流量","shopName":"测试地址","userId":289382,"userName":"测试地址"},{"addTime":"2018-11-30 18:08:14","agentName":"wangjian","area_text":"河北,石家庄市,石家庄高新区","buyerId":410556,"buyerSource":"05","buyer_type":"03","countyId":1058,"loginTime":"2018.12.19 10:57:10","pri_mobile":"16601048376","registerFrom":"自然流量","shopName":"北京黄豆通讯","userId":289372,"userName":"北京黄豆小子"}]
INFO  [2018-12-28 15:10:38,551] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页详情：{"list":[{"addTime":"2018-12-28 10:37:50","agentName":"技术-朱守德","area_text":"香港,香港特别行政区,香港市区内","buyerId":410572,"buyerSource":"03","buyer_type":"06","countyId":3722,"loginTime":"2018.12.27 19:59:46","pri_mobile":"13581732736","registerFrom":"自然流量","shopName":"信测试公司1","userId":289448,"userName":"信测试供应商"},{"addTime":"2018-12-10 11:25:40","agentName":"丁川川","area_text":"河北,石家庄市,正定县,正定镇","buyerId":410571,"buyerSource":"05","buyer_type":"03","countyId":1034,"loginTime":"2018.12.19 17:50:37","registerFrom":"自然流量","shopName":"华鑫通讯","userId":289412,"userName":"华鑫通讯"},{"addTime":"2018-12-04 17:31:34","area_text":"北京,北京市,朝阳区,朝外街道办事处","buyerId":410569,"buyerSource":"12","buyer_type":"03","countyId":8,"pri_mobile":"17731630390","registerFrom":"自然流量","shopName":"ceshi-1","userId":289403,"userName":"ceshi-1"},{"addTime":"2018-12-04 17:27:39","area_text":"北京,北京市,朝阳区,朝外街道办事处","buyerId":410567,"buyerSource":"12","buyer_type":"03","countyId":8,"registerFrom":"自然流量","shopName":"拜访执行邮件","userId":289402,"userName":"拜访执行邮件"},{"addTime":"2018-12-04 13:38:21","area_text":"河北,唐山市,迁西县","buyerId":410565,"buyerSource":"12","buyer_type":"03","countyId":1166,"pri_mobile":"13810111190","registerFrom":"自然流量","shopName":"静涛科技数码","userId":289395,"userName":"静涛科技数码"},{"addTime":"2018-12-04 12:01:25","area_text":"河北,唐山市,迁西县","buyerId":410563,"buyerSource":"12","buyer_type":"03","countyId":1166,"pri_mobile":"13810111197","registerFrom":"自然流量","shopName":"亿通科技","userId":289394,"userName":"亿通科技"},{"addTime":"2018-12-04 12:00:22","area_text":"河北,唐山市,迁西县","buyerId":410561,"buyerSource":"12","buyer_type":"03","countyId":1166,"loginTime":"2018.12.12 15:57:04","pri_mobile":"13810111173","registerFrom":"自然流量","shopName":"天越数码","userId":289393,"userName":"天越数码"},{"addTime":"2018-12-04 11:59:06","area_text":"河北,唐山市,迁西县","buyerId":410559,"buyerSource":"12","buyer_type":"03","countyId":1166,"pri_mobile":"13810111174","registerFrom":"自然流量","shopName":"钱星腾达","userId":289392,"userName":"钱星腾达"},{"addTime":"2018-12-03 17:27:01","agentName":"技术-朱守德","area_text":"香港,香港特别行政区,香港市区内","buyerId":410557,"buyerSource":"12","buyer_type":"03","countyId":3722,"loginTime":"2018.12.19 15:05:40","orderTime":"2018.12.04 14:38:07","pri_mobile":"15801446300","registerFrom":"自然流量","shopName":"测试地址","userId":289382,"userName":"测试地址"},{"addTime":"2018-11-30 18:08:14","agentName":"wangjian","area_text":"河北,石家庄市,石家庄高新区","buyerId":410556,"buyerSource":"05","buyer_type":"03","countyId":1058,"loginTime":"2018.12.19 10:57:10","pri_mobile":"16601048376","registerFrom":"自然流量","shopName":"北京黄豆通讯","userId":289372,"userName":"北京黄豆小子"}],"totalCount":241175}
INFO  [2018-12-28 15:10:38,551] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - WorkOrderManageController getWorkOrderFlowForPage END...
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - validCaptchaCode end.
2018-12-28 15:10:38,814 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-34] (BaseJdbcLogger.java:139) - ==>  Preparing: with nums as( select oi.id, oi.order_status, oi.ship_status,oi.is_goods_prepared,oi.goods_type from order_info oi inner join order_detail0 od0 on od0.order_id = oi.id and oi.del_flag = 1 and od0.del_flag = 1 where od0.supply_user_id = ? and (oi.order_type = 'TL' or oi.order_type = 'MT') group by oi.id, oi.order_status, oi.ship_status,oi.is_goods_prepared ,oi.goods_type) select nvl(sum(case when oi.ship_status = '01'and oi.goods_type = '01' then 1 else 0 end ),0) num1, nvl(sum(case when oi.ship_status = '02'and oi.goods_type = '01' then 1 else 0 end ),0) num2, nvl(sum(case when oi.order_status = '02' and oi.ship_status = '03'and oi.goods_type = '01' then 1 else 0 end ),0) num3, nvl(sum(case when oi.order_status = '06'and oi.goods_type = '01' then 1 else 0 end ),0) num4, nvl(sum(case when oi.order_status = '01'and oi.goods_type = '01' then 1 else 0 end ),0) num5, nvl(sum(case when oi.order_status = '05'and oi.goods_type = '01' then 1 else 0 end ),0) num6, nvl(sum(case when oi.ship_status = '04'and oi.goods_type = '01' and oi.is_goods_prepared = '0' then 1 else 0 end ),0) num7, nvl(sum(case when oi.ship_status = '04'and oi.goods_type = '01' and oi.is_goods_prepared = '1' then 1 else 0 end ),0) num8, nvl(sum(case when oi.ship_status = '01'and oi.goods_type = '01' and oi.is_goods_prepared = '0' then 1 else 0 end ),0) num10, nvl(sum(case when oi.ship_status = '01'and oi.goods_type = '01' and oi.is_goods_prepared = '1' then 1 else 0 end ),0) num11, nvl(sum(case when oi.ship_status = '01'and oi.goods_type = '02' then 1 else 0 end ),0) num12, count(1) num9 from nums oi 
2018-12-28 15:10:38,816 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-34] (BaseJdbcLogger.java:139) - ==> Parameters: 259800(String)
2018-12-28 15:10:38,842 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-34] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:10:39,106 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-35] (BaseJdbcLogger.java:139) - ==>  Preparing: with order_cart_num as ( select nvl(sum(cd.product_num),0) product_num from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' where ca.customer_id = ? ) select nvl(sum(product_num),0) from order_cart_num 
2018-12-28 15:10:39,106 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-35] (BaseJdbcLogger.java:139) - ==> Parameters: 259800(String)
2018-12-28 15:10:39,108 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-35] (BaseJdbcLogger.java:139) - <==      Total: 1
DEBUG [2018-12-28 15:10:39,133] cn.ihdou.ihdoumail.member.dao.impl.MessageRemindDaoImpl - 到提醒时间的消息数: select count(*) from message_info0 t where t.to_user_id = '259800' and t.message_type = 11 and t.message_status = '01' and t.read_status = '01' and t.del_flag = '1' and t.send_time <= to_date(to_char(sysdate, 'yyyy-mm-dd HH24:MI:ss'), 'yyyy-mm-dd HH24:MI:ss') and exists (select 1 from SECKILL_MAIN skm inner join SECKILL_DETAIL sd on sd.pid = skm.id and sd.del_flag = '1' where skm.status = '0' and skm.check_status = '2' and skm.del_flag = '1' and END_DATETIME > sysdate and sd.id = t.detail_id)
INFO  [2018-12-28 15:10:39,304] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:10:39,844] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:10:39,844] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:10:40,452] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:10:44,660] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:10:44,661] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:10:44,666] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230616","custype":"3","shopName":"尒XO580736","type":"3","typeText":"待拜访","userName":"苹果专卖test"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"安徽蚌埠市固镇县","conProvince":"安徽","consCounty":"固镇县","cusUserId":"245177","custype":"3","latitude":"33.316899","longitude":"117.316955","shopName":"ym15955265526","type":"3","typeText":"待拜访","userName":"ym15955265526"},{"conAddress":"安徽合肥市长丰县庄墓镇","conProvince":"安徽","consCounty":"长丰县","consTown":"庄墓镇","cusUserId":"289249","custype":"3","latitude":"39.91577419704861","longitude":"116.4370703125","shopName":"1134","type":"3","typeText":"待拜访","userName":"1134"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"}]
INFO  [2018-12-28 15:10:44,667] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:10:44,670] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[{"conAddress":"北京北京市海淀区永定路街道办事处专营店","conProvince":"北京","consCounty":"海淀区","consTown":"永定路街道办事处","cusUserId":"7034540e971c4f2095fdd945135c6b42","custype":"2","latitude":"39.91575","longitude":"116.436964","shopName":"bbbbb无坐标","type":"3","typeText":"待拜访"},{"conAddress":"北京北京市朝阳区朝外街道办事处雅宝路5号","conProvince":"北京","consCounty":"朝阳区","consTown":"朝外街道办事处","cusUserId":"bd69b0aad40144d0b8015da16ba4f1fd","custype":"2","latitude":"39.915943","longitude":"116.437163","shopName":"趣味日","type":"3","typeText":"待拜访"}]
INFO  [2018-12-28 15:10:44,670] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:10:44,673] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:10:44,673] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:10:44,678] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230616","custype":"3","shopName":"尒XO580736","type":"3","typeText":"待拜访","userName":"苹果专卖test"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"安徽蚌埠市固镇县","conProvince":"安徽","consCounty":"固镇县","cusUserId":"245177","custype":"3","latitude":"33.316899","longitude":"117.316955","shopName":"ym15955265526","type":"3","typeText":"待拜访","userName":"ym15955265526"},{"conAddress":"安徽合肥市长丰县庄墓镇","conProvince":"安徽","consCounty":"长丰县","consTown":"庄墓镇","cusUserId":"289249","custype":"3","latitude":"39.91577419704861","longitude":"116.4370703125","shopName":"1134","type":"3","typeText":"待拜访","userName":"1134"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"}]
INFO  [2018-12-28 15:10:44,678] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:10:44,681] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[{"conAddress":"北京北京市海淀区永定路街道办事处专营店","conProvince":"北京","consCounty":"海淀区","consTown":"永定路街道办事处","cusUserId":"7034540e971c4f2095fdd945135c6b42","custype":"2","latitude":"39.91575","longitude":"116.436964","shopName":"bbbbb无坐标","type":"3","typeText":"待拜访"},{"conAddress":"北京北京市朝阳区朝外街道办事处雅宝路5号","conProvince":"北京","consCounty":"朝阳区","consTown":"朝外街道办事处","cusUserId":"bd69b0aad40144d0b8015da16ba4f1fd","custype":"2","latitude":"39.915943","longitude":"116.437163","shopName":"趣味日","type":"3","typeText":"待拜访"}]
INFO  [2018-12-28 15:10:44,681] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
2018-12-28 15:10:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:10:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:10:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:10:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:10:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:10:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:10:45,420] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:10:45,923] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:10:45,923] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:10:46,522] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:10:46,522] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:10:46,527] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230616","custype":"3","shopName":"尒XO580736","type":"3","typeText":"待拜访","userName":"苹果专卖test"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"安徽蚌埠市固镇县","conProvince":"安徽","consCounty":"固镇县","cusUserId":"245177","custype":"3","latitude":"33.316899","longitude":"117.316955","shopName":"ym15955265526","type":"3","typeText":"待拜访","userName":"ym15955265526"},{"conAddress":"安徽合肥市长丰县庄墓镇","conProvince":"安徽","consCounty":"长丰县","consTown":"庄墓镇","cusUserId":"289249","custype":"3","latitude":"39.91577419704861","longitude":"116.4370703125","shopName":"1134","type":"3","typeText":"待拜访","userName":"1134"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"}]
INFO  [2018-12-28 15:10:46,528] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:10:46,531] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[{"conAddress":"北京北京市海淀区永定路街道办事处专营店","conProvince":"北京","consCounty":"海淀区","consTown":"永定路街道办事处","cusUserId":"7034540e971c4f2095fdd945135c6b42","custype":"2","latitude":"39.91575","longitude":"116.436964","shopName":"bbbbb无坐标","type":"3","typeText":"待拜访"},{"conAddress":"北京北京市朝阳区朝外街道办事处雅宝路5号","conProvince":"北京","consCounty":"朝阳区","consTown":"朝外街道办事处","cusUserId":"bd69b0aad40144d0b8015da16ba4f1fd","custype":"2","latitude":"39.915943","longitude":"116.437163","shopName":"趣味日","type":"3","typeText":"待拜访"}]
INFO  [2018-12-28 15:10:46,531] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
DEBUG [2018-12-28 15:10:46,618] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:10:46,620] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:10:50,467] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:10:51,435] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:10:51,938] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:10:51,938] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:10:53,686 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-36] (BaseJdbcLogger.java:139) - ==>  Preparing: with order_cart_num as ( select nvl(sum(cd.product_num),0) product_num from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' where ca.customer_id = ? ) select nvl(sum(product_num),0) from order_cart_num 
2018-12-28 15:10:53,686 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-36] (BaseJdbcLogger.java:139) - ==> Parameters: 239034(String)
2018-12-28 15:10:53,688 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-36] (BaseJdbcLogger.java:139) - <==      Total: 1
DEBUG [2018-12-28 15:10:53,719] cn.ihdou.ihdoumail.member.dao.impl.MessageRemindDaoImpl - 到提醒时间的消息数: select count(*) from message_info2 t where t.to_user_id = '239034' and t.message_type = 11 and t.message_status = '01' and t.read_status = '01' and t.del_flag = '1' and t.send_time <= to_date(to_char(sysdate, 'yyyy-mm-dd HH24:MI:ss'), 'yyyy-mm-dd HH24:MI:ss') and exists (select 1 from SECKILL_MAIN skm inner join SECKILL_DETAIL sd on sd.pid = skm.id and sd.del_flag = '1' where skm.status = '0' and skm.check_status = '2' and skm.del_flag = '1' and END_DATETIME > sysdate and sd.id = t.detail_id)
INFO  [2018-12-28 15:10:53,794] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
2018-12-28 15:10:56,332 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-37] (BaseJdbcLogger.java:139) - ==>  Preparing: with order_cart_num as ( select nvl(sum(cd.product_num),0) product_num from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' where ca.customer_id = ? ) select nvl(sum(product_num),0) from order_cart_num 
2018-12-28 15:10:56,333 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-37] (BaseJdbcLogger.java:139) - ==> Parameters: 239034(String)
2018-12-28 15:10:56,334 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-37] (BaseJdbcLogger.java:139) - <==      Total: 1
DEBUG [2018-12-28 15:10:56,361] cn.ihdou.ihdoumail.member.dao.impl.MessageRemindDaoImpl - 到提醒时间的消息数: select count(*) from message_info2 t where t.to_user_id = '239034' and t.message_type = 11 and t.message_status = '01' and t.read_status = '01' and t.del_flag = '1' and t.send_time <= to_date(to_char(sysdate, 'yyyy-mm-dd HH24:MI:ss'), 'yyyy-mm-dd HH24:MI:ss') and exists (select 1 from SECKILL_MAIN skm inner join SECKILL_DETAIL sd on sd.pid = skm.id and sd.del_flag = '1' where skm.status = '0' and skm.check_status = '2' and skm.del_flag = '1' and END_DATETIME > sysdate and sd.id = t.detail_id)
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:10:57,548] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:10:57,965] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:10:57,966] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:10:57,972] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230616","custype":"3","shopName":"尒XO580736","type":"3","typeText":"待拜访","userName":"苹果专卖test"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"安徽蚌埠市固镇县","conProvince":"安徽","consCounty":"固镇县","cusUserId":"245177","custype":"3","latitude":"33.316899","longitude":"117.316955","shopName":"ym15955265526","type":"3","typeText":"待拜访","userName":"ym15955265526"},{"conAddress":"安徽合肥市长丰县庄墓镇","conProvince":"安徽","consCounty":"长丰县","consTown":"庄墓镇","cusUserId":"289249","custype":"3","latitude":"39.91577419704861","longitude":"116.4370703125","shopName":"1134","type":"3","typeText":"待拜访","userName":"1134"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"}]
INFO  [2018-12-28 15:10:57,972] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:10:57,975] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[{"conAddress":"北京北京市海淀区永定路街道办事处专营店","conProvince":"北京","consCounty":"海淀区","consTown":"永定路街道办事处","cusUserId":"7034540e971c4f2095fdd945135c6b42","custype":"2","latitude":"39.91575","longitude":"116.436964","shopName":"bbbbb无坐标","type":"3","typeText":"待拜访"},{"conAddress":"北京北京市朝阳区朝外街道办事处雅宝路5号","conProvince":"北京","consCounty":"朝阳区","consTown":"朝外街道办事处","cusUserId":"bd69b0aad40144d0b8015da16ba4f1fd","custype":"2","latitude":"39.915943","longitude":"116.437163","shopName":"趣味日","type":"3","typeText":"待拜访"}]
INFO  [2018-12-28 15:10:57,975] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:10:58,051] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:10:58,051] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5522][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:6044<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5522 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5522 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5522 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5522 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5522 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5522 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5522 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5522 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5522 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5522 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 << "Date: Fri, 28 Dec 2018 07:10:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5522 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5522 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5522 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5522 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5522 << Date: Fri, 28 Dec 2018 07:10:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5522 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5522 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5522][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5522][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5522: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5522: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:10:58,592] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:10:58,592] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:10:58,598] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230616","custype":"3","shopName":"尒XO580736","type":"3","typeText":"待拜访","userName":"苹果专卖test"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"安徽蚌埠市固镇县","conProvince":"安徽","consCounty":"固镇县","cusUserId":"245177","custype":"3","latitude":"33.316899","longitude":"117.316955","shopName":"ym15955265526","type":"3","typeText":"待拜访","userName":"ym15955265526"},{"conAddress":"安徽合肥市长丰县庄墓镇","conProvince":"安徽","consCounty":"长丰县","consTown":"庄墓镇","cusUserId":"289249","custype":"3","latitude":"39.91577419704861","longitude":"116.4370703125","shopName":"1134","type":"3","typeText":"待拜访","userName":"1134"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"}]
INFO  [2018-12-28 15:10:58,598] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:10:58,601] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[{"conAddress":"北京北京市海淀区永定路街道办事处专营店","conProvince":"北京","consCounty":"海淀区","consTown":"永定路街道办事处","cusUserId":"7034540e971c4f2095fdd945135c6b42","custype":"2","latitude":"39.91575","longitude":"116.436964","shopName":"bbbbb无坐标","type":"3","typeText":"待拜访"},{"conAddress":"北京北京市朝阳区朝外街道办事处雅宝路5号","conProvince":"北京","consCounty":"朝阳区","consTown":"朝外街道办事处","cusUserId":"bd69b0aad40144d0b8015da16ba4f1fd","custype":"2","latitude":"39.915943","longitude":"116.437163","shopName":"趣味日","type":"3","typeText":"待拜访"}]
INFO  [2018-12-28 15:10:58,601] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:10:59,156] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - BuyerVisiteServiceImpl getVisitNum START...
INFO  [2018-12-28 15:10:59,157] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - 拜访统计数量参数staffId ：53b20ffee61a4921bdbd482af1b65269
INFO  [2018-12-28 15:10:59,157] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取今日待拜访数量sql: select count(*) visitNum from VISITED_PLAN vp where to_char(vp.VISIT_TIME, 'yyyy-MM-dd HH24:mi:ss') <= to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vp.visited_flg='0' AND vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269'
INFO  [2018-12-28 15:10:59,160] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取今日拜访完成数量sql: select count(*) visitFinshNum from VISITED_BUYERINFO vb where to_char(vb.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') between TO_CHAR(trunc(sysdate), 'yyyy-mm-dd hh24:mi:ss') and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and  vb.del_flag='1' and vb.OPERATION_TYPE='' and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269'and vb.operation_type is null
INFO  [2018-12-28 15:10:59,163] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - 拜访统计数量LogisticsVisitNumVo ：{"visitFinshNum":0,"visitNum":22}
INFO  [2018-12-28 15:10:59,163] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - BuyerVisiteServiceImpl getVisitNum end...
INFO  [2018-12-28 15:10:59,355] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:10:59,356] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289267') and btt.del_flag='1'  order by tm.display_seq 
DEBUG [2018-12-28 15:10:59,530] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:10:59,533] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:11:00,467] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/buyerportrait/showbuyerportrait/289448
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerPortController - BuyerPortController showbuyerportrait begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerPortController - userId:289448
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerPortServiceImpl - BuyerPortServiceImpl.getCompanyDataList START... 
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerPortServiceImpl - userid = 289448
INFO  [2018-12-28 15:11:00,495] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询账户信息: select b.buyerid, u.username, u.userid, b.shopname, b.pri_mobile, b.province provinceId,b.city cityId,b.county countyId,b.townId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname) as area_name, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime, nvl(b.registerfrom,'自然流量') as registerfrom, b.buyer_type, b.buyersource, s.supply_status, s.supply_type  from buyerinfo b inner join users u on b.userid=u.userid and buyerstatus='02' left join supply s on b.userid=s.user_id left join areainfo ai0 on ai0.areaid=b.province left join areainfo ai1 on ai1.areaid=b.city left join areainfo ai2 on ai2.areaid=b.county left join towninfo ti on ti.townid=b.townid and ti.status='1' where u.userid='289448' and u.userstatus='1' and b.delflag='1'
DEBUG [2018-12-28 15:11:00,510] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl$2 - 账户信息vo:{"addTime":"2018-12-28 10:37:50","area_name":"香港,香港特别行政区,香港市区内","area_text":"香港,香港特别行政区,香港市区内","buyerId":410572,"buyerSource":"03","buyer_type":"06","countyId":3722,"pri_mobile":"13581732736","registerFrom":"自然流量","shopName":"信测试公司1","supply_status":"02","supply_type":"22","userId":289448,"userName":"信测试供应商"}
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerPortServiceImpl - BuyerInformationQueryVo = {"addTime":"2018-12-28 10:37:50","area_name":"香港,香港特别行政区,香港市区内","area_text":"香港,香港特别行政区,香港市区内","buyerId":410572,"buyerSource":"03","buyer_type":"06","countyId":3722,"pri_mobile":"13581732736","registerFrom":"自然流量","shopName":"信测试公司1","supply_status":"02","supply_type":"22","userId":289448,"userName":"信测试供应商"}
INFO  [2018-12-28 15:11:00,512] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - select * from crm_attribute where del_flag=1 order by des_type asc,the_order asc
DEBUG [2018-12-28 15:11:00,529] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - list:[{"des_detail_id":"1","des_detail_name":"中国联通","des_name":"合作运营商","des_type":"01","effective":"1","id":1,"the_order":1},{"des_detail_id":"2","des_detail_name":"中国移动","des_name":"合作运营商","des_type":"01","effective":"1","id":2,"the_order":2},{"des_detail_id":"3","des_detail_name":"中国电信","des_name":"合作运营商","des_type":"01","effective":"1","id":3,"the_order":3},{"des_detail_id":"4","des_detail_name":"无合作","des_name":"合作运营商","des_type":"01","effective":"1","id":4,"the_order":4},{"des_detail_id":"10","des_detail_name":"手机","des_name":"主营品类","des_type":"02","effective":"1","id":5,"the_order":1},{"des_detail_id":"20","des_detail_name":"平板","des_name":"主营品类","des_type":"02","effective":"1","id":6,"the_order":2},{"des_detail_id":"30","des_detail_name":"智能设备","des_name":"主营品类","des_type":"02","effective":"1","id":7,"the_order":3},{"des_detail_id":"40","des_detail_name":"手机配件","des_name":"主营品类","des_type":"02","effective":"1","id":8,"the_order":4},{"des_detail_id":"98","des_detail_name":"都涉及","des_name":"主营品类","des_type":"02","effective":"1","id":217,"the_order":98},{"des_detail_id":"99","des_detail_name":"其他","des_name":"主营品类","des_type":"02","effective":"1","id":218,"the_order":99},{"des_detail_id":"01","des_detail_name":"华为","des_name":"主营品牌","des_type":"03","effective":"1","id":9,"the_order":1},{"des_detail_id":"02","des_detail_name":"三星","des_name":"主营品牌","des_type":"03","effective":"1","id":10,"the_order":2},{"des_detail_id":"03","des_detail_name":"苹果","des_name":"主营品牌","des_type":"03","effective":"1","id":11,"the_order":3},{"des_detail_id":"04","des_detail_name":"小米","des_name":"主营品牌","des_type":"03","effective":"1","id":12,"the_order":4},{"des_detail_id":"05","des_detail_name":"酷派","des_name":"主营品牌","des_type":"03","effective":"1","id":13,"the_order":5},{"des_detail_id":"06","des_detail_name":"瓦戈","des_name":"主营品牌","des_type":"03","effective":"1","id":14,"the_order":6},{"des_detail_id":"07","des_detail_name":"oppo","des_name":"主营品牌","des_type":"03","effective":"1","id":219,"the_order":7},{"des_detail_id":"08","des_detail_name":"步步高","des_name":"主营品牌","des_type":"03","effective":"1","id":220,"the_order":8},{"des_detail_id":"09","des_detail_name":"魅族","des_name":"主营品牌","des_type":"03","effective":"1","id":221,"the_order":9},{"des_detail_id":"10","des_detail_name":"联想","des_name":"主营品牌","des_type":"03","effective":"1","id":222,"the_order":10},{"des_detail_id":"11","des_detail_name":"vivo","des_name":"主营品牌","des_type":"03","effective":"1","id":223,"the_order":11},{"des_detail_id":"12","des_detail_name":"金立","des_name":"主营品牌","des_type":"03","effective":"1","id":224,"the_order":12},{"des_detail_id":"13","des_detail_name":"中兴","des_name":"主营品牌","des_type":"03","effective":"1","id":225,"the_order":13},{"des_detail_id":"14","des_detail_name":"小辣椒","des_name":"主营品牌","des_type":"03","effective":"1","id":226,"the_order":14},{"des_detail_id":"15","des_detail_name":"诺基亚","des_name":"主营品牌","des_type":"03","effective":"1","id":227,"the_order":15},{"des_detail_id":"16","des_detail_name":"万利达","des_name":"主营品牌","des_type":"03","effective":"1","id":228,"the_order":16},{"des_detail_id":"17","des_detail_name":"康佳","des_name":"主营品牌","des_type":"03","effective":"1","id":229,"the_order":17},{"des_detail_id":"18","des_detail_name":"朵唯","des_name":"主营品牌","des_type":"03","effective":"1","id":230,"the_order":18},{"des_detail_id":"19","des_detail_name":"爱我","des_name":"主营品牌","des_type":"03","effective":"1","id":231,"the_order":19},{"des_detail_id":"20","des_detail_name":"长虹","des_name":"主营品牌","des_type":"03","effective":"1","id":232,"the_order":20},{"des_detail_id":"21","des_detail_name":"海信","des_name":"主营品牌","des_type":"03","effective":"1","id":233,"the_order":21},{"des_detail_id":"22","des_detail_name":"乐视","des_name":"主营品牌","des_type":"03","effective":"1","id":238,"the_order":22},{"des_detail_id":"23","des_detail_name":"中诺","des_name":"主营品牌","des_type":"03","effective":"1","id":239,"the_order":23},{"des_detail_id":"24","des_detail_name":"青橙","des_name":"主营品牌","des_type":"03","effective":"1","id":240,"the_order":24},{"des_detail_id":"25","des_detail_name":"努比亚","des_name":"主营品牌","des_type":"03","effective":"1","id":241,"the_order":25},{"des_detail_id":"26","des_detail_name":"TCL","des_name":"主营品牌","des_type":"03","effective":"1","id":242,"the_order":26},{"des_detail_id":"27","des_detail_name":"百利丰","des_name":"主营品牌","des_type":"03","effective":"1","id":243,"the_order":27},{"des_detail_id":"28","des_detail_name":"亿通","des_name":"主营品牌","des_type":"03","effective":"1","id":244,"the_order":28},{"des_detail_id":"29","des_detail_name":"波导","des_name":"主营品牌","des_type":"03","effective":"1","id":245,"the_order":29},{"des_detail_id":"30","des_detail_name":"优思","des_name":"主营品牌","des_type":"03","effective":"1","id":246,"the_order":30},{"des_detail_id":"01","des_detail_name":"黄豆E家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":15,"the_order":1},{"des_detail_id":"02","des_detail_name":"51订货网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":16,"the_order":2},{"des_detail_id":"03","des_detail_name":"易直供","des_name":"主要进货渠道","des_type":"04","effective":"1","id":17,"the_order":3},{"des_detail_id":"04","des_detail_name":"通讯市场","des_name":"主要进货渠道","des_type":"04","effective":"1","id":18,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"主要进货渠道","des_type":"04","effective":"1","id":19,"the_order":5},{"des_detail_id":"06","des_detail_name":"终端公司","des_name":"主要进货渠道","des_type":"04","effective":"1","id":234,"the_order":6},{"des_detail_id":"07","des_detail_name":"厂家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":235,"the_order":7},{"des_detail_id":"08","des_detail_name":"天音通信","des_name":"主要进货渠道","des_type":"04","effective":"1","id":236,"the_order":8},{"des_detail_id":"09","des_detail_name":"爱施德","des_name":"主要进货渠道","des_type":"04","effective":"1","id":237,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆侠","des_name":"主要进货渠道","des_type":"04","effective":"1","id":247,"the_order":10},{"des_detail_id":"11","des_detail_name":"3G手机网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":248,"the_order":11},{"des_detail_id":"12","des_detail_name":"地包商","des_name":"主要进货渠道","des_type":"04","effective":"1","id":249,"the_order":12},{"des_detail_id":"13","des_detail_name":"1号机","des_name":"主要进货渠道","des_type":"04","effective":"1","id":250,"the_order":13},{"des_detail_id":"14","des_detail_name":"沃易购","des_name":"主要进货渠道","des_type":"04","effective":"1","id":251,"the_order":14},{"des_detail_id":"15","des_detail_name":"京东","des_name":"主要进货渠道","des_type":"04","effective":"1","id":252,"the_order":15},{"des_detail_id":"16","des_detail_name":"淘宝","des_name":"主要进货渠道","des_type":"04","effective":"1","id":253,"the_order":16},{"des_detail_id":"17","des_detail_name":"厂家官网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":254,"the_order":17},{"des_detail_id":"18","des_detail_name":"易道网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":255,"the_order":18},{"des_detail_id":"19","des_detail_name":"开店通","des_name":"主要进货渠道","des_type":"04","effective":"1","id":256,"the_order":19},{"des_detail_id":"20","des_detail_name":"九牛网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":257,"the_order":20},{"des_detail_id":"11","des_detail_name":"黄豆E家","des_name":"合作网站","des_type":"05","effective":"1","id":20,"the_order":1},{"des_detail_id":"12","des_detail_name":"51订货网","des_name":"合作网站","des_type":"05","effective":"1","id":21,"the_order":2},{"des_detail_id":"13","des_detail_name":"易直供","des_name":"合作网站","des_type":"05","effective":"1","id":22,"the_order":3},{"des_detail_id":"14","des_detail_name":"淘宝","des_name":"合作网站","des_type":"05","effective":"1","id":23,"the_order":4},{"des_detail_id":"15","des_detail_name":"其他","des_name":"合作网站","des_type":"05","effective":"1","id":24,"the_order":5},{"des_detail_id":"01","des_detail_name":"学校","des_name":"周边环境","des_type":"06","effective":"1","id":25,"the_order":1},{"des_detail_id":"02","des_detail_name":"商场","des_name":"周边环境","des_type":"06","effective":"1","id":26,"the_order":2},{"des_detail_id":"03","des_detail_name":"政府机构","des_name":"周边环境","des_type":"06","effective":"1","id":27,"the_order":3},{"des_detail_id":"04","des_detail_name":"公园","des_name":"周边环境","des_type":"06","effective":"1","id":28,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"周边环境","des_type":"06","effective":"1","id":29,"the_order":5},{"des_detail_id":"01","des_detail_name":"S","des_name":"公司规模性质","des_type":"07","effective":"1","id":30,"the_order":1},{"des_detail_id":"02","des_detail_name":"A","des_name":"公司规模性质","des_type":"07","effective":"1","id":31,"the_order":2},{"des_detail_id":"03","des_detail_name":"B","des_name":"公司规模性质","des_type":"07","effective":"1","id":32,"the_order":3},{"des_detail_id":"04","des_detail_name":"C","des_name":"公司规模性质","des_type":"07","effective":"1","id":33,"the_order":4},{"des_detail_id":"05","des_detail_name":"D","des_name":"公司规模性质","des_type":"07","effective":"1","id":34,"the_order":5},{"des_detail_id":"01","des_detail_name":"法人","des_name":"岗位","des_type":"08","effective":"1","id":35,"the_order":1},{"des_detail_id":"02","des_detail_name":"采购负责人","des_name":"岗位","des_type":"08","effective":"1","id":36,"the_order":2},{"des_detail_id":"03","des_detail_name":"销售负责人","des_name":"岗位","des_type":"08","effective":"1","id":37,"the_order":3},{"des_detail_id":"04","des_detail_name":"店长","des_name":"岗位","des_type":"08","effective":"1","id":38,"the_order":4},{"des_detail_id":"01","des_detail_name":"黄豆E家WEB","des_name":"注册来源","des_type":"09","effective":"1","id":39,"the_order":1},{"des_detail_id":"02","des_detail_name":"NC","des_name":"注册来源","des_type":"09","effective":"1","id":40,"the_order":2},{"des_detail_id":"03","des_detail_name":"黄豆侠WEB","des_name":"注册来源","des_type":"09","effective":"1","id":41,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆侠微信","des_name":"注册来源","des_type":"09","effective":"1","id":42,"the_order":4},{"des_detail_id":"05","des_detail_name":"黄豆侠APP","des_name":"注册来源","des_type":"09","effective":"1","id":43,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠WAP","des_name":"注册来源","des_type":"09","effective":"1","id":44,"the_order":6},{"des_detail_id":"07","des_detail_name":"黄豆E家微信","des_name":"注册来源","des_type":"09","effective":"1","id":45,"the_order":7},{"des_detail_id":"08","des_detail_name":"黄豆E家APP","des_name":"注册来源","des_type":"09","effective":"1","id":46,"the_order":8},{"des_detail_id":"09","des_detail_name":"黄豆E家QQ营销","des_name":"注册来源","des_type":"09","effective":"1","id":47,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"注册来源","des_type":"09","effective":"1","id":48,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"注册来源","des_type":"09","effective":"1","id":49,"the_order":11},{"des_detail_id":"13","des_detail_name":"黄豆优推","des_name":"注册来源","des_type":"09","effective":"1","id":273,"the_order":13},{"des_detail_id":"12","des_detail_name":"代理人","des_name":"注册来源","des_type":"09","id":10000},{"des_detail_id":"01","des_detail_name":"直供大客户 ","des_name":"买家类别","des_type":"10","effective":"1","id":50,"the_order":1},{"des_detail_id":"02","des_detail_name":"区域规模客户","des_name":"买家类别","des_type":"10","effective":"1","id":51,"the_order":2},{"des_detail_id":"03","des_detail_name":"零售终端客户","des_name":"买家类别","des_type":"10","effective":"1","id":52,"the_order":3},{"des_detail_id":"04","des_detail_name":"县平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":53,"the_order":4},{"des_detail_id":"05","des_detail_name":"省平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":54,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠平台供应商客户","des_name":"买家类别","des_type":"10","effective":"1","id":258,"the_order":6},{"des_detail_id":"99","des_detail_name":"未分配","des_name":"买家类别","des_type":"10","effective":"1","id":55,"the_order":99},{"des_detail_id":"01","des_detail_name":"天音通信","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":56,"the_order":1},{"des_detail_id":"02","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":57,"the_order":2},{"des_detail_id":"03","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":58,"the_order":3},{"des_detail_id":"04","des_detail_name":"国代商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":59,"the_order":4},{"des_detail_id":"05","des_detail_name":"国代分公司","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":60,"the_order":5},{"des_detail_id":"06","des_detail_name":"省包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":61,"the_order":6},{"des_detail_id":"07","des_detail_name":"地包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":62,"the_order":7},{"des_detail_id":"08","des_detail_name":"通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":63,"the_order":8},{"des_detail_id":"09","des_detail_name":"联通平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":64,"the_order":9},{"des_detail_id":"10","des_detail_name":"联通平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":65,"the_order":10},{"des_detail_id":"11","des_detail_name":"移动平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":66,"the_order":11},{"des_detail_id":"12","des_detail_name":"移动平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":67,"the_order":12},{"des_detail_id":"13","des_detail_name":"电信平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":68,"the_order":13},{"des_detail_id":"14","des_detail_name":"电信平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":69,"the_order":14},{"des_detail_id":"16","des_detail_name":"旧模式县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":70,"the_order":16},{"des_detail_id":"17","des_detail_name":"自采自营（入sap）","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":259,"the_order":17},{"des_detail_id":"18","des_detail_name":"旧模式省级通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":260,"the_order":18},{"des_detail_id":"19","des_detail_name":"省平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":261,"the_order":19},{"des_detail_id":"20","des_detail_name":"县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":262,"the_order":20},{"des_detail_id":"21","des_detail_name":"苹果配件销售平台平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":263,"the_order":21},{"des_detail_id":"22","des_detail_name":"黄豆侠平台供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":264,"the_order":22},{"des_detail_id":"1","des_detail_name":"黄豆E家WEB","des_name":"登录来源","des_type":"12","effective":"1","id":71,"the_order":1},{"des_detail_id":"2","des_detail_name":"黄豆侠WEB","des_name":"登录来源","des_type":"12","effective":"1","id":72,"the_order":2},{"des_detail_id":"4","des_detail_name":"黄豆侠微信","des_name":"登录来源","des_type":"12","effective":"1","id":73,"the_order":4},{"des_detail_id":"5","des_detail_name":"黄豆侠APP","des_name":"登录来源","des_type":"12","effective":"1","id":74,"the_order":5},{"des_detail_id":"6","des_detail_name":"黄豆侠WAP","des_name":"登录来源","des_type":"12","effective":"1","id":75,"the_order":6},{"des_detail_id":"7","des_detail_name":"黄豆E家微信","des_name":"登录来源","des_type":"12","effective":"1","id":76,"the_order":7},{"des_detail_id":"8","des_detail_name":"黄豆E家APP","des_name":"登录来源","des_type":"12","effective":"1","id":77,"the_order":8},{"des_detail_id":"9","des_detail_name":"黄豆E家QQ营销","des_name":"登录来源","des_type":"12","effective":"1","id":78,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"登录来源","des_type":"12","effective":"1","id":79,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"登录来源","des_type":"12","effective":"1","id":80,"the_order":11},{"att_manage_id":5,"des_detail_id":"1","des_detail_name":"属性1","des_name":"测试属性3","des_type":"13","effective":"1","id":201,"the_order":1},{"att_manage_id":5,"des_detail_id":"3","des_detail_name":"属性值1","des_name":"测试属性3","des_type":"13","effective":"1","id":203,"the_order":1},{"att_manage_id":5,"des_detail_id":"11","des_detail_name":"aa","des_name":"测试属性3","des_type":"13","effective":"1","id":212,"the_order":1},{"att_manage_id":5,"des_detail_id":"2","des_detail_name":"属性3","des_name":"测试属性3","des_type":"13","effective":"1","id":202,"the_order":2},{"att_manage_id":5,"des_detail_id":"4","des_detail_name":"属性值2","des_name":"测试属性3","des_type":"13","effective":"1","id":204,"the_order":2},{"att_manage_id":5,"des_detail_id":"5","des_detail_name":"属性值3","des_name":"测试属性3","des_type":"13","effective":"1","id":205,"the_order":3},{"att_manage_id":5,"des_detail_id":"6","des_detail_name":"属性值4","des_name":"测试属性3","des_type":"13","effective":"1","id":206,"the_order":4},{"att_manage_id":5,"des_detail_id":"7","des_detail_name":"属性值5","des_name":"测试属性3","des_type":"13","effective":"1","id":207,"the_order":5},{"att_manage_id":5,"des_detail_id":"8","des_detail_name":"属性值6","des_name":"测试属性3","des_type":"13","effective":"1","id":208,"the_order":6},{"att_manage_id":5,"des_detail_id":"9","des_detail_name":"a","des_name":"测试属性3","des_type":"13","effective":"1","id":209},{"att_manage_id":5,"des_detail_id":"10","des_detail_name":"b","des_name":"测试属性3","des_type":"13","effective":"1","id":210},{"att_manage_id":6,"des_name":"fff","des_type":"14","id":211},{"att_manage_id":9,"des_name":"县平台物流","des_type":"17","id":216},{"des_detail_id":"1","des_detail_name":"注册会员","des_name":"会员等级","des_type":"18","id":265,"the_order":1},{"des_detail_id":"2","des_detail_name":"普通会员","des_name":"会员等级","des_type":"18","id":266,"the_order":2},{"des_detail_id":"3","des_detail_name":"铜牌会员","des_name":"会员等级","des_type":"18","id":267,"the_order":3},{"des_detail_id":"4","des_detail_name":"银牌会员","des_name":"会员等级","des_type":"18","id":268,"the_order":4},{"des_detail_id":"5","des_detail_name":"金牌会员","des_name":"会员等级","des_type":"18","id":269,"the_order":5},{"des_detail_id":"6","des_detail_name":"钻石会员","des_name":"会员等级","des_type":"18","id":270,"the_order":6},{"des_detail_id":"01","des_detail_name":"新黄豆侠","des_name":"应用网站","des_type":"19","id":271,"the_order":1},{"des_detail_id":"01","des_detail_name":"后台规则","des_name":"规则发起方","des_type":"20","id":272,"the_order":1},{"des_detail_id":"01","des_detail_name":"CRM后台","des_name":"标签指定渠道","des_type":"21","id":10001,"the_order":1},{"des_detail_id":"02","des_detail_name":"小能IM","des_name":"标签指定渠道","des_type":"21","id":10002,"the_order":2},{"des_detail_id":"03","des_detail_name":"系统自动","des_name":"标签指定渠道","des_type":"21","id":10003,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆优服APP","des_name":"标签指定渠道","des_type":"21","effective":"1","id":666,"the_order":4},{"att_manage_id":34,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintest2","des_type":"23","effective":"1","id":362,"the_order":1},{"att_manage_id":34,"des_detail_id":"2","des_detail_name":"bbb","des_name":"xintest2","des_type":"23","effective":"1","id":363,"the_order":2},{"att_manage_id":35,"des_name":"zhangmx","des_type":"24","id":356},{"att_manage_id":36,"des_name":"是否必填测试","des_type":"25","id":357},{"att_manage_id":38,"des_name":"5553","des_type":"26","id":359},{"att_manage_id":39,"des_name":"54353","des_type":"27","id":360},{"att_manage_id":40,"des_name":"鹅鹅鹅饿饿","des_type":"28","id":361},{"att_manage_id":42,"des_name":"他婷婷婷婷","des_type":"29","id":365},{"des_name":"NodeList","des_type":"3","id":9999,"the_order":3},{"att_manage_id":43,"des_name":"xintest3","des_type":"30","id":366},{"att_manage_id":44,"des_name":"xintest477","des_type":"31","id":367},{"att_manage_id":45,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintes3","des_type":"32","effective":"1","id":394,"remark":"1","the_order":1},{"att_manage_id":46,"des_name":"xintest6","des_type":"33","id":369},{"att_manage_id":47,"des_detail_id":"1","des_detail_name":"aa","des_name":"张明霞","des_type":"34","effective":"1","id":374,"the_order":1},{"att_manage_id":48,"des_name":"yyyy","des_type":"35","id":372},{"att_manage_id":49,"des_name":"张明霞111111","des_type":"36","id":373},{"att_manage_id":50,"des_name":"店铺属性1","des_type":"37","id":375},{"att_manage_id":51,"des_detail_id":"2","des_detail_name":"test1店铺信息","des_name":"多选属性值","des_type":"38","effective":"1","id":405,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"1","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到","des_name":"多选属性值","des_type":"38","effective":"1","id":404,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"3","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到11","des_name":"多选属性值","des_type":"38","effective":"1","id":406,"remark":"22","the_order":22},{"att_manage_id":51,"des_detail_id":"4","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到22","des_name":"多选属性值","des_type":"38","effective":"1","id":407,"remark":"33","the_order":33},{"att_manage_id":52,"des_detail_id":"1","des_detail_name":"维护联系人属性","des_name":"联系人属性","des_type":"39","effective":"1","id":379,"remark":"11","the_order":11},{"att_manage_id":52,"des_detail_id":"2","des_detail_name":"维护联系人属性1","des_name":"联系人属性","des_type":"39","effective":"1","id":380,"remark":"22","the_order":22},{"att_manage_id":53,"des_name":"公司信息属性1","des_type":"40","id":381},{"att_manage_id":54,"des_detail_id":"1","des_detail_name":"属性值1","des_name":"公司信息属性2","des_type":"41","effective":"1","id":384,"remark":"1","the_order":1},{"att_manage_id":54,"des_detail_id":"2","des_detail_name":"属性2","des_name":"公司信息属性2","des_type":"41","effective":"1","id":385,"remark":"2","the_order":2},{"att_manage_id":55,"des_name":"属性输入","des_type":"42","id":386},{"att_manage_id":57,"des_name":"test1公司属性","des_type":"43","id":395},{"att_manage_id":58,"des_name":"test1公司属性2","des_type":"44","id":396},{"att_manage_id":59,"des_detail_id":"1","des_detail_name":"kuck","des_name":"联系人信息test1","des_type":"45","effective":"1","id":409,"remark":"aaa","the_order":2},{"att_manage_id":60,"des_name":"黄豆","des_type":"46","id":410},{"des_name":"NodeList","des_type":"5","id":9998,"the_order":5},{"des_name":"NodeList","des_type":"8","id":9997,"the_order":8},{"att_manage_id":56,"des_detail_id":"1","des_detail_name":"cem","des_name":"xintest7","des_type":"9","effective":"1","id":393,"remark":"1","the_order":1}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerPortServiceImpl - ls = [{"des_detail_id":"1","des_detail_name":"中国联通","des_name":"合作运营商","des_type":"01","effective":"1","id":1,"the_order":1},{"des_detail_id":"2","des_detail_name":"中国移动","des_name":"合作运营商","des_type":"01","effective":"1","id":2,"the_order":2},{"des_detail_id":"3","des_detail_name":"中国电信","des_name":"合作运营商","des_type":"01","effective":"1","id":3,"the_order":3},{"des_detail_id":"4","des_detail_name":"无合作","des_name":"合作运营商","des_type":"01","effective":"1","id":4,"the_order":4},{"des_detail_id":"10","des_detail_name":"手机","des_name":"主营品类","des_type":"02","effective":"1","id":5,"the_order":1},{"des_detail_id":"20","des_detail_name":"平板","des_name":"主营品类","des_type":"02","effective":"1","id":6,"the_order":2},{"des_detail_id":"30","des_detail_name":"智能设备","des_name":"主营品类","des_type":"02","effective":"1","id":7,"the_order":3},{"des_detail_id":"40","des_detail_name":"手机配件","des_name":"主营品类","des_type":"02","effective":"1","id":8,"the_order":4},{"des_detail_id":"98","des_detail_name":"都涉及","des_name":"主营品类","des_type":"02","effective":"1","id":217,"the_order":98},{"des_detail_id":"99","des_detail_name":"其他","des_name":"主营品类","des_type":"02","effective":"1","id":218,"the_order":99},{"des_detail_id":"01","des_detail_name":"华为","des_name":"主营品牌","des_type":"03","effective":"1","id":9,"the_order":1},{"des_detail_id":"02","des_detail_name":"三星","des_name":"主营品牌","des_type":"03","effective":"1","id":10,"the_order":2},{"des_detail_id":"03","des_detail_name":"苹果","des_name":"主营品牌","des_type":"03","effective":"1","id":11,"the_order":3},{"des_detail_id":"04","des_detail_name":"小米","des_name":"主营品牌","des_type":"03","effective":"1","id":12,"the_order":4},{"des_detail_id":"05","des_detail_name":"酷派","des_name":"主营品牌","des_type":"03","effective":"1","id":13,"the_order":5},{"des_detail_id":"06","des_detail_name":"瓦戈","des_name":"主营品牌","des_type":"03","effective":"1","id":14,"the_order":6},{"des_detail_id":"07","des_detail_name":"oppo","des_name":"主营品牌","des_type":"03","effective":"1","id":219,"the_order":7},{"des_detail_id":"08","des_detail_name":"步步高","des_name":"主营品牌","des_type":"03","effective":"1","id":220,"the_order":8},{"des_detail_id":"09","des_detail_name":"魅族","des_name":"主营品牌","des_type":"03","effective":"1","id":221,"the_order":9},{"des_detail_id":"10","des_detail_name":"联想","des_name":"主营品牌","des_type":"03","effective":"1","id":222,"the_order":10},{"des_detail_id":"11","des_detail_name":"vivo","des_name":"主营品牌","des_type":"03","effective":"1","id":223,"the_order":11},{"des_detail_id":"12","des_detail_name":"金立","des_name":"主营品牌","des_type":"03","effective":"1","id":224,"the_order":12},{"des_detail_id":"13","des_detail_name":"中兴","des_name":"主营品牌","des_type":"03","effective":"1","id":225,"the_order":13},{"des_detail_id":"14","des_detail_name":"小辣椒","des_name":"主营品牌","des_type":"03","effective":"1","id":226,"the_order":14},{"des_detail_id":"15","des_detail_name":"诺基亚","des_name":"主营品牌","des_type":"03","effective":"1","id":227,"the_order":15},{"des_detail_id":"16","des_detail_name":"万利达","des_name":"主营品牌","des_type":"03","effective":"1","id":228,"the_order":16},{"des_detail_id":"17","des_detail_name":"康佳","des_name":"主营品牌","des_type":"03","effective":"1","id":229,"the_order":17},{"des_detail_id":"18","des_detail_name":"朵唯","des_name":"主营品牌","des_type":"03","effective":"1","id":230,"the_order":18},{"des_detail_id":"19","des_detail_name":"爱我","des_name":"主营品牌","des_type":"03","effective":"1","id":231,"the_order":19},{"des_detail_id":"20","des_detail_name":"长虹","des_name":"主营品牌","des_type":"03","effective":"1","id":232,"the_order":20},{"des_detail_id":"21","des_detail_name":"海信","des_name":"主营品牌","des_type":"03","effective":"1","id":233,"the_order":21},{"des_detail_id":"22","des_detail_name":"乐视","des_name":"主营品牌","des_type":"03","effective":"1","id":238,"the_order":22},{"des_detail_id":"23","des_detail_name":"中诺","des_name":"主营品牌","des_type":"03","effective":"1","id":239,"the_order":23},{"des_detail_id":"24","des_detail_name":"青橙","des_name":"主营品牌","des_type":"03","effective":"1","id":240,"the_order":24},{"des_detail_id":"25","des_detail_name":"努比亚","des_name":"主营品牌","des_type":"03","effective":"1","id":241,"the_order":25},{"des_detail_id":"26","des_detail_name":"TCL","des_name":"主营品牌","des_type":"03","effective":"1","id":242,"the_order":26},{"des_detail_id":"27","des_detail_name":"百利丰","des_name":"主营品牌","des_type":"03","effective":"1","id":243,"the_order":27},{"des_detail_id":"28","des_detail_name":"亿通","des_name":"主营品牌","des_type":"03","effective":"1","id":244,"the_order":28},{"des_detail_id":"29","des_detail_name":"波导","des_name":"主营品牌","des_type":"03","effective":"1","id":245,"the_order":29},{"des_detail_id":"30","des_detail_name":"优思","des_name":"主营品牌","des_type":"03","effective":"1","id":246,"the_order":30},{"des_detail_id":"01","des_detail_name":"黄豆E家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":15,"the_order":1},{"des_detail_id":"02","des_detail_name":"51订货网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":16,"the_order":2},{"des_detail_id":"03","des_detail_name":"易直供","des_name":"主要进货渠道","des_type":"04","effective":"1","id":17,"the_order":3},{"des_detail_id":"04","des_detail_name":"通讯市场","des_name":"主要进货渠道","des_type":"04","effective":"1","id":18,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"主要进货渠道","des_type":"04","effective":"1","id":19,"the_order":5},{"des_detail_id":"06","des_detail_name":"终端公司","des_name":"主要进货渠道","des_type":"04","effective":"1","id":234,"the_order":6},{"des_detail_id":"07","des_detail_name":"厂家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":235,"the_order":7},{"des_detail_id":"08","des_detail_name":"天音通信","des_name":"主要进货渠道","des_type":"04","effective":"1","id":236,"the_order":8},{"des_detail_id":"09","des_detail_name":"爱施德","des_name":"主要进货渠道","des_type":"04","effective":"1","id":237,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆侠","des_name":"主要进货渠道","des_type":"04","effective":"1","id":247,"the_order":10},{"des_detail_id":"11","des_detail_name":"3G手机网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":248,"the_order":11},{"des_detail_id":"12","des_detail_name":"地包商","des_name":"主要进货渠道","des_type":"04","effective":"1","id":249,"the_order":12},{"des_detail_id":"13","des_detail_name":"1号机","des_name":"主要进货渠道","des_type":"04","effective":"1","id":250,"the_order":13},{"des_detail_id":"14","des_detail_name":"沃易购","des_name":"主要进货渠道","des_type":"04","effective":"1","id":251,"the_order":14},{"des_detail_id":"15","des_detail_name":"京东","des_name":"主要进货渠道","des_type":"04","effective":"1","id":252,"the_order":15},{"des_detail_id":"16","des_detail_name":"淘宝","des_name":"主要进货渠道","des_type":"04","effective":"1","id":253,"the_order":16},{"des_detail_id":"17","des_detail_name":"厂家官网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":254,"the_order":17},{"des_detail_id":"18","des_detail_name":"易道网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":255,"the_order":18},{"des_detail_id":"19","des_detail_name":"开店通","des_name":"主要进货渠道","des_type":"04","effective":"1","id":256,"the_order":19},{"des_detail_id":"20","des_detail_name":"九牛网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":257,"the_order":20},{"des_detail_id":"11","des_detail_name":"黄豆E家","des_name":"合作网站","des_type":"05","effective":"1","id":20,"the_order":1},{"des_detail_id":"12","des_detail_name":"51订货网","des_name":"合作网站","des_type":"05","effective":"1","id":21,"the_order":2},{"des_detail_id":"13","des_detail_name":"易直供","des_name":"合作网站","des_type":"05","effective":"1","id":22,"the_order":3},{"des_detail_id":"14","des_detail_name":"淘宝","des_name":"合作网站","des_type":"05","effective":"1","id":23,"the_order":4},{"des_detail_id":"15","des_detail_name":"其他","des_name":"合作网站","des_type":"05","effective":"1","id":24,"the_order":5},{"des_detail_id":"01","des_detail_name":"学校","des_name":"周边环境","des_type":"06","effective":"1","id":25,"the_order":1},{"des_detail_id":"02","des_detail_name":"商场","des_name":"周边环境","des_type":"06","effective":"1","id":26,"the_order":2},{"des_detail_id":"03","des_detail_name":"政府机构","des_name":"周边环境","des_type":"06","effective":"1","id":27,"the_order":3},{"des_detail_id":"04","des_detail_name":"公园","des_name":"周边环境","des_type":"06","effective":"1","id":28,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"周边环境","des_type":"06","effective":"1","id":29,"the_order":5},{"des_detail_id":"01","des_detail_name":"S","des_name":"公司规模性质","des_type":"07","effective":"1","id":30,"the_order":1},{"des_detail_id":"02","des_detail_name":"A","des_name":"公司规模性质","des_type":"07","effective":"1","id":31,"the_order":2},{"des_detail_id":"03","des_detail_name":"B","des_name":"公司规模性质","des_type":"07","effective":"1","id":32,"the_order":3},{"des_detail_id":"04","des_detail_name":"C","des_name":"公司规模性质","des_type":"07","effective":"1","id":33,"the_order":4},{"des_detail_id":"05","des_detail_name":"D","des_name":"公司规模性质","des_type":"07","effective":"1","id":34,"the_order":5},{"des_detail_id":"01","des_detail_name":"法人","des_name":"岗位","des_type":"08","effective":"1","id":35,"the_order":1},{"des_detail_id":"02","des_detail_name":"采购负责人","des_name":"岗位","des_type":"08","effective":"1","id":36,"the_order":2},{"des_detail_id":"03","des_detail_name":"销售负责人","des_name":"岗位","des_type":"08","effective":"1","id":37,"the_order":3},{"des_detail_id":"04","des_detail_name":"店长","des_name":"岗位","des_type":"08","effective":"1","id":38,"the_order":4},{"des_detail_id":"01","des_detail_name":"黄豆E家WEB","des_name":"注册来源","des_type":"09","effective":"1","id":39,"the_order":1},{"des_detail_id":"02","des_detail_name":"NC","des_name":"注册来源","des_type":"09","effective":"1","id":40,"the_order":2},{"des_detail_id":"03","des_detail_name":"黄豆侠WEB","des_name":"注册来源","des_type":"09","effective":"1","id":41,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆侠微信","des_name":"注册来源","des_type":"09","effective":"1","id":42,"the_order":4},{"des_detail_id":"05","des_detail_name":"黄豆侠APP","des_name":"注册来源","des_type":"09","effective":"1","id":43,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠WAP","des_name":"注册来源","des_type":"09","effective":"1","id":44,"the_order":6},{"des_detail_id":"07","des_detail_name":"黄豆E家微信","des_name":"注册来源","des_type":"09","effective":"1","id":45,"the_order":7},{"des_detail_id":"08","des_detail_name":"黄豆E家APP","des_name":"注册来源","des_type":"09","effective":"1","id":46,"the_order":8},{"des_detail_id":"09","des_detail_name":"黄豆E家QQ营销","des_name":"注册来源","des_type":"09","effective":"1","id":47,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"注册来源","des_type":"09","effective":"1","id":48,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"注册来源","des_type":"09","effective":"1","id":49,"the_order":11},{"des_detail_id":"13","des_detail_name":"黄豆优推","des_name":"注册来源","des_type":"09","effective":"1","id":273,"the_order":13},{"des_detail_id":"12","des_detail_name":"代理人","des_name":"注册来源","des_type":"09","id":10000},{"des_detail_id":"01","des_detail_name":"直供大客户 ","des_name":"买家类别","des_type":"10","effective":"1","id":50,"the_order":1},{"des_detail_id":"02","des_detail_name":"区域规模客户","des_name":"买家类别","des_type":"10","effective":"1","id":51,"the_order":2},{"des_detail_id":"03","des_detail_name":"零售终端客户","des_name":"买家类别","des_type":"10","effective":"1","id":52,"the_order":3},{"des_detail_id":"04","des_detail_name":"县平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":53,"the_order":4},{"des_detail_id":"05","des_detail_name":"省平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":54,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠平台供应商客户","des_name":"买家类别","des_type":"10","effective":"1","id":258,"the_order":6},{"des_detail_id":"99","des_detail_name":"未分配","des_name":"买家类别","des_type":"10","effective":"1","id":55,"the_order":99},{"des_detail_id":"01","des_detail_name":"天音通信","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":56,"the_order":1},{"des_detail_id":"02","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":57,"the_order":2},{"des_detail_id":"03","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":58,"the_order":3},{"des_detail_id":"04","des_detail_name":"国代商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":59,"the_order":4},{"des_detail_id":"05","des_detail_name":"国代分公司","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":60,"the_order":5},{"des_detail_id":"06","des_detail_name":"省包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":61,"the_order":6},{"des_detail_id":"07","des_detail_name":"地包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":62,"the_order":7},{"des_detail_id":"08","des_detail_name":"通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":63,"the_order":8},{"des_detail_id":"09","des_detail_name":"联通平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":64,"the_order":9},{"des_detail_id":"10","des_detail_name":"联通平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":65,"the_order":10},{"des_detail_id":"11","des_detail_name":"移动平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":66,"the_order":11},{"des_detail_id":"12","des_detail_name":"移动平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":67,"the_order":12},{"des_detail_id":"13","des_detail_name":"电信平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":68,"the_order":13},{"des_detail_id":"14","des_detail_name":"电信平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":69,"the_order":14},{"des_detail_id":"16","des_detail_name":"旧模式县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":70,"the_order":16},{"des_detail_id":"17","des_detail_name":"自采自营（入sap）","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":259,"the_order":17},{"des_detail_id":"18","des_detail_name":"旧模式省级通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":260,"the_order":18},{"des_detail_id":"19","des_detail_name":"省平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":261,"the_order":19},{"des_detail_id":"20","des_detail_name":"县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":262,"the_order":20},{"des_detail_id":"21","des_detail_name":"苹果配件销售平台平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":263,"the_order":21},{"des_detail_id":"22","des_detail_name":"黄豆侠平台供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":264,"the_order":22},{"des_detail_id":"1","des_detail_name":"黄豆E家WEB","des_name":"登录来源","des_type":"12","effective":"1","id":71,"the_order":1},{"des_detail_id":"2","des_detail_name":"黄豆侠WEB","des_name":"登录来源","des_type":"12","effective":"1","id":72,"the_order":2},{"des_detail_id":"4","des_detail_name":"黄豆侠微信","des_name":"登录来源","des_type":"12","effective":"1","id":73,"the_order":4},{"des_detail_id":"5","des_detail_name":"黄豆侠APP","des_name":"登录来源","des_type":"12","effective":"1","id":74,"the_order":5},{"des_detail_id":"6","des_detail_name":"黄豆侠WAP","des_name":"登录来源","des_type":"12","effective":"1","id":75,"the_order":6},{"des_detail_id":"7","des_detail_name":"黄豆E家微信","des_name":"登录来源","des_type":"12","effective":"1","id":76,"the_order":7},{"des_detail_id":"8","des_detail_name":"黄豆E家APP","des_name":"登录来源","des_type":"12","effective":"1","id":77,"the_order":8},{"des_detail_id":"9","des_detail_name":"黄豆E家QQ营销","des_name":"登录来源","des_type":"12","effective":"1","id":78,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"登录来源","des_type":"12","effective":"1","id":79,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"登录来源","des_type":"12","effective":"1","id":80,"the_order":11},{"att_manage_id":5,"des_detail_id":"1","des_detail_name":"属性1","des_name":"测试属性3","des_type":"13","effective":"1","id":201,"the_order":1},{"att_manage_id":5,"des_detail_id":"3","des_detail_name":"属性值1","des_name":"测试属性3","des_type":"13","effective":"1","id":203,"the_order":1},{"att_manage_id":5,"des_detail_id":"11","des_detail_name":"aa","des_name":"测试属性3","des_type":"13","effective":"1","id":212,"the_order":1},{"att_manage_id":5,"des_detail_id":"2","des_detail_name":"属性3","des_name":"测试属性3","des_type":"13","effective":"1","id":202,"the_order":2},{"att_manage_id":5,"des_detail_id":"4","des_detail_name":"属性值2","des_name":"测试属性3","des_type":"13","effective":"1","id":204,"the_order":2},{"att_manage_id":5,"des_detail_id":"5","des_detail_name":"属性值3","des_name":"测试属性3","des_type":"13","effective":"1","id":205,"the_order":3},{"att_manage_id":5,"des_detail_id":"6","des_detail_name":"属性值4","des_name":"测试属性3","des_type":"13","effective":"1","id":206,"the_order":4},{"att_manage_id":5,"des_detail_id":"7","des_detail_name":"属性值5","des_name":"测试属性3","des_type":"13","effective":"1","id":207,"the_order":5},{"att_manage_id":5,"des_detail_id":"8","des_detail_name":"属性值6","des_name":"测试属性3","des_type":"13","effective":"1","id":208,"the_order":6},{"att_manage_id":5,"des_detail_id":"9","des_detail_name":"a","des_name":"测试属性3","des_type":"13","effective":"1","id":209},{"att_manage_id":5,"des_detail_id":"10","des_detail_name":"b","des_name":"测试属性3","des_type":"13","effective":"1","id":210},{"att_manage_id":6,"des_name":"fff","des_type":"14","id":211},{"att_manage_id":9,"des_name":"县平台物流","des_type":"17","id":216},{"des_detail_id":"1","des_detail_name":"注册会员","des_name":"会员等级","des_type":"18","id":265,"the_order":1},{"des_detail_id":"2","des_detail_name":"普通会员","des_name":"会员等级","des_type":"18","id":266,"the_order":2},{"des_detail_id":"3","des_detail_name":"铜牌会员","des_name":"会员等级","des_type":"18","id":267,"the_order":3},{"des_detail_id":"4","des_detail_name":"银牌会员","des_name":"会员等级","des_type":"18","id":268,"the_order":4},{"des_detail_id":"5","des_detail_name":"金牌会员","des_name":"会员等级","des_type":"18","id":269,"the_order":5},{"des_detail_id":"6","des_detail_name":"钻石会员","des_name":"会员等级","des_type":"18","id":270,"the_order":6},{"des_detail_id":"01","des_detail_name":"新黄豆侠","des_name":"应用网站","des_type":"19","id":271,"the_order":1},{"des_detail_id":"01","des_detail_name":"后台规则","des_name":"规则发起方","des_type":"20","id":272,"the_order":1},{"des_detail_id":"01","des_detail_name":"CRM后台","des_name":"标签指定渠道","des_type":"21","id":10001,"the_order":1},{"des_detail_id":"02","des_detail_name":"小能IM","des_name":"标签指定渠道","des_type":"21","id":10002,"the_order":2},{"des_detail_id":"03","des_detail_name":"系统自动","des_name":"标签指定渠道","des_type":"21","id":10003,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆优服APP","des_name":"标签指定渠道","des_type":"21","effective":"1","id":666,"the_order":4},{"att_manage_id":34,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintest2","des_type":"23","effective":"1","id":362,"the_order":1},{"att_manage_id":34,"des_detail_id":"2","des_detail_name":"bbb","des_name":"xintest2","des_type":"23","effective":"1","id":363,"the_order":2},{"att_manage_id":35,"des_name":"zhangmx","des_type":"24","id":356},{"att_manage_id":36,"des_name":"是否必填测试","des_type":"25","id":357},{"att_manage_id":38,"des_name":"5553","des_type":"26","id":359},{"att_manage_id":39,"des_name":"54353","des_type":"27","id":360},{"att_manage_id":40,"des_name":"鹅鹅鹅饿饿","des_type":"28","id":361},{"att_manage_id":42,"des_name":"他婷婷婷婷","des_type":"29","id":365},{"des_name":"NodeList","des_type":"3","id":9999,"the_order":3},{"att_manage_id":43,"des_name":"xintest3","des_type":"30","id":366},{"att_manage_id":44,"des_name":"xintest477","des_type":"31","id":367},{"att_manage_id":45,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintes3","des_type":"32","effective":"1","id":394,"remark":"1","the_order":1},{"att_manage_id":46,"des_name":"xintest6","des_type":"33","id":369},{"att_manage_id":47,"des_detail_id":"1","des_detail_name":"aa","des_name":"张明霞","des_type":"34","effective":"1","id":374,"the_order":1},{"att_manage_id":48,"des_name":"yyyy","des_type":"35","id":372},{"att_manage_id":49,"des_name":"张明霞111111","des_type":"36","id":373},{"att_manage_id":50,"des_name":"店铺属性1","des_type":"37","id":375},{"att_manage_id":51,"des_detail_id":"2","des_detail_name":"test1店铺信息","des_name":"多选属性值","des_type":"38","effective":"1","id":405,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"1","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到","des_name":"多选属性值","des_type":"38","effective":"1","id":404,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"3","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到11","des_name":"多选属性值","des_type":"38","effective":"1","id":406,"remark":"22","the_order":22},{"att_manage_id":51,"des_detail_id":"4","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到22","des_name":"多选属性值","des_type":"38","effective":"1","id":407,"remark":"33","the_order":33},{"att_manage_id":52,"des_detail_id":"1","des_detail_name":"维护联系人属性","des_name":"联系人属性","des_type":"39","effective":"1","id":379,"remark":"11","the_order":11},{"att_manage_id":52,"des_detail_id":"2","des_detail_name":"维护联系人属性1","des_name":"联系人属性","des_type":"39","effective":"1","id":380,"remark":"22","the_order":22},{"att_manage_id":53,"des_name":"公司信息属性1","des_type":"40","id":381},{"att_manage_id":54,"des_detail_id":"1","des_detail_name":"属性值1","des_name":"公司信息属性2","des_type":"41","effective":"1","id":384,"remark":"1","the_order":1},{"att_manage_id":54,"des_detail_id":"2","des_detail_name":"属性2","des_name":"公司信息属性2","des_type":"41","effective":"1","id":385,"remark":"2","the_order":2},{"att_manage_id":55,"des_name":"属性输入","des_type":"42","id":386},{"att_manage_id":57,"des_name":"test1公司属性","des_type":"43","id":395},{"att_manage_id":58,"des_name":"test1公司属性2","des_type":"44","id":396},{"att_manage_id":59,"des_detail_id":"1","des_detail_name":"kuck","des_name":"联系人信息test1","des_type":"45","effective":"1","id":409,"remark":"aaa","the_order":2},{"att_manage_id":60,"des_name":"黄豆","des_type":"46","id":410},{"des_name":"NodeList","des_type":"5","id":9998,"the_order":5},{"des_name":"NodeList","des_type":"8","id":9997,"the_order":8},{"att_manage_id":56,"des_detail_id":"1","des_detail_name":"cem","des_name":"xintest7","des_type":"9","effective":"1","id":393,"remark":"1","the_order":1}]
INFO  [2018-12-28 15:11:00,540] cn.ihdou.crm.buyermanage.dao.impl.CompanyInfoDaoImpl - SELECT CI.USER_ID, CI.ID companyId, U.USERNAME, BI.BUYERID BUYER_ID, CI.PROVINCE_ID, CI.CITY_ID, CI.AREA_ID, t.townid AS town_id, (AI0.AREANAME || ',' || AI1.AREANAME || ',' || AI2.AREANAME || ',' || t.townname ) AS AREA_TEXT, CI.COMPANY_ADDRESS, CI.COMPANY_SCALE, CI.SHOP_NUM, CI.MONTH_SALES, CI.MONTH_VOLUME, CI.COOPERATE_OPERATOR, CI.COOPERATE_TY, CI.MAIN_CATEGORY, CI.MAIN_BRAND, CI.ONLINE_SHOP, CI.MAIN_PURCHASE_CHANNEL, CI.ESTABLISH_DATE, CI.COOPERATE_NET, CI.ISCOUNTY, CI.COUNTY_ESTABLISH_DATE, CI.ESTABLISH_YEAR ESTABLISHYEAR FROM CRM_COMPANY_INFO CI INNER JOIN USERS U ON CI.USER_ID = U.USERID INNER JOIN BUYERINFO BI ON BI.USERID = U.USERID LEFT JOIN AREAINFO AI0 ON AI0.AREAID = CI.PROVINCE_ID LEFT JOIN AREAINFO AI1 ON AI1.AREAID = CI.CITY_ID LEFT JOIN AREAINFO AI2 ON AI2.AREAID = CI.AREA_ID LEFT JOIN towninfo t  ON CI.town_id = t.townid and t.status = '1' WHERE CI.USER_ID = '289448' AND CI.DEL_FLAG = 1
INFO  [2018-12-28 15:11:00,589] cn.ihdou.crm.buyermanage.dao.impl.CompanyInfoDaoImpl - select name pri_contacts,telphone pri_mobile from crm_contacts_info where del_flag=1 and is_main_contact=1 and user_id='289448'
INFO  [2018-12-28 15:11:00,593] cn.ihdou.crm.buyermanage.dao.impl.CompanyInfoDaoImpl - INSERT INTO CRM_COMPANY_INFO(ID,USER_ID,DEL_FLAG,ADD_USER,ADD_DATE) VALUES(SEQ_CRM_COMPANY_INFO_ID.NEXTVAL,'289448',1,1,SYSDATE)
INFO  [2018-12-28 15:11:00,599] cn.ihdou.crm.buyermanage.dao.impl.CompanyInfoDaoImpl - SELECT CI.USER_ID, CI.ID companyId, U.USERNAME, BI.BUYERID BUYER_ID, CI.PROVINCE_ID, CI.CITY_ID, CI.AREA_ID, t.townid AS town_id, (AI0.AREANAME || ',' || AI1.AREANAME || ',' || AI2.AREANAME || ',' || t.townname ) AS AREA_TEXT, CI.COMPANY_ADDRESS, CI.COMPANY_SCALE, CI.SHOP_NUM, CI.MONTH_SALES, CI.MONTH_VOLUME, CI.COOPERATE_OPERATOR, CI.COOPERATE_TY, CI.MAIN_CATEGORY, CI.MAIN_BRAND, CI.ONLINE_SHOP, CI.MAIN_PURCHASE_CHANNEL, CI.ESTABLISH_DATE, CI.COOPERATE_NET, CI.ISCOUNTY, CI.COUNTY_ESTABLISH_DATE, CI.ESTABLISH_YEAR ESTABLISHYEAR FROM CRM_COMPANY_INFO CI INNER JOIN USERS U ON CI.USER_ID = U.USERID INNER JOIN BUYERINFO BI ON BI.USERID = U.USERID LEFT JOIN AREAINFO AI0 ON AI0.AREAID = CI.PROVINCE_ID LEFT JOIN AREAINFO AI1 ON AI1.AREAID = CI.CITY_ID LEFT JOIN AREAINFO AI2 ON AI2.AREAID = CI.AREA_ID LEFT JOIN towninfo t  ON CI.town_id = t.townid and t.status = '1' WHERE CI.USER_ID = '289448' AND CI.DEL_FLAG = 1
DEBUG [2018-12-28 15:11:00,613] cn.ihdou.crm.buyermanage.dao.impl.CompanyInfoDaoImpl - list:{"area_text":",,,","buyer_id":410572,"companyId":30753,"user_id":289448,"username":"信测试供应商"}
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerPortServiceImpl - companyDetailInfoVo = {"area_text":",","buyer_id":410572,"companyId":30753,"user_id":289448,"username":"信测试供应商"}
INFO  [2018-12-28 15:11:03,665] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:11:04,167] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:11:04,167] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:11:05,964] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:11:06,348  INFO [DubboServerHandler-192.168.102.37:20200-thread-38] (MtCartServiceImpl.java:113) - 调用加入购物车服务开始！{"active_id":"0","customer_user_id":"239034","num":1,"order_type":"01","source_url":"http://test7.ihdou.com/IHDouMall/frontbuyer/productmodel/detail/54500.html?couponSingleId=&type=","supply_area_id":"1501308","supply_id":"13981"}
2018-12-28 15:11:06,349  INFO [DubboServerHandler-192.168.102.37:20200-thread-38] (MtCartServiceImpl.java:122) - 获得产品信息开始！supply_area_id=1501308
2018-12-28 15:11:06,353 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-38] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name, si.id shopid, s.user_id userid, s.deliver_type, s.supply_type,si.shop_logo, s.province_id,s.supply_level,s.goods_type,s.city_id from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' where s.supply_status = '02' and s.del_flag = '1' ) select sa0.id supply_area_id, s.id supply_id, s.userid supply_userid,s.supply_name, s.shopid, s.deliver_type ,s.supply_type, s.province_id,s.city_id ,s.supply_level,s.goods_type, sa0.onshelftime add_time, sa0.priceretailonline product_price, pm.productname product_name,pm.productid product_id,pp.picturepath1,pp.picturepath2,pp.picturepath3,pp.picturepath4,pp.picturepath5,pp.mobile_img,pp.mobile_img1,pp.mobile_img2,pp.mobile_img3,pp.mobile_img4,pp.mobile_img5 ,sa0.aftersale,sa0.gifts,sa0.supplyproductid shop_product_id,sa0.pk_stordoc,sa0.is_contain_invoice,sa0.status, sa0.SALETYPE, sa0.IS_LIMITED isLimited, sa0.LIMITED_NUM limitedNum ,sa0.overplusnumber stock, pm.color,ul.sellerlevel,s.shop_logo,pb.brandname product_brand,pmo.modelname product_model,ps.sort_type sortType from supply_area0 sa0 inner join shop_product sp on sp.id = sa0.supplyproductid and sa0.isvalid = '01' and sa0.del_flag = '1' and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' inner join supplies s on s.id = sp.supplyid left join user_level ul on ul.userid = s.userid left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid left join product_brand pb on pb.brandid=pm.brandid left join product_model pmo on pm.productpattern=pmo.modelid left join product_sort ps on pm.sortid = ps.sortid where sa0.id = ? 
2018-12-28 15:11:06,354 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-38] (BaseJdbcLogger.java:139) - ==> Parameters: 1501308(BigDecimal)
2018-12-28 15:11:06,424 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-38] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:11:06,510  INFO [DubboServerHandler-192.168.102.37:20200-thread-38] (MtCartServiceImpl.java:124) - 获得产品信息结束！{"add_time":1487232117000,"city_id":"3721","color":"蓝色","deliver_type":"06","gifts":" ","goods_type":"2","is_contain_invoice":"0","mobile_img":"//product/20160406140130_1459922490554_l.jpg","mobile_img1":"//product/20160406140130_1459922490554_d.jpg","mobile_img2":"//product/20160406140130_1459922490570_d.jpg","mobile_img3":"//product/20160406140130_1459922490585_d.jpg","picturepath1":"/product/20160406140130_1459922490554.jpg","picturepath2":"/product/20160406140130_1459922490570.jpg","picturepath3":"/product/20160406140130_1459922490585.jpg","product_brand":"360","product_id":54500,"product_model":"F4高配版","product_name":"360 F4高配版 32G 蓝色 移动4G 原装","product_price":1.02,"province_id":"3586","saleType":"4","sellerlevel":0,"shop_product_id":500731,"sortType":"1","status":"1","stock":950,"supply_area_id":1501308,"supply_id":13981,"supply_level":"02","supply_name":"尟cN846228","supply_type":"22","supply_userid":259800}
2018-12-28 15:11:06,511 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-38] (BaseJdbcLogger.java:139) - ==>  Preparing: with seller as (select ts.id,ts.userid from tempsaler ts where ts.status='00' union all select s.id,s.user_id userid from supply s where s.del_flag='1' and s.supply_status='02') select su.userid from supply_area0 sa inner join shop_product sp on sa.supplyproductid=sp.id inner join seller su on su.id=sp.supplyid where sa.id = ? 
2018-12-28 15:11:06,511 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-38] (BaseJdbcLogger.java:139) - ==> Parameters: 1501308(BigDecimal)
2018-12-28 15:11:06,521 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-38] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:11:06,521 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-38] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name,s.deliver_type from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' where s.supply_status = '02' and s.del_flag = '1' union all select ts.id,ts.shopname supply_name,'04' deliver_type from tempsaler ts where ts.status = '00') select ca.id,ca.customer_id, cd.id cartDetailId,cd.supply_id,s.supply_name,s.deliver_type, cd.supply_area_id,sa0.supplyproductid shop_product_id, pp.picturepath1,pm.productid product_id,pm.productname product_name, cd.product_num,sa0.priceretailonline product_price,sa0.overplusnumber,sa0.aftersale,sa0.pk_stordoc, cd.order_type,cd.active_id from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supplies s on s.id = cd.supply_id inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid where ca.customer_id = ? 
2018-12-28 15:11:06,522 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-38] (BaseJdbcLogger.java:139) - ==> Parameters: 239034(String)
2018-12-28 15:11:06,558 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-38] (BaseJdbcLogger.java:139) - <==      Total: 2
2018-12-28 15:11:06,595  INFO [DubboServerHandler-192.168.102.37:20200-thread-38] (MtCartServiceImpl.java:209) - 查询该用户的购物车信息为：{"id":307694,"lstCartDetail":[{"active_id":0,"cart_id":307694,"deliver_type":"04","id":1165946,"maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/G71081395361200597.jpg","product_id":24284,"product_name":"三星 \tG7108 黑色 移动版","product_num":1,"product_price":609,"shopCartDetailId":1165946,"shop_product_id":200589,"stock":518,"supply_area_id":452869,"supply_id":10953,"supply_name":"屩yS541942"},{"active_id":0,"cart_id":307694,"deliver_type":"04","id":1163312,"maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/20160617094842723_722.jpg","product_id":24924,"product_name":"三星 9308I 黑色","product_num":1,"product_price":202,"shopCartDetailId":1163312,"shop_product_id":200584,"stock":4552,"supply_area_id":452864,"supply_id":10953,"supply_name":"屩yS541942"}],"userid":239034}
2018-12-28 15:11:06,595  INFO [DubboServerHandler-192.168.102.37:20200-thread-38] (MtCartServiceImpl.java:246) - 该产品不存在于购物车，新增新的购物车明细！{"active_id":0,"cart_id":307694,"maxbuy":0,"minbuy":0,"order_type":"01","product_num":1,"source_url":"http://test7.ihdou.com/IHDouMall/frontbuyer/productmodel/detail/54500.html?couponSingleId=&type=","supply_area_id":1501308,"supply_id":13981,"userid":239034}
2018-12-28 15:11:06,596 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-38] (BaseJdbcLogger.java:139) - ==>  Preparing: insert into ihd_cart_detail(id, cart_id, customer_id, supply_id, supply_area_id, product_num, del_flag, add_date, add_user, active_id, order_type,source_url) values (SEQ_CART_DETAIL_PK.NEXTVAL, ?, ?, ?, ?, ?, '1', sysdate, ?, ?, ?,?) 
2018-12-28 15:11:06,597 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-38] (BaseJdbcLogger.java:139) - ==> Parameters: 307694(BigDecimal), 239034(BigDecimal), 13981(BigDecimal), 1501308(BigDecimal), 1(BigDecimal), 239034(BigDecimal), 0(BigDecimal), 01(String), http://test7.ihdou.com/IHDouMall/frontbuyer/productmodel/detail/54500.html?couponSingleId=&type=(String)
2018-12-28 15:11:06,600 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-38] (BaseJdbcLogger.java:139) - <==    Updates: 1
2018-12-28 15:11:06,600  INFO [DubboServerHandler-192.168.102.37:20200-thread-38] (MtCartServiceImpl.java:248) - 调用加入购物车服务结束！
2018-12-28 15:11:06,608  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (MtCartQueryServiceImpl.java:76) - 查询买家的购物车明细信息开始！(已经按照供应商分组)customer_user_id=239034
2018-12-28 15:11:06,609 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name,s.deliver_type,s.supply_type,s.user_id supply_user_id, s.alias,s.province_id, s.city_id, s.area_id,ai.areaname province_name from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' left join areainfo ai on s.province_id = ai.areaid where s.supply_status = '02' and s.del_flag = '1' ) select ca.id,ca.customer_id, cd.id cartDetailId,cd.supply_id,s.supply_name,s.deliver_type,s.supply_type,s.supply_user_id,s.alias,s.province_id, s.city_id, s.area_id,s.province_name, cd.supply_area_id,sa0.supplyproductid shop_product_id,pp.picturepath1,pm.productid product_id,pm.productname product_name, cd.product_num,sa0.priceretailonline product_price,sa0.overplusnumber,sa0.is_contain_invoice, sa0.SALETYPE, sa0.IS_LIMITED, sa0.LIMITED_NUM, cd.order_type,cd.active_id,sa0.gifts,sa0.aftersale,sa0.pk_stordoc from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supplies s on s.id = cd.supply_id inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid where ca.customer_id = ? order by cd.id desc 
2018-12-28 15:11:06,610 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - ==> Parameters: 239034(String)
2018-12-28 15:11:06,652 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - <==      Total: 3
2018-12-28 15:11:06,655  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (MtCartQueryServiceImpl.java:78) - 查询买家的购物车明细信息结束！(已经按照供应商分组)[{"alias":"香港特别行政区仓","area_id":629274,"city_id":3721,"deliver_type":"06","id":307694,"lstCartDetail":[{"active_id":0,"cart_id":307694,"deliver_type":"06","gifts":" ","id":1623725,"is_contain_invoice":"0","maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/20160406140130_1459922490554.jpg","product_id":54500,"product_name":"360 F4高配版 32G 蓝色 移动4G 原装","product_num":1,"product_price":1.02,"saleType":"4","shopCartDetailId":1623725,"shop_product_id":500731,"stock":950,"supply_area_id":1501308,"supply_id":13981,"supply_name":"尟cN846228","supply_user_id":259800}],"province_id":3586,"province_name":"香港","supply_id":13981,"supply_name":"尟cN846228","supply_type":"22","userid":239034},{"alias":"本地供货商","area_id":3722,"city_id":3721,"deliver_type":"04","id":307694,"lstCartDetail":[{"active_id":0,"cart_id":307694,"deliver_type":"04","gifts":"无","id":1165946,"is_contain_invoice":"0","maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/G71081395361200597.jpg","product_id":24284,"product_name":"三星 \tG7108 黑色 移动版","product_num":1,"product_price":609,"saleType":"2","shopCartDetailId":1165946,"shop_product_id":200589,"stock":518,"supply_area_id":452869,"supply_id":10953,"supply_name":"屩yS541942","supply_user_id":225809},{"active_id":0,"cart_id":307694,"deliver_type":"04","gifts":"手机膜","id":1163312,"is_contain_invoice":"0","maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/20160617094842723_722.jpg","product_id":24924,"product_name":"三星 9308I 黑色","product_num":1,"product_price":202,"saleType":"2","shopCartDetailId":1163312,"shop_product_id":200584,"stock":4552,"supply_area_id":452864,"supply_id":10953,"supply_name":"屩yS541942","supply_user_id":225809}],"province_id":3586,"province_name":"香港","supply_id":10953,"supply_name":"屩yS541942","supply_type":"20","userid":239034}]
2018-12-28 15:11:06,656 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name, si.id shopid, s.user_id userid, s.deliver_type, s.supply_type,si.shop_logo, s.province_id,s.supply_level,s.goods_type,s.city_id from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' where s.supply_status = '02' and s.del_flag = '1' ) select sa0.id supply_area_id, s.id supply_id, s.userid supply_userid,s.supply_name, s.shopid, s.deliver_type ,s.supply_type, s.province_id,s.city_id ,s.supply_level,s.goods_type, sa0.onshelftime add_time, sa0.priceretailonline product_price, pm.productname product_name,pm.productid product_id,pp.picturepath1,pp.picturepath2,pp.picturepath3,pp.picturepath4,pp.picturepath5,pp.mobile_img,pp.mobile_img1,pp.mobile_img2,pp.mobile_img3,pp.mobile_img4,pp.mobile_img5 ,sa0.aftersale,sa0.gifts,sa0.supplyproductid shop_product_id,sa0.pk_stordoc,sa0.is_contain_invoice,sa0.status, sa0.SALETYPE, sa0.IS_LIMITED isLimited, sa0.LIMITED_NUM limitedNum ,sa0.overplusnumber stock, pm.color,ul.sellerlevel,s.shop_logo,pb.brandname product_brand,pmo.modelname product_model,ps.sort_type sortType from supply_area0 sa0 inner join shop_product sp on sp.id = sa0.supplyproductid and sa0.isvalid = '01' and sa0.del_flag = '1' and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' inner join supplies s on s.id = sp.supplyid left join user_level ul on ul.userid = s.userid left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid left join product_brand pb on pb.brandid=pm.brandid left join product_model pmo on pm.productpattern=pmo.modelid left join product_sort ps on pm.sortid = ps.sortid where sa0.id = ? 
2018-12-28 15:11:06,660 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - ==> Parameters: 1501308(BigDecimal)
2018-12-28 15:11:06,667 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:11:06,668  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (MtCartQueryServiceImpl.java:107) - 卖家或者买家所在区域参与佣金减免活动开始参数customer_user_id=239034supply_id=%s13981,product_id=%s54500,product_price=%s1.02
2018-12-28 15:11:06,669  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:104) - 商品价格重新定义开始参数userid:"239034",spplyuserid:"13981",productid:"54500",product_price:1.02
2018-12-28 15:11:06,669  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:106) - 查询卖家信息开始参数[13981]
2018-12-28 15:11:06,671  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (SupplyDaoImpl.java:42) - 根据供应商id获得供应商信息[SELECT * FROM SUPPLY WHERE ID = '13981' AND DEL_FLAG = '1']
2018-12-28 15:11:06,740  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:108) - 查询卖家信息的结果是:[{"add_date":"2016-07-18 19:22:11","add_user":"259800","area_id":629274,"city_id":3721,"corp_code":"130225199201282947","corpcard_pic":"/supply/information/20160718194554168_118.jpg,/supply/information/20160718194559973_955.jpg","corporation":"赵嘉敏","deliver_type":"06","goods_type":"2","id":13981,"license_pic":"/supply/information/20160718194606090_877.jpg","manage_mode":"01","name":"尟cN846228","organ_pic":"/supply/information/20160718194614586_937.jpg","pri_mobile":"130514*****","pri_name":"赵嘉敏","province_id":3586,"regcode":"6554645","sales_mode":"01","supply_addr":"韩国结婚都是","supply_level":"02","supply_status":"02","supply_type":"22","tax_pic":"/supply/information/20160718194610578_494.jpg","taxcode":"46546","update_date":"2018-08-24 14:04:44","update_user":"254014","user_id":259800}]
2018-12-28 15:11:06,740  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:119) - 查询买家信息开始参数[239034]
2018-12-28 15:11:06,787  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:121) - 查询买家信息结果是:[{"addtime":"2016-01-07 15:44:43","approvetime":"2016-03-24 21:59:12","approveuser":150,"areaid":3722,"buyer_type":"03","buyerid":356044,"buyersource":"03","buyerstatus":"02","city":3721,"companyname":"岝HV201323","county":3722,"customer_code":"239034","delflag":"1","ismultiples":"1","mobile":"17746528729","pri_mobile":"177465*****","province":3586,"shopname":"zhengshitest","shortcompanyname":"zhengshitest","telephone":"17746528729","userid":239034}]
2018-12-28 15:11:06,788 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - ==>  Preparing: SELECT * from PRODUCT_MAIN pm where pm.PRODUCTID = ? 
2018-12-28 15:11:06,790 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - ==> Parameters: 54500(BigDecimal)
2018-12-28 15:11:06,803 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:11:06,807  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:138) - 调用基准规则接口查询供应商基准规则,参数为:[[{"productId":"54500","supplyId":"13981"}]]
2018-12-28 15:11:07,269  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:140) - 调用基准规则接口查询供应商基准规则,结果为[[{"isExistRule":"01","itemId":"54500","minMoney":10,"priceType":"01","productId":54500,"pubTime":"2018-12-27 11:29:00","ruleId":"e82bf8c981e4431ca05bff270fadf047","ruleKey":"01_05_04_02_13981_54500","ruleStatus":"02","ruleType":"05","ruleWay":"04","salesMode":"01","supplyId":13981}]]
2018-12-28 15:11:07,269  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:148) - 查出基准规则判断其规则类型入参[{"isExistRule":"01","itemId":"54500","minMoney":10,"priceType":"01","productId":54500,"pubTime":"2018-12-27 11:29:00","ruleId":"e82bf8c981e4431ca05bff270fadf047","ruleKey":"01_05_04_02_13981_54500","ruleStatus":"02","ruleType":"05","ruleWay":"04","salesMode":"01","supplyId":13981}]
2018-12-28 15:11:07,270  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:178) - 查询基准规则计算出基准加价/佣金结果[10]
2018-12-28 15:11:07,270  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:241) - 查询加价佣金活动开始，参数[areaid ="3722",supplyId ="13981",lastArea =true]
2018-12-28 15:11:07,359  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:243) - 查询加价佣金活动结束，结果[[]]
2018-12-28 15:11:07,360  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:181) - 商品最终销售价格加价为[{extra=10, discount=1}]
2018-12-28 15:11:07,360  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (MtCartQueryServiceImpl.java:120) - 卖家或者买家所在区域参与佣金减免活动结束，此时商品价格:price=11.02
2018-12-28 15:11:07,361 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name, si.id shopid, s.user_id userid, s.deliver_type, s.supply_type,si.shop_logo, s.province_id,s.supply_level,s.goods_type,s.city_id from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' where s.supply_status = '02' and s.del_flag = '1' ) select sa0.id supply_area_id, s.id supply_id, s.userid supply_userid,s.supply_name, s.shopid, s.deliver_type ,s.supply_type, s.province_id,s.city_id ,s.supply_level,s.goods_type, sa0.onshelftime add_time, sa0.priceretailonline product_price, pm.productname product_name,pm.productid product_id,pp.picturepath1,pp.picturepath2,pp.picturepath3,pp.picturepath4,pp.picturepath5,pp.mobile_img,pp.mobile_img1,pp.mobile_img2,pp.mobile_img3,pp.mobile_img4,pp.mobile_img5 ,sa0.aftersale,sa0.gifts,sa0.supplyproductid shop_product_id,sa0.pk_stordoc,sa0.is_contain_invoice,sa0.status, sa0.SALETYPE, sa0.IS_LIMITED isLimited, sa0.LIMITED_NUM limitedNum ,sa0.overplusnumber stock, pm.color,ul.sellerlevel,s.shop_logo,pb.brandname product_brand,pmo.modelname product_model,ps.sort_type sortType from supply_area0 sa0 inner join shop_product sp on sp.id = sa0.supplyproductid and sa0.isvalid = '01' and sa0.del_flag = '1' and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' inner join supplies s on s.id = sp.supplyid left join user_level ul on ul.userid = s.userid left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid left join product_brand pb on pb.brandid=pm.brandid left join product_model pmo on pm.productpattern=pmo.modelid left join product_sort ps on pm.sortid = ps.sortid where sa0.id = ? 
2018-12-28 15:11:07,361 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - ==> Parameters: 452869(BigDecimal)
2018-12-28 15:11:07,367 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:11:07,367  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (MtCartQueryServiceImpl.java:107) - 卖家或者买家所在区域参与佣金减免活动开始参数customer_user_id=239034supply_id=%s10953,product_id=%s24284,product_price=%s609
2018-12-28 15:11:07,368  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:104) - 商品价格重新定义开始参数userid:"239034",spplyuserid:"10953",productid:"24284",product_price:609
2018-12-28 15:11:07,368  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:106) - 查询卖家信息开始参数[10953]
2018-12-28 15:11:07,368  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (SupplyDaoImpl.java:42) - 根据供应商id获得供应商信息[SELECT * FROM SUPPLY WHERE ID = '10953' AND DEL_FLAG = '1']
2018-12-28 15:11:07,371  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:108) - 查询卖家信息的结果是:[{"add_date":"2015-10-28 16:06:42","add_user":"225809","area_id":3722,"city_id":3721,"corp_code":"130225199201282947","corpcard_pic":"/supply/information/20160718195740153_445.jpg,/supply/information/20160718195742799_602.jpg","corporation":"赵嘉敏","deliver_type":"04","goods_type":"4","id":10953,"license_pic":"/supply/information/20160718195745286_428.jpg","manage_mode":"01","name":"屩yS541942","organ_pic":"/supply/information/20160718195750535_513.jpg","pri_mobile":"136212*****","pri_name":"赵嘉敏","province_id":3586,"regcode":"123456","sales_mode":"01","supply_addr":"测试路","supply_status":"02","supply_type":"20","tax_pic":"/supply/information/20160718195748110_247.jpg","taxcode":"123456","update_date":"2016-07-18 19:59:36","update_user":"254014","user_id":225809}]
2018-12-28 15:11:07,371  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:119) - 查询买家信息开始参数[239034]
2018-12-28 15:11:07,375  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:121) - 查询买家信息结果是:[{"addtime":"2016-01-07 15:44:43","approvetime":"2016-03-24 21:59:12","approveuser":150,"areaid":3722,"buyer_type":"03","buyerid":356044,"buyersource":"03","buyerstatus":"02","city":3721,"companyname":"岝HV201323","county":3722,"customer_code":"239034","delflag":"1","ismultiples":"1","mobile":"17746528729","pri_mobile":"177465*****","province":3586,"shopname":"zhengshitest","shortcompanyname":"zhengshitest","telephone":"17746528729","userid":239034}]
2018-12-28 15:11:07,375 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - ==>  Preparing: SELECT * from PRODUCT_MAIN pm where pm.PRODUCTID = ? 
2018-12-28 15:11:07,376 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - ==> Parameters: 24284(BigDecimal)
2018-12-28 15:11:07,378 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-39] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:11:07,378  INFO [DubboServerHandler-192.168.102.37:20200-thread-39] (OrderQueryServiceImpl.java:138) - 调用基准规则接口查询供应商基准规则,参数为:[[{"productId":"24284","supplyId":"10953"}]]
2018-12-28 15:11:07,412 ERROR [DubboServerHandler-192.168.102.37:20200-thread-39] (ExceptionFilter.java:87) -  [DUBBO] Got unchecked and undeclared exception which called by 192.168.102.37. service: cn.ihdou.oms.cart.service.IMtCartQueryService, method: queryTLCartByUserIdGroupBySupply, exception: java.lang.NullPointerException: null, dubbo version: 2.5.3, current host: 192.168.102.37
java.lang.NullPointerException
	at com.ihdou.pricerule.service.impl.PriceRuleQueryServiceImpl.getPriceRuleDetailInfo(PriceRuleQueryServiceImpl.java:178)
	at com.ihdou.pricerule.service.impl.PriceRuleQueryServiceImpl.getPriceRuleLs(PriceRuleQueryServiceImpl.java:162)
	at com.alibaba.dubbo.common.bytecode.Wrapper32.invokeMethod(Wrapper32.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:60)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:112)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:108)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:84)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:82)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:722)
2018-12-28 15:11:08,004  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/attributeManage/getAttribute/09
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - AttributeManageController getAttribute start...
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - type : [09]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.ContactsInfoApiServiceImpl - ContactsInfoApiServiceImpl listContactsInfoByPage begin.
INFO  [2018-12-28 15:11:08,018] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - select * from crm_attribute where del_flag=1 order by des_type asc,the_order asc
DEBUG [2018-12-28 15:11:08,032] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - list:[{"des_detail_id":"1","des_detail_name":"中国联通","des_name":"合作运营商","des_type":"01","effective":"1","id":1,"the_order":1},{"des_detail_id":"2","des_detail_name":"中国移动","des_name":"合作运营商","des_type":"01","effective":"1","id":2,"the_order":2},{"des_detail_id":"3","des_detail_name":"中国电信","des_name":"合作运营商","des_type":"01","effective":"1","id":3,"the_order":3},{"des_detail_id":"4","des_detail_name":"无合作","des_name":"合作运营商","des_type":"01","effective":"1","id":4,"the_order":4},{"des_detail_id":"10","des_detail_name":"手机","des_name":"主营品类","des_type":"02","effective":"1","id":5,"the_order":1},{"des_detail_id":"20","des_detail_name":"平板","des_name":"主营品类","des_type":"02","effective":"1","id":6,"the_order":2},{"des_detail_id":"30","des_detail_name":"智能设备","des_name":"主营品类","des_type":"02","effective":"1","id":7,"the_order":3},{"des_detail_id":"40","des_detail_name":"手机配件","des_name":"主营品类","des_type":"02","effective":"1","id":8,"the_order":4},{"des_detail_id":"98","des_detail_name":"都涉及","des_name":"主营品类","des_type":"02","effective":"1","id":217,"the_order":98},{"des_detail_id":"99","des_detail_name":"其他","des_name":"主营品类","des_type":"02","effective":"1","id":218,"the_order":99},{"des_detail_id":"01","des_detail_name":"华为","des_name":"主营品牌","des_type":"03","effective":"1","id":9,"the_order":1},{"des_detail_id":"02","des_detail_name":"三星","des_name":"主营品牌","des_type":"03","effective":"1","id":10,"the_order":2},{"des_detail_id":"03","des_detail_name":"苹果","des_name":"主营品牌","des_type":"03","effective":"1","id":11,"the_order":3},{"des_detail_id":"04","des_detail_name":"小米","des_name":"主营品牌","des_type":"03","effective":"1","id":12,"the_order":4},{"des_detail_id":"05","des_detail_name":"酷派","des_name":"主营品牌","des_type":"03","effective":"1","id":13,"the_order":5},{"des_detail_id":"06","des_detail_name":"瓦戈","des_name":"主营品牌","des_type":"03","effective":"1","id":14,"the_order":6},{"des_detail_id":"07","des_detail_name":"oppo","des_name":"主营品牌","des_type":"03","effective":"1","id":219,"the_order":7},{"des_detail_id":"08","des_detail_name":"步步高","des_name":"主营品牌","des_type":"03","effective":"1","id":220,"the_order":8},{"des_detail_id":"09","des_detail_name":"魅族","des_name":"主营品牌","des_type":"03","effective":"1","id":221,"the_order":9},{"des_detail_id":"10","des_detail_name":"联想","des_name":"主营品牌","des_type":"03","effective":"1","id":222,"the_order":10},{"des_detail_id":"11","des_detail_name":"vivo","des_name":"主营品牌","des_type":"03","effective":"1","id":223,"the_order":11},{"des_detail_id":"12","des_detail_name":"金立","des_name":"主营品牌","des_type":"03","effective":"1","id":224,"the_order":12},{"des_detail_id":"13","des_detail_name":"中兴","des_name":"主营品牌","des_type":"03","effective":"1","id":225,"the_order":13},{"des_detail_id":"14","des_detail_name":"小辣椒","des_name":"主营品牌","des_type":"03","effective":"1","id":226,"the_order":14},{"des_detail_id":"15","des_detail_name":"诺基亚","des_name":"主营品牌","des_type":"03","effective":"1","id":227,"the_order":15},{"des_detail_id":"16","des_detail_name":"万利达","des_name":"主营品牌","des_type":"03","effective":"1","id":228,"the_order":16},{"des_detail_id":"17","des_detail_name":"康佳","des_name":"主营品牌","des_type":"03","effective":"1","id":229,"the_order":17},{"des_detail_id":"18","des_detail_name":"朵唯","des_name":"主营品牌","des_type":"03","effective":"1","id":230,"the_order":18},{"des_detail_id":"19","des_detail_name":"爱我","des_name":"主营品牌","des_type":"03","effective":"1","id":231,"the_order":19},{"des_detail_id":"20","des_detail_name":"长虹","des_name":"主营品牌","des_type":"03","effective":"1","id":232,"the_order":20},{"des_detail_id":"21","des_detail_name":"海信","des_name":"主营品牌","des_type":"03","effective":"1","id":233,"the_order":21},{"des_detail_id":"22","des_detail_name":"乐视","des_name":"主营品牌","des_type":"03","effective":"1","id":238,"the_order":22},{"des_detail_id":"23","des_detail_name":"中诺","des_name":"主营品牌","des_type":"03","effective":"1","id":239,"the_order":23},{"des_detail_id":"24","des_detail_name":"青橙","des_name":"主营品牌","des_type":"03","effective":"1","id":240,"the_order":24},{"des_detail_id":"25","des_detail_name":"努比亚","des_name":"主营品牌","des_type":"03","effective":"1","id":241,"the_order":25},{"des_detail_id":"26","des_detail_name":"TCL","des_name":"主营品牌","des_type":"03","effective":"1","id":242,"the_order":26},{"des_detail_id":"27","des_detail_name":"百利丰","des_name":"主营品牌","des_type":"03","effective":"1","id":243,"the_order":27},{"des_detail_id":"28","des_detail_name":"亿通","des_name":"主营品牌","des_type":"03","effective":"1","id":244,"the_order":28},{"des_detail_id":"29","des_detail_name":"波导","des_name":"主营品牌","des_type":"03","effective":"1","id":245,"the_order":29},{"des_detail_id":"30","des_detail_name":"优思","des_name":"主营品牌","des_type":"03","effective":"1","id":246,"the_order":30},{"des_detail_id":"01","des_detail_name":"黄豆E家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":15,"the_order":1},{"des_detail_id":"02","des_detail_name":"51订货网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":16,"the_order":2},{"des_detail_id":"03","des_detail_name":"易直供","des_name":"主要进货渠道","des_type":"04","effective":"1","id":17,"the_order":3},{"des_detail_id":"04","des_detail_name":"通讯市场","des_name":"主要进货渠道","des_type":"04","effective":"1","id":18,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"主要进货渠道","des_type":"04","effective":"1","id":19,"the_order":5},{"des_detail_id":"06","des_detail_name":"终端公司","des_name":"主要进货渠道","des_type":"04","effective":"1","id":234,"the_order":6},{"des_detail_id":"07","des_detail_name":"厂家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":235,"the_order":7},{"des_detail_id":"08","des_detail_name":"天音通信","des_name":"主要进货渠道","des_type":"04","effective":"1","id":236,"the_order":8},{"des_detail_id":"09","des_detail_name":"爱施德","des_name":"主要进货渠道","des_type":"04","effective":"1","id":237,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆侠","des_name":"主要进货渠道","des_type":"04","effective":"1","id":247,"the_order":10},{"des_detail_id":"11","des_detail_name":"3G手机网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":248,"the_order":11},{"des_detail_id":"12","des_detail_name":"地包商","des_name":"主要进货渠道","des_type":"04","effective":"1","id":249,"the_order":12},{"des_detail_id":"13","des_detail_name":"1号机","des_name":"主要进货渠道","des_type":"04","effective":"1","id":250,"the_order":13},{"des_detail_id":"14","des_detail_name":"沃易购","des_name":"主要进货渠道","des_type":"04","effective":"1","id":251,"the_order":14},{"des_detail_id":"15","des_detail_name":"京东","des_name":"主要进货渠道","des_type":"04","effective":"1","id":252,"the_order":15},{"des_detail_id":"16","des_detail_name":"淘宝","des_name":"主要进货渠道","des_type":"04","effective":"1","id":253,"the_order":16},{"des_detail_id":"17","des_detail_name":"厂家官网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":254,"the_order":17},{"des_detail_id":"18","des_detail_name":"易道网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":255,"the_order":18},{"des_detail_id":"19","des_detail_name":"开店通","des_name":"主要进货渠道","des_type":"04","effective":"1","id":256,"the_order":19},{"des_detail_id":"20","des_detail_name":"九牛网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":257,"the_order":20},{"des_detail_id":"11","des_detail_name":"黄豆E家","des_name":"合作网站","des_type":"05","effective":"1","id":20,"the_order":1},{"des_detail_id":"12","des_detail_name":"51订货网","des_name":"合作网站","des_type":"05","effective":"1","id":21,"the_order":2},{"des_detail_id":"13","des_detail_name":"易直供","des_name":"合作网站","des_type":"05","effective":"1","id":22,"the_order":3},{"des_detail_id":"14","des_detail_name":"淘宝","des_name":"合作网站","des_type":"05","effective":"1","id":23,"the_order":4},{"des_detail_id":"15","des_detail_name":"其他","des_name":"合作网站","des_type":"05","effective":"1","id":24,"the_order":5},{"des_detail_id":"01","des_detail_name":"学校","des_name":"周边环境","des_type":"06","effective":"1","id":25,"the_order":1},{"des_detail_id":"02","des_detail_name":"商场","des_name":"周边环境","des_type":"06","effective":"1","id":26,"the_order":2},{"des_detail_id":"03","des_detail_name":"政府机构","des_name":"周边环境","des_type":"06","effective":"1","id":27,"the_order":3},{"des_detail_id":"04","des_detail_name":"公园","des_name":"周边环境","des_type":"06","effective":"1","id":28,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"周边环境","des_type":"06","effective":"1","id":29,"the_order":5},{"des_detail_id":"01","des_detail_name":"S","des_name":"公司规模性质","des_type":"07","effective":"1","id":30,"the_order":1},{"des_detail_id":"02","des_detail_name":"A","des_name":"公司规模性质","des_type":"07","effective":"1","id":31,"the_order":2},{"des_detail_id":"03","des_detail_name":"B","des_name":"公司规模性质","des_type":"07","effective":"1","id":32,"the_order":3},{"des_detail_id":"04","des_detail_name":"C","des_name":"公司规模性质","des_type":"07","effective":"1","id":33,"the_order":4},{"des_detail_id":"05","des_detail_name":"D","des_name":"公司规模性质","des_type":"07","effective":"1","id":34,"the_order":5},{"des_detail_id":"01","des_detail_name":"法人","des_name":"岗位","des_type":"08","effective":"1","id":35,"the_order":1},{"des_detail_id":"02","des_detail_name":"采购负责人","des_name":"岗位","des_type":"08","effective":"1","id":36,"the_order":2},{"des_detail_id":"03","des_detail_name":"销售负责人","des_name":"岗位","des_type":"08","effective":"1","id":37,"the_order":3},{"des_detail_id":"04","des_detail_name":"店长","des_name":"岗位","des_type":"08","effective":"1","id":38,"the_order":4},{"des_detail_id":"01","des_detail_name":"黄豆E家WEB","des_name":"注册来源","des_type":"09","effective":"1","id":39,"the_order":1},{"des_detail_id":"02","des_detail_name":"NC","des_name":"注册来源","des_type":"09","effective":"1","id":40,"the_order":2},{"des_detail_id":"03","des_detail_name":"黄豆侠WEB","des_name":"注册来源","des_type":"09","effective":"1","id":41,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆侠微信","des_name":"注册来源","des_type":"09","effective":"1","id":42,"the_order":4},{"des_detail_id":"05","des_detail_name":"黄豆侠APP","des_name":"注册来源","des_type":"09","effective":"1","id":43,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠WAP","des_name":"注册来源","des_type":"09","effective":"1","id":44,"the_order":6},{"des_detail_id":"07","des_detail_name":"黄豆E家微信","des_name":"注册来源","des_type":"09","effective":"1","id":45,"the_order":7},{"des_detail_id":"08","des_detail_name":"黄豆E家APP","des_name":"注册来源","des_type":"09","effective":"1","id":46,"the_order":8},{"des_detail_id":"09","des_detail_name":"黄豆E家QQ营销","des_name":"注册来源","des_type":"09","effective":"1","id":47,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"注册来源","des_type":"09","effective":"1","id":48,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"注册来源","des_type":"09","effective":"1","id":49,"the_order":11},{"des_detail_id":"13","des_detail_name":"黄豆优推","des_name":"注册来源","des_type":"09","effective":"1","id":273,"the_order":13},{"des_detail_id":"12","des_detail_name":"代理人","des_name":"注册来源","des_type":"09","id":10000},{"des_detail_id":"01","des_detail_name":"直供大客户 ","des_name":"买家类别","des_type":"10","effective":"1","id":50,"the_order":1},{"des_detail_id":"02","des_detail_name":"区域规模客户","des_name":"买家类别","des_type":"10","effective":"1","id":51,"the_order":2},{"des_detail_id":"03","des_detail_name":"零售终端客户","des_name":"买家类别","des_type":"10","effective":"1","id":52,"the_order":3},{"des_detail_id":"04","des_detail_name":"县平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":53,"the_order":4},{"des_detail_id":"05","des_detail_name":"省平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":54,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠平台供应商客户","des_name":"买家类别","des_type":"10","effective":"1","id":258,"the_order":6},{"des_detail_id":"99","des_detail_name":"未分配","des_name":"买家类别","des_type":"10","effective":"1","id":55,"the_order":99},{"des_detail_id":"01","des_detail_name":"天音通信","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":56,"the_order":1},{"des_detail_id":"02","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":57,"the_order":2},{"des_detail_id":"03","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":58,"the_order":3},{"des_detail_id":"04","des_detail_name":"国代商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":59,"the_order":4},{"des_detail_id":"05","des_detail_name":"国代分公司","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":60,"the_order":5},{"des_detail_id":"06","des_detail_name":"省包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":61,"the_order":6},{"des_detail_id":"07","des_detail_name":"地包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":62,"the_order":7},{"des_detail_id":"08","des_detail_name":"通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":63,"the_order":8},{"des_detail_id":"09","des_detail_name":"联通平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":64,"the_order":9},{"des_detail_id":"10","des_detail_name":"联通平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":65,"the_order":10},{"des_detail_id":"11","des_detail_name":"移动平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":66,"the_order":11},{"des_detail_id":"12","des_detail_name":"移动平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":67,"the_order":12},{"des_detail_id":"13","des_detail_name":"电信平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":68,"the_order":13},{"des_detail_id":"14","des_detail_name":"电信平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":69,"the_order":14},{"des_detail_id":"16","des_detail_name":"旧模式县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":70,"the_order":16},{"des_detail_id":"17","des_detail_name":"自采自营（入sap）","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":259,"the_order":17},{"des_detail_id":"18","des_detail_name":"旧模式省级通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":260,"the_order":18},{"des_detail_id":"19","des_detail_name":"省平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":261,"the_order":19},{"des_detail_id":"20","des_detail_name":"县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":262,"the_order":20},{"des_detail_id":"21","des_detail_name":"苹果配件销售平台平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":263,"the_order":21},{"des_detail_id":"22","des_detail_name":"黄豆侠平台供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":264,"the_order":22},{"des_detail_id":"1","des_detail_name":"黄豆E家WEB","des_name":"登录来源","des_type":"12","effective":"1","id":71,"the_order":1},{"des_detail_id":"2","des_detail_name":"黄豆侠WEB","des_name":"登录来源","des_type":"12","effective":"1","id":72,"the_order":2},{"des_detail_id":"4","des_detail_name":"黄豆侠微信","des_name":"登录来源","des_type":"12","effective":"1","id":73,"the_order":4},{"des_detail_id":"5","des_detail_name":"黄豆侠APP","des_name":"登录来源","des_type":"12","effective":"1","id":74,"the_order":5},{"des_detail_id":"6","des_detail_name":"黄豆侠WAP","des_name":"登录来源","des_type":"12","effective":"1","id":75,"the_order":6},{"des_detail_id":"7","des_detail_name":"黄豆E家微信","des_name":"登录来源","des_type":"12","effective":"1","id":76,"the_order":7},{"des_detail_id":"8","des_detail_name":"黄豆E家APP","des_name":"登录来源","des_type":"12","effective":"1","id":77,"the_order":8},{"des_detail_id":"9","des_detail_name":"黄豆E家QQ营销","des_name":"登录来源","des_type":"12","effective":"1","id":78,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"登录来源","des_type":"12","effective":"1","id":79,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"登录来源","des_type":"12","effective":"1","id":80,"the_order":11},{"att_manage_id":5,"des_detail_id":"1","des_detail_name":"属性1","des_name":"测试属性3","des_type":"13","effective":"1","id":201,"the_order":1},{"att_manage_id":5,"des_detail_id":"3","des_detail_name":"属性值1","des_name":"测试属性3","des_type":"13","effective":"1","id":203,"the_order":1},{"att_manage_id":5,"des_detail_id":"11","des_detail_name":"aa","des_name":"测试属性3","des_type":"13","effective":"1","id":212,"the_order":1},{"att_manage_id":5,"des_detail_id":"2","des_detail_name":"属性3","des_name":"测试属性3","des_type":"13","effective":"1","id":202,"the_order":2},{"att_manage_id":5,"des_detail_id":"4","des_detail_name":"属性值2","des_name":"测试属性3","des_type":"13","effective":"1","id":204,"the_order":2},{"att_manage_id":5,"des_detail_id":"5","des_detail_name":"属性值3","des_name":"测试属性3","des_type":"13","effective":"1","id":205,"the_order":3},{"att_manage_id":5,"des_detail_id":"6","des_detail_name":"属性值4","des_name":"测试属性3","des_type":"13","effective":"1","id":206,"the_order":4},{"att_manage_id":5,"des_detail_id":"7","des_detail_name":"属性值5","des_name":"测试属性3","des_type":"13","effective":"1","id":207,"the_order":5},{"att_manage_id":5,"des_detail_id":"8","des_detail_name":"属性值6","des_name":"测试属性3","des_type":"13","effective":"1","id":208,"the_order":6},{"att_manage_id":5,"des_detail_id":"9","des_detail_name":"a","des_name":"测试属性3","des_type":"13","effective":"1","id":209},{"att_manage_id":5,"des_detail_id":"10","des_detail_name":"b","des_name":"测试属性3","des_type":"13","effective":"1","id":210},{"att_manage_id":6,"des_name":"fff","des_type":"14","id":211},{"att_manage_id":9,"des_name":"县平台物流","des_type":"17","id":216},{"des_detail_id":"1","des_detail_name":"注册会员","des_name":"会员等级","des_type":"18","id":265,"the_order":1},{"des_detail_id":"2","des_detail_name":"普通会员","des_name":"会员等级","des_type":"18","id":266,"the_order":2},{"des_detail_id":"3","des_detail_name":"铜牌会员","des_name":"会员等级","des_type":"18","id":267,"the_order":3},{"des_detail_id":"4","des_detail_name":"银牌会员","des_name":"会员等级","des_type":"18","id":268,"the_order":4},{"des_detail_id":"5","des_detail_name":"金牌会员","des_name":"会员等级","des_type":"18","id":269,"the_order":5},{"des_detail_id":"6","des_detail_name":"钻石会员","des_name":"会员等级","des_type":"18","id":270,"the_order":6},{"des_detail_id":"01","des_detail_name":"新黄豆侠","des_name":"应用网站","des_type":"19","id":271,"the_order":1},{"des_detail_id":"01","des_detail_name":"后台规则","des_name":"规则发起方","des_type":"20","id":272,"the_order":1},{"des_detail_id":"01","des_detail_name":"CRM后台","des_name":"标签指定渠道","des_type":"21","id":10001,"the_order":1},{"des_detail_id":"02","des_detail_name":"小能IM","des_name":"标签指定渠道","des_type":"21","id":10002,"the_order":2},{"des_detail_id":"03","des_detail_name":"系统自动","des_name":"标签指定渠道","des_type":"21","id":10003,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆优服APP","des_name":"标签指定渠道","des_type":"21","effective":"1","id":666,"the_order":4},{"att_manage_id":34,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintest2","des_type":"23","effective":"1","id":362,"the_order":1},{"att_manage_id":34,"des_detail_id":"2","des_detail_name":"bbb","des_name":"xintest2","des_type":"23","effective":"1","id":363,"the_order":2},{"att_manage_id":35,"des_name":"zhangmx","des_type":"24","id":356},{"att_manage_id":36,"des_name":"是否必填测试","des_type":"25","id":357},{"att_manage_id":38,"des_name":"5553","des_type":"26","id":359},{"att_manage_id":39,"des_name":"54353","des_type":"27","id":360},{"att_manage_id":40,"des_name":"鹅鹅鹅饿饿","des_type":"28","id":361},{"att_manage_id":42,"des_name":"他婷婷婷婷","des_type":"29","id":365},{"des_name":"NodeList","des_type":"3","id":9999,"the_order":3},{"att_manage_id":43,"des_name":"xintest3","des_type":"30","id":366},{"att_manage_id":44,"des_name":"xintest477","des_type":"31","id":367},{"att_manage_id":45,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintes3","des_type":"32","effective":"1","id":394,"remark":"1","the_order":1},{"att_manage_id":46,"des_name":"xintest6","des_type":"33","id":369},{"att_manage_id":47,"des_detail_id":"1","des_detail_name":"aa","des_name":"张明霞","des_type":"34","effective":"1","id":374,"the_order":1},{"att_manage_id":48,"des_name":"yyyy","des_type":"35","id":372},{"att_manage_id":49,"des_name":"张明霞111111","des_type":"36","id":373},{"att_manage_id":50,"des_name":"店铺属性1","des_type":"37","id":375},{"att_manage_id":51,"des_detail_id":"2","des_detail_name":"test1店铺信息","des_name":"多选属性值","des_type":"38","effective":"1","id":405,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"1","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到","des_name":"多选属性值","des_type":"38","effective":"1","id":404,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"3","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到11","des_name":"多选属性值","des_type":"38","effective":"1","id":406,"remark":"22","the_order":22},{"att_manage_id":51,"des_detail_id":"4","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到22","des_name":"多选属性值","des_type":"38","effective":"1","id":407,"remark":"33","the_order":33},{"att_manage_id":52,"des_detail_id":"1","des_detail_name":"维护联系人属性","des_name":"联系人属性","des_type":"39","effective":"1","id":379,"remark":"11","the_order":11},{"att_manage_id":52,"des_detail_id":"2","des_detail_name":"维护联系人属性1","des_name":"联系人属性","des_type":"39","effective":"1","id":380,"remark":"22","the_order":22},{"att_manage_id":53,"des_name":"公司信息属性1","des_type":"40","id":381},{"att_manage_id":54,"des_detail_id":"1","des_detail_name":"属性值1","des_name":"公司信息属性2","des_type":"41","effective":"1","id":384,"remark":"1","the_order":1},{"att_manage_id":54,"des_detail_id":"2","des_detail_name":"属性2","des_name":"公司信息属性2","des_type":"41","effective":"1","id":385,"remark":"2","the_order":2},{"att_manage_id":55,"des_name":"属性输入","des_type":"42","id":386},{"att_manage_id":57,"des_name":"test1公司属性","des_type":"43","id":395},{"att_manage_id":58,"des_name":"test1公司属性2","des_type":"44","id":396},{"att_manage_id":59,"des_detail_id":"1","des_detail_name":"kuck","des_name":"联系人信息test1","des_type":"45","effective":"1","id":409,"remark":"aaa","the_order":2},{"att_manage_id":60,"des_name":"黄豆","des_type":"46","id":410},{"des_name":"NodeList","des_type":"5","id":9998,"the_order":5},{"des_name":"NodeList","des_type":"8","id":9997,"the_order":8},{"att_manage_id":56,"des_detail_id":"1","des_detail_name":"cem","des_name":"xintest7","des_type":"9","effective":"1","id":393,"remark":"1","the_order":1}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.ContactsInfoApiServiceImpl - ContactsInfoApiServiceImpl listContactsInfoByPage end.
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - List<SelectVo> : [[{"key":"01","value":"黄豆E家WEB"},{"key":"02","value":"NC"},{"key":"03","value":"黄豆侠WEB"},{"key":"04","value":"黄豆侠微信"},{"key":"05","value":"黄豆侠APP"},{"key":"06","value":"黄豆侠WAP"},{"key":"07","value":"黄豆E家微信"},{"key":"08","value":"黄豆E家APP"},{"key":"09","value":"黄豆E家QQ营销"},{"key":"10","value":"黄豆E家WAP"},{"key":"11","value":"苹果配件销售平台"},{"key":"13","value":"黄豆优推"},{"key":"12","value":"代理人"}]]
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - AttributeManageController getAttribute end...
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/attributeManage/getAttribute/11
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/buyerInformation/accountInfo/289448
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - AttributeManageController getAttribute start...
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - type : [11]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.ContactsInfoApiServiceImpl - ContactsInfoApiServiceImpl listContactsInfoByPage begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - BuyerInforController getAccountInformation begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - userId:289448
INFO  [2018-12-28 15:11:08,073] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - select * from crm_attribute where del_flag=1 order by des_type asc,the_order asc
INFO : com.ihdou.api.member.service.impl.crm.common.AttrComServiceImpl - AttrComServiceImpl getAttributeByType START...
INFO : com.ihdou.api.member.service.impl.crm.common.AttrComServiceImpl - attr
INFO  [2018-12-28 15:11:08,081] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - select * from crm_attribute where del_flag=1 order by des_type asc,the_order asc
DEBUG [2018-12-28 15:11:08,093] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - list:[{"des_detail_id":"1","des_detail_name":"中国联通","des_name":"合作运营商","des_type":"01","effective":"1","id":1,"the_order":1},{"des_detail_id":"2","des_detail_name":"中国移动","des_name":"合作运营商","des_type":"01","effective":"1","id":2,"the_order":2},{"des_detail_id":"3","des_detail_name":"中国电信","des_name":"合作运营商","des_type":"01","effective":"1","id":3,"the_order":3},{"des_detail_id":"4","des_detail_name":"无合作","des_name":"合作运营商","des_type":"01","effective":"1","id":4,"the_order":4},{"des_detail_id":"10","des_detail_name":"手机","des_name":"主营品类","des_type":"02","effective":"1","id":5,"the_order":1},{"des_detail_id":"20","des_detail_name":"平板","des_name":"主营品类","des_type":"02","effective":"1","id":6,"the_order":2},{"des_detail_id":"30","des_detail_name":"智能设备","des_name":"主营品类","des_type":"02","effective":"1","id":7,"the_order":3},{"des_detail_id":"40","des_detail_name":"手机配件","des_name":"主营品类","des_type":"02","effective":"1","id":8,"the_order":4},{"des_detail_id":"98","des_detail_name":"都涉及","des_name":"主营品类","des_type":"02","effective":"1","id":217,"the_order":98},{"des_detail_id":"99","des_detail_name":"其他","des_name":"主营品类","des_type":"02","effective":"1","id":218,"the_order":99},{"des_detail_id":"01","des_detail_name":"华为","des_name":"主营品牌","des_type":"03","effective":"1","id":9,"the_order":1},{"des_detail_id":"02","des_detail_name":"三星","des_name":"主营品牌","des_type":"03","effective":"1","id":10,"the_order":2},{"des_detail_id":"03","des_detail_name":"苹果","des_name":"主营品牌","des_type":"03","effective":"1","id":11,"the_order":3},{"des_detail_id":"04","des_detail_name":"小米","des_name":"主营品牌","des_type":"03","effective":"1","id":12,"the_order":4},{"des_detail_id":"05","des_detail_name":"酷派","des_name":"主营品牌","des_type":"03","effective":"1","id":13,"the_order":5},{"des_detail_id":"06","des_detail_name":"瓦戈","des_name":"主营品牌","des_type":"03","effective":"1","id":14,"the_order":6},{"des_detail_id":"07","des_detail_name":"oppo","des_name":"主营品牌","des_type":"03","effective":"1","id":219,"the_order":7},{"des_detail_id":"08","des_detail_name":"步步高","des_name":"主营品牌","des_type":"03","effective":"1","id":220,"the_order":8},{"des_detail_id":"09","des_detail_name":"魅族","des_name":"主营品牌","des_type":"03","effective":"1","id":221,"the_order":9},{"des_detail_id":"10","des_detail_name":"联想","des_name":"主营品牌","des_type":"03","effective":"1","id":222,"the_order":10},{"des_detail_id":"11","des_detail_name":"vivo","des_name":"主营品牌","des_type":"03","effective":"1","id":223,"the_order":11},{"des_detail_id":"12","des_detail_name":"金立","des_name":"主营品牌","des_type":"03","effective":"1","id":224,"the_order":12},{"des_detail_id":"13","des_detail_name":"中兴","des_name":"主营品牌","des_type":"03","effective":"1","id":225,"the_order":13},{"des_detail_id":"14","des_detail_name":"小辣椒","des_name":"主营品牌","des_type":"03","effective":"1","id":226,"the_order":14},{"des_detail_id":"15","des_detail_name":"诺基亚","des_name":"主营品牌","des_type":"03","effective":"1","id":227,"the_order":15},{"des_detail_id":"16","des_detail_name":"万利达","des_name":"主营品牌","des_type":"03","effective":"1","id":228,"the_order":16},{"des_detail_id":"17","des_detail_name":"康佳","des_name":"主营品牌","des_type":"03","effective":"1","id":229,"the_order":17},{"des_detail_id":"18","des_detail_name":"朵唯","des_name":"主营品牌","des_type":"03","effective":"1","id":230,"the_order":18},{"des_detail_id":"19","des_detail_name":"爱我","des_name":"主营品牌","des_type":"03","effective":"1","id":231,"the_order":19},{"des_detail_id":"20","des_detail_name":"长虹","des_name":"主营品牌","des_type":"03","effective":"1","id":232,"the_order":20},{"des_detail_id":"21","des_detail_name":"海信","des_name":"主营品牌","des_type":"03","effective":"1","id":233,"the_order":21},{"des_detail_id":"22","des_detail_name":"乐视","des_name":"主营品牌","des_type":"03","effective":"1","id":238,"the_order":22},{"des_detail_id":"23","des_detail_name":"中诺","des_name":"主营品牌","des_type":"03","effective":"1","id":239,"the_order":23},{"des_detail_id":"24","des_detail_name":"青橙","des_name":"主营品牌","des_type":"03","effective":"1","id":240,"the_order":24},{"des_detail_id":"25","des_detail_name":"努比亚","des_name":"主营品牌","des_type":"03","effective":"1","id":241,"the_order":25},{"des_detail_id":"26","des_detail_name":"TCL","des_name":"主营品牌","des_type":"03","effective":"1","id":242,"the_order":26},{"des_detail_id":"27","des_detail_name":"百利丰","des_name":"主营品牌","des_type":"03","effective":"1","id":243,"the_order":27},{"des_detail_id":"28","des_detail_name":"亿通","des_name":"主营品牌","des_type":"03","effective":"1","id":244,"the_order":28},{"des_detail_id":"29","des_detail_name":"波导","des_name":"主营品牌","des_type":"03","effective":"1","id":245,"the_order":29},{"des_detail_id":"30","des_detail_name":"优思","des_name":"主营品牌","des_type":"03","effective":"1","id":246,"the_order":30},{"des_detail_id":"01","des_detail_name":"黄豆E家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":15,"the_order":1},{"des_detail_id":"02","des_detail_name":"51订货网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":16,"the_order":2},{"des_detail_id":"03","des_detail_name":"易直供","des_name":"主要进货渠道","des_type":"04","effective":"1","id":17,"the_order":3},{"des_detail_id":"04","des_detail_name":"通讯市场","des_name":"主要进货渠道","des_type":"04","effective":"1","id":18,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"主要进货渠道","des_type":"04","effective":"1","id":19,"the_order":5},{"des_detail_id":"06","des_detail_name":"终端公司","des_name":"主要进货渠道","des_type":"04","effective":"1","id":234,"the_order":6},{"des_detail_id":"07","des_detail_name":"厂家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":235,"the_order":7},{"des_detail_id":"08","des_detail_name":"天音通信","des_name":"主要进货渠道","des_type":"04","effective":"1","id":236,"the_order":8},{"des_detail_id":"09","des_detail_name":"爱施德","des_name":"主要进货渠道","des_type":"04","effective":"1","id":237,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆侠","des_name":"主要进货渠道","des_type":"04","effective":"1","id":247,"the_order":10},{"des_detail_id":"11","des_detail_name":"3G手机网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":248,"the_order":11},{"des_detail_id":"12","des_detail_name":"地包商","des_name":"主要进货渠道","des_type":"04","effective":"1","id":249,"the_order":12},{"des_detail_id":"13","des_detail_name":"1号机","des_name":"主要进货渠道","des_type":"04","effective":"1","id":250,"the_order":13},{"des_detail_id":"14","des_detail_name":"沃易购","des_name":"主要进货渠道","des_type":"04","effective":"1","id":251,"the_order":14},{"des_detail_id":"15","des_detail_name":"京东","des_name":"主要进货渠道","des_type":"04","effective":"1","id":252,"the_order":15},{"des_detail_id":"16","des_detail_name":"淘宝","des_name":"主要进货渠道","des_type":"04","effective":"1","id":253,"the_order":16},{"des_detail_id":"17","des_detail_name":"厂家官网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":254,"the_order":17},{"des_detail_id":"18","des_detail_name":"易道网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":255,"the_order":18},{"des_detail_id":"19","des_detail_name":"开店通","des_name":"主要进货渠道","des_type":"04","effective":"1","id":256,"the_order":19},{"des_detail_id":"20","des_detail_name":"九牛网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":257,"the_order":20},{"des_detail_id":"11","des_detail_name":"黄豆E家","des_name":"合作网站","des_type":"05","effective":"1","id":20,"the_order":1},{"des_detail_id":"12","des_detail_name":"51订货网","des_name":"合作网站","des_type":"05","effective":"1","id":21,"the_order":2},{"des_detail_id":"13","des_detail_name":"易直供","des_name":"合作网站","des_type":"05","effective":"1","id":22,"the_order":3},{"des_detail_id":"14","des_detail_name":"淘宝","des_name":"合作网站","des_type":"05","effective":"1","id":23,"the_order":4},{"des_detail_id":"15","des_detail_name":"其他","des_name":"合作网站","des_type":"05","effective":"1","id":24,"the_order":5},{"des_detail_id":"01","des_detail_name":"学校","des_name":"周边环境","des_type":"06","effective":"1","id":25,"the_order":1},{"des_detail_id":"02","des_detail_name":"商场","des_name":"周边环境","des_type":"06","effective":"1","id":26,"the_order":2},{"des_detail_id":"03","des_detail_name":"政府机构","des_name":"周边环境","des_type":"06","effective":"1","id":27,"the_order":3},{"des_detail_id":"04","des_detail_name":"公园","des_name":"周边环境","des_type":"06","effective":"1","id":28,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"周边环境","des_type":"06","effective":"1","id":29,"the_order":5},{"des_detail_id":"01","des_detail_name":"S","des_name":"公司规模性质","des_type":"07","effective":"1","id":30,"the_order":1},{"des_detail_id":"02","des_detail_name":"A","des_name":"公司规模性质","des_type":"07","effective":"1","id":31,"the_order":2},{"des_detail_id":"03","des_detail_name":"B","des_name":"公司规模性质","des_type":"07","effective":"1","id":32,"the_order":3},{"des_detail_id":"04","des_detail_name":"C","des_name":"公司规模性质","des_type":"07","effective":"1","id":33,"the_order":4},{"des_detail_id":"05","des_detail_name":"D","des_name":"公司规模性质","des_type":"07","effective":"1","id":34,"the_order":5},{"des_detail_id":"01","des_detail_name":"法人","des_name":"岗位","des_type":"08","effective":"1","id":35,"the_order":1},{"des_detail_id":"02","des_detail_name":"采购负责人","des_name":"岗位","des_type":"08","effective":"1","id":36,"the_order":2},{"des_detail_id":"03","des_detail_name":"销售负责人","des_name":"岗位","des_type":"08","effective":"1","id":37,"the_order":3},{"des_detail_id":"04","des_detail_name":"店长","des_name":"岗位","des_type":"08","effective":"1","id":38,"the_order":4},{"des_detail_id":"01","des_detail_name":"黄豆E家WEB","des_name":"注册来源","des_type":"09","effective":"1","id":39,"the_order":1},{"des_detail_id":"02","des_detail_name":"NC","des_name":"注册来源","des_type":"09","effective":"1","id":40,"the_order":2},{"des_detail_id":"03","des_detail_name":"黄豆侠WEB","des_name":"注册来源","des_type":"09","effective":"1","id":41,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆侠微信","des_name":"注册来源","des_type":"09","effective":"1","id":42,"the_order":4},{"des_detail_id":"05","des_detail_name":"黄豆侠APP","des_name":"注册来源","des_type":"09","effective":"1","id":43,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠WAP","des_name":"注册来源","des_type":"09","effective":"1","id":44,"the_order":6},{"des_detail_id":"07","des_detail_name":"黄豆E家微信","des_name":"注册来源","des_type":"09","effective":"1","id":45,"the_order":7},{"des_detail_id":"08","des_detail_name":"黄豆E家APP","des_name":"注册来源","des_type":"09","effective":"1","id":46,"the_order":8},{"des_detail_id":"09","des_detail_name":"黄豆E家QQ营销","des_name":"注册来源","des_type":"09","effective":"1","id":47,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"注册来源","des_type":"09","effective":"1","id":48,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"注册来源","des_type":"09","effective":"1","id":49,"the_order":11},{"des_detail_id":"13","des_detail_name":"黄豆优推","des_name":"注册来源","des_type":"09","effective":"1","id":273,"the_order":13},{"des_detail_id":"12","des_detail_name":"代理人","des_name":"注册来源","des_type":"09","id":10000},{"des_detail_id":"01","des_detail_name":"直供大客户 ","des_name":"买家类别","des_type":"10","effective":"1","id":50,"the_order":1},{"des_detail_id":"02","des_detail_name":"区域规模客户","des_name":"买家类别","des_type":"10","effective":"1","id":51,"the_order":2},{"des_detail_id":"03","des_detail_name":"零售终端客户","des_name":"买家类别","des_type":"10","effective":"1","id":52,"the_order":3},{"des_detail_id":"04","des_detail_name":"县平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":53,"the_order":4},{"des_detail_id":"05","des_detail_name":"省平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":54,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠平台供应商客户","des_name":"买家类别","des_type":"10","effective":"1","id":258,"the_order":6},{"des_detail_id":"99","des_detail_name":"未分配","des_name":"买家类别","des_type":"10","effective":"1","id":55,"the_order":99},{"des_detail_id":"01","des_detail_name":"天音通信","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":56,"the_order":1},{"des_detail_id":"02","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":57,"the_order":2},{"des_detail_id":"03","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":58,"the_order":3},{"des_detail_id":"04","des_detail_name":"国代商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":59,"the_order":4},{"des_detail_id":"05","des_detail_name":"国代分公司","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":60,"the_order":5},{"des_detail_id":"06","des_detail_name":"省包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":61,"the_order":6},{"des_detail_id":"07","des_detail_name":"地包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":62,"the_order":7},{"des_detail_id":"08","des_detail_name":"通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":63,"the_order":8},{"des_detail_id":"09","des_detail_name":"联通平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":64,"the_order":9},{"des_detail_id":"10","des_detail_name":"联通平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":65,"the_order":10},{"des_detail_id":"11","des_detail_name":"移动平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":66,"the_order":11},{"des_detail_id":"12","des_detail_name":"移动平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":67,"the_order":12},{"des_detail_id":"13","des_detail_name":"电信平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":68,"the_order":13},{"des_detail_id":"14","des_detail_name":"电信平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":69,"the_order":14},{"des_detail_id":"16","des_detail_name":"旧模式县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":70,"the_order":16},{"des_detail_id":"17","des_detail_name":"自采自营（入sap）","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":259,"the_order":17},{"des_detail_id":"18","des_detail_name":"旧模式省级通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":260,"the_order":18},{"des_detail_id":"19","des_detail_name":"省平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":261,"the_order":19},{"des_detail_id":"20","des_detail_name":"县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":262,"the_order":20},{"des_detail_id":"21","des_detail_name":"苹果配件销售平台平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":263,"the_order":21},{"des_detail_id":"22","des_detail_name":"黄豆侠平台供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":264,"the_order":22},{"des_detail_id":"1","des_detail_name":"黄豆E家WEB","des_name":"登录来源","des_type":"12","effective":"1","id":71,"the_order":1},{"des_detail_id":"2","des_detail_name":"黄豆侠WEB","des_name":"登录来源","des_type":"12","effective":"1","id":72,"the_order":2},{"des_detail_id":"4","des_detail_name":"黄豆侠微信","des_name":"登录来源","des_type":"12","effective":"1","id":73,"the_order":4},{"des_detail_id":"5","des_detail_name":"黄豆侠APP","des_name":"登录来源","des_type":"12","effective":"1","id":74,"the_order":5},{"des_detail_id":"6","des_detail_name":"黄豆侠WAP","des_name":"登录来源","des_type":"12","effective":"1","id":75,"the_order":6},{"des_detail_id":"7","des_detail_name":"黄豆E家微信","des_name":"登录来源","des_type":"12","effective":"1","id":76,"the_order":7},{"des_detail_id":"8","des_detail_name":"黄豆E家APP","des_name":"登录来源","des_type":"12","effective":"1","id":77,"the_order":8},{"des_detail_id":"9","des_detail_name":"黄豆E家QQ营销","des_name":"登录来源","des_type":"12","effective":"1","id":78,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"登录来源","des_type":"12","effective":"1","id":79,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"登录来源","des_type":"12","effective":"1","id":80,"the_order":11},{"att_manage_id":5,"des_detail_id":"1","des_detail_name":"属性1","des_name":"测试属性3","des_type":"13","effective":"1","id":201,"the_order":1},{"att_manage_id":5,"des_detail_id":"3","des_detail_name":"属性值1","des_name":"测试属性3","des_type":"13","effective":"1","id":203,"the_order":1},{"att_manage_id":5,"des_detail_id":"11","des_detail_name":"aa","des_name":"测试属性3","des_type":"13","effective":"1","id":212,"the_order":1},{"att_manage_id":5,"des_detail_id":"2","des_detail_name":"属性3","des_name":"测试属性3","des_type":"13","effective":"1","id":202,"the_order":2},{"att_manage_id":5,"des_detail_id":"4","des_detail_name":"属性值2","des_name":"测试属性3","des_type":"13","effective":"1","id":204,"the_order":2},{"att_manage_id":5,"des_detail_id":"5","des_detail_name":"属性值3","des_name":"测试属性3","des_type":"13","effective":"1","id":205,"the_order":3},{"att_manage_id":5,"des_detail_id":"6","des_detail_name":"属性值4","des_name":"测试属性3","des_type":"13","effective":"1","id":206,"the_order":4},{"att_manage_id":5,"des_detail_id":"7","des_detail_name":"属性值5","des_name":"测试属性3","des_type":"13","effective":"1","id":207,"the_order":5},{"att_manage_id":5,"des_detail_id":"8","des_detail_name":"属性值6","des_name":"测试属性3","des_type":"13","effective":"1","id":208,"the_order":6},{"att_manage_id":5,"des_detail_id":"9","des_detail_name":"a","des_name":"测试属性3","des_type":"13","effective":"1","id":209},{"att_manage_id":5,"des_detail_id":"10","des_detail_name":"b","des_name":"测试属性3","des_type":"13","effective":"1","id":210},{"att_manage_id":6,"des_name":"fff","des_type":"14","id":211},{"att_manage_id":9,"des_name":"县平台物流","des_type":"17","id":216},{"des_detail_id":"1","des_detail_name":"注册会员","des_name":"会员等级","des_type":"18","id":265,"the_order":1},{"des_detail_id":"2","des_detail_name":"普通会员","des_name":"会员等级","des_type":"18","id":266,"the_order":2},{"des_detail_id":"3","des_detail_name":"铜牌会员","des_name":"会员等级","des_type":"18","id":267,"the_order":3},{"des_detail_id":"4","des_detail_name":"银牌会员","des_name":"会员等级","des_type":"18","id":268,"the_order":4},{"des_detail_id":"5","des_detail_name":"金牌会员","des_name":"会员等级","des_type":"18","id":269,"the_order":5},{"des_detail_id":"6","des_detail_name":"钻石会员","des_name":"会员等级","des_type":"18","id":270,"the_order":6},{"des_detail_id":"01","des_detail_name":"新黄豆侠","des_name":"应用网站","des_type":"19","id":271,"the_order":1},{"des_detail_id":"01","des_detail_name":"后台规则","des_name":"规则发起方","des_type":"20","id":272,"the_order":1},{"des_detail_id":"01","des_detail_name":"CRM后台","des_name":"标签指定渠道","des_type":"21","id":10001,"the_order":1},{"des_detail_id":"02","des_detail_name":"小能IM","des_name":"标签指定渠道","des_type":"21","id":10002,"the_order":2},{"des_detail_id":"03","des_detail_name":"系统自动","des_name":"标签指定渠道","des_type":"21","id":10003,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆优服APP","des_name":"标签指定渠道","des_type":"21","effective":"1","id":666,"the_order":4},{"att_manage_id":34,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintest2","des_type":"23","effective":"1","id":362,"the_order":1},{"att_manage_id":34,"des_detail_id":"2","des_detail_name":"bbb","des_name":"xintest2","des_type":"23","effective":"1","id":363,"the_order":2},{"att_manage_id":35,"des_name":"zhangmx","des_type":"24","id":356},{"att_manage_id":36,"des_name":"是否必填测试","des_type":"25","id":357},{"att_manage_id":38,"des_name":"5553","des_type":"26","id":359},{"att_manage_id":39,"des_name":"54353","des_type":"27","id":360},{"att_manage_id":40,"des_name":"鹅鹅鹅饿饿","des_type":"28","id":361},{"att_manage_id":42,"des_name":"他婷婷婷婷","des_type":"29","id":365},{"des_name":"NodeList","des_type":"3","id":9999,"the_order":3},{"att_manage_id":43,"des_name":"xintest3","des_type":"30","id":366},{"att_manage_id":44,"des_name":"xintest477","des_type":"31","id":367},{"att_manage_id":45,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintes3","des_type":"32","effective":"1","id":394,"remark":"1","the_order":1},{"att_manage_id":46,"des_name":"xintest6","des_type":"33","id":369},{"att_manage_id":47,"des_detail_id":"1","des_detail_name":"aa","des_name":"张明霞","des_type":"34","effective":"1","id":374,"the_order":1},{"att_manage_id":48,"des_name":"yyyy","des_type":"35","id":372},{"att_manage_id":49,"des_name":"张明霞111111","des_type":"36","id":373},{"att_manage_id":50,"des_name":"店铺属性1","des_type":"37","id":375},{"att_manage_id":51,"des_detail_id":"2","des_detail_name":"test1店铺信息","des_name":"多选属性值","des_type":"38","effective":"1","id":405,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"1","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到","des_name":"多选属性值","des_type":"38","effective":"1","id":404,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"3","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到11","des_name":"多选属性值","des_type":"38","effective":"1","id":406,"remark":"22","the_order":22},{"att_manage_id":51,"des_detail_id":"4","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到22","des_name":"多选属性值","des_type":"38","effective":"1","id":407,"remark":"33","the_order":33},{"att_manage_id":52,"des_detail_id":"1","des_detail_name":"维护联系人属性","des_name":"联系人属性","des_type":"39","effective":"1","id":379,"remark":"11","the_order":11},{"att_manage_id":52,"des_detail_id":"2","des_detail_name":"维护联系人属性1","des_name":"联系人属性","des_type":"39","effective":"1","id":380,"remark":"22","the_order":22},{"att_manage_id":53,"des_name":"公司信息属性1","des_type":"40","id":381},{"att_manage_id":54,"des_detail_id":"1","des_detail_name":"属性值1","des_name":"公司信息属性2","des_type":"41","effective":"1","id":384,"remark":"1","the_order":1},{"att_manage_id":54,"des_detail_id":"2","des_detail_name":"属性2","des_name":"公司信息属性2","des_type":"41","effective":"1","id":385,"remark":"2","the_order":2},{"att_manage_id":55,"des_name":"属性输入","des_type":"42","id":386},{"att_manage_id":57,"des_name":"test1公司属性","des_type":"43","id":395},{"att_manage_id":58,"des_name":"test1公司属性2","des_type":"44","id":396},{"att_manage_id":59,"des_detail_id":"1","des_detail_name":"kuck","des_name":"联系人信息test1","des_type":"45","effective":"1","id":409,"remark":"aaa","the_order":2},{"att_manage_id":60,"des_name":"黄豆","des_type":"46","id":410},{"des_name":"NodeList","des_type":"5","id":9998,"the_order":5},{"des_name":"NodeList","des_type":"8","id":9997,"the_order":8},{"att_manage_id":56,"des_detail_id":"1","des_detail_name":"cem","des_name":"xintest7","des_type":"9","effective":"1","id":393,"remark":"1","the_order":1}]
DEBUG [2018-12-28 15:11:08,095] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - list:[{"des_detail_id":"1","des_detail_name":"中国联通","des_name":"合作运营商","des_type":"01","effective":"1","id":1,"the_order":1},{"des_detail_id":"2","des_detail_name":"中国移动","des_name":"合作运营商","des_type":"01","effective":"1","id":2,"the_order":2},{"des_detail_id":"3","des_detail_name":"中国电信","des_name":"合作运营商","des_type":"01","effective":"1","id":3,"the_order":3},{"des_detail_id":"4","des_detail_name":"无合作","des_name":"合作运营商","des_type":"01","effective":"1","id":4,"the_order":4},{"des_detail_id":"10","des_detail_name":"手机","des_name":"主营品类","des_type":"02","effective":"1","id":5,"the_order":1},{"des_detail_id":"20","des_detail_name":"平板","des_name":"主营品类","des_type":"02","effective":"1","id":6,"the_order":2},{"des_detail_id":"30","des_detail_name":"智能设备","des_name":"主营品类","des_type":"02","effective":"1","id":7,"the_order":3},{"des_detail_id":"40","des_detail_name":"手机配件","des_name":"主营品类","des_type":"02","effective":"1","id":8,"the_order":4},{"des_detail_id":"98","des_detail_name":"都涉及","des_name":"主营品类","des_type":"02","effective":"1","id":217,"the_order":98},{"des_detail_id":"99","des_detail_name":"其他","des_name":"主营品类","des_type":"02","effective":"1","id":218,"the_order":99},{"des_detail_id":"01","des_detail_name":"华为","des_name":"主营品牌","des_type":"03","effective":"1","id":9,"the_order":1},{"des_detail_id":"02","des_detail_name":"三星","des_name":"主营品牌","des_type":"03","effective":"1","id":10,"the_order":2},{"des_detail_id":"03","des_detail_name":"苹果","des_name":"主营品牌","des_type":"03","effective":"1","id":11,"the_order":3},{"des_detail_id":"04","des_detail_name":"小米","des_name":"主营品牌","des_type":"03","effective":"1","id":12,"the_order":4},{"des_detail_id":"05","des_detail_name":"酷派","des_name":"主营品牌","des_type":"03","effective":"1","id":13,"the_order":5},{"des_detail_id":"06","des_detail_name":"瓦戈","des_name":"主营品牌","des_type":"03","effective":"1","id":14,"the_order":6},{"des_detail_id":"07","des_detail_name":"oppo","des_name":"主营品牌","des_type":"03","effective":"1","id":219,"the_order":7},{"des_detail_id":"08","des_detail_name":"步步高","des_name":"主营品牌","des_type":"03","effective":"1","id":220,"the_order":8},{"des_detail_id":"09","des_detail_name":"魅族","des_name":"主营品牌","des_type":"03","effective":"1","id":221,"the_order":9},{"des_detail_id":"10","des_detail_name":"联想","des_name":"主营品牌","des_type":"03","effective":"1","id":222,"the_order":10},{"des_detail_id":"11","des_detail_name":"vivo","des_name":"主营品牌","des_type":"03","effective":"1","id":223,"the_order":11},{"des_detail_id":"12","des_detail_name":"金立","des_name":"主营品牌","des_type":"03","effective":"1","id":224,"the_order":12},{"des_detail_id":"13","des_detail_name":"中兴","des_name":"主营品牌","des_type":"03","effective":"1","id":225,"the_order":13},{"des_detail_id":"14","des_detail_name":"小辣椒","des_name":"主营品牌","des_type":"03","effective":"1","id":226,"the_order":14},{"des_detail_id":"15","des_detail_name":"诺基亚","des_name":"主营品牌","des_type":"03","effective":"1","id":227,"the_order":15},{"des_detail_id":"16","des_detail_name":"万利达","des_name":"主营品牌","des_type":"03","effective":"1","id":228,"the_order":16},{"des_detail_id":"17","des_detail_name":"康佳","des_name":"主营品牌","des_type":"03","effective":"1","id":229,"the_order":17},{"des_detail_id":"18","des_detail_name":"朵唯","des_name":"主营品牌","des_type":"03","effective":"1","id":230,"the_order":18},{"des_detail_id":"19","des_detail_name":"爱我","des_name":"主营品牌","des_type":"03","effective":"1","id":231,"the_order":19},{"des_detail_id":"20","des_detail_name":"长虹","des_name":"主营品牌","des_type":"03","effective":"1","id":232,"the_order":20},{"des_detail_id":"21","des_detail_name":"海信","des_name":"主营品牌","des_type":"03","effective":"1","id":233,"the_order":21},{"des_detail_id":"22","des_detail_name":"乐视","des_name":"主营品牌","des_type":"03","effective":"1","id":238,"the_order":22},{"des_detail_id":"23","des_detail_name":"中诺","des_name":"主营品牌","des_type":"03","effective":"1","id":239,"the_order":23},{"des_detail_id":"24","des_detail_name":"青橙","des_name":"主营品牌","des_type":"03","effective":"1","id":240,"the_order":24},{"des_detail_id":"25","des_detail_name":"努比亚","des_name":"主营品牌","des_type":"03","effective":"1","id":241,"the_order":25},{"des_detail_id":"26","des_detail_name":"TCL","des_name":"主营品牌","des_type":"03","effective":"1","id":242,"the_order":26},{"des_detail_id":"27","des_detail_name":"百利丰","des_name":"主营品牌","des_type":"03","effective":"1","id":243,"the_order":27},{"des_detail_id":"28","des_detail_name":"亿通","des_name":"主营品牌","des_type":"03","effective":"1","id":244,"the_order":28},{"des_detail_id":"29","des_detail_name":"波导","des_name":"主营品牌","des_type":"03","effective":"1","id":245,"the_order":29},{"des_detail_id":"30","des_detail_name":"优思","des_name":"主营品牌","des_type":"03","effective":"1","id":246,"the_order":30},{"des_detail_id":"01","des_detail_name":"黄豆E家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":15,"the_order":1},{"des_detail_id":"02","des_detail_name":"51订货网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":16,"the_order":2},{"des_detail_id":"03","des_detail_name":"易直供","des_name":"主要进货渠道","des_type":"04","effective":"1","id":17,"the_order":3},{"des_detail_id":"04","des_detail_name":"通讯市场","des_name":"主要进货渠道","des_type":"04","effective":"1","id":18,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"主要进货渠道","des_type":"04","effective":"1","id":19,"the_order":5},{"des_detail_id":"06","des_detail_name":"终端公司","des_name":"主要进货渠道","des_type":"04","effective":"1","id":234,"the_order":6},{"des_detail_id":"07","des_detail_name":"厂家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":235,"the_order":7},{"des_detail_id":"08","des_detail_name":"天音通信","des_name":"主要进货渠道","des_type":"04","effective":"1","id":236,"the_order":8},{"des_detail_id":"09","des_detail_name":"爱施德","des_name":"主要进货渠道","des_type":"04","effective":"1","id":237,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆侠","des_name":"主要进货渠道","des_type":"04","effective":"1","id":247,"the_order":10},{"des_detail_id":"11","des_detail_name":"3G手机网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":248,"the_order":11},{"des_detail_id":"12","des_detail_name":"地包商","des_name":"主要进货渠道","des_type":"04","effective":"1","id":249,"the_order":12},{"des_detail_id":"13","des_detail_name":"1号机","des_name":"主要进货渠道","des_type":"04","effective":"1","id":250,"the_order":13},{"des_detail_id":"14","des_detail_name":"沃易购","des_name":"主要进货渠道","des_type":"04","effective":"1","id":251,"the_order":14},{"des_detail_id":"15","des_detail_name":"京东","des_name":"主要进货渠道","des_type":"04","effective":"1","id":252,"the_order":15},{"des_detail_id":"16","des_detail_name":"淘宝","des_name":"主要进货渠道","des_type":"04","effective":"1","id":253,"the_order":16},{"des_detail_id":"17","des_detail_name":"厂家官网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":254,"the_order":17},{"des_detail_id":"18","des_detail_name":"易道网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":255,"the_order":18},{"des_detail_id":"19","des_detail_name":"开店通","des_name":"主要进货渠道","des_type":"04","effective":"1","id":256,"the_order":19},{"des_detail_id":"20","des_detail_name":"九牛网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":257,"the_order":20},{"des_detail_id":"11","des_detail_name":"黄豆E家","des_name":"合作网站","des_type":"05","effective":"1","id":20,"the_order":1},{"des_detail_id":"12","des_detail_name":"51订货网","des_name":"合作网站","des_type":"05","effective":"1","id":21,"the_order":2},{"des_detail_id":"13","des_detail_name":"易直供","des_name":"合作网站","des_type":"05","effective":"1","id":22,"the_order":3},{"des_detail_id":"14","des_detail_name":"淘宝","des_name":"合作网站","des_type":"05","effective":"1","id":23,"the_order":4},{"des_detail_id":"15","des_detail_name":"其他","des_name":"合作网站","des_type":"05","effective":"1","id":24,"the_order":5},{"des_detail_id":"01","des_detail_name":"学校","des_name":"周边环境","des_type":"06","effective":"1","id":25,"the_order":1},{"des_detail_id":"02","des_detail_name":"商场","des_name":"周边环境","des_type":"06","effective":"1","id":26,"the_order":2},{"des_detail_id":"03","des_detail_name":"政府机构","des_name":"周边环境","des_type":"06","effective":"1","id":27,"the_order":3},{"des_detail_id":"04","des_detail_name":"公园","des_name":"周边环境","des_type":"06","effective":"1","id":28,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"周边环境","des_type":"06","effective":"1","id":29,"the_order":5},{"des_detail_id":"01","des_detail_name":"S","des_name":"公司规模性质","des_type":"07","effective":"1","id":30,"the_order":1},{"des_detail_id":"02","des_detail_name":"A","des_name":"公司规模性质","des_type":"07","effective":"1","id":31,"the_order":2},{"des_detail_id":"03","des_detail_name":"B","des_name":"公司规模性质","des_type":"07","effective":"1","id":32,"the_order":3},{"des_detail_id":"04","des_detail_name":"C","des_name":"公司规模性质","des_type":"07","effective":"1","id":33,"the_order":4},{"des_detail_id":"05","des_detail_name":"D","des_name":"公司规模性质","des_type":"07","effective":"1","id":34,"the_order":5},{"des_detail_id":"01","des_detail_name":"法人","des_name":"岗位","des_type":"08","effective":"1","id":35,"the_order":1},{"des_detail_id":"02","des_detail_name":"采购负责人","des_name":"岗位","des_type":"08","effective":"1","id":36,"the_order":2},{"des_detail_id":"03","des_detail_name":"销售负责人","des_name":"岗位","des_type":"08","effective":"1","id":37,"the_order":3},{"des_detail_id":"04","des_detail_name":"店长","des_name":"岗位","des_type":"08","effective":"1","id":38,"the_order":4},{"des_detail_id":"01","des_detail_name":"黄豆E家WEB","des_name":"注册来源","des_type":"09","effective":"1","id":39,"the_order":1},{"des_detail_id":"02","des_detail_name":"NC","des_name":"注册来源","des_type":"09","effective":"1","id":40,"the_order":2},{"des_detail_id":"03","des_detail_name":"黄豆侠WEB","des_name":"注册来源","des_type":"09","effective":"1","id":41,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆侠微信","des_name":"注册来源","des_type":"09","effective":"1","id":42,"the_order":4},{"des_detail_id":"05","des_detail_name":"黄豆侠APP","des_name":"注册来源","des_type":"09","effective":"1","id":43,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠WAP","des_name":"注册来源","des_type":"09","effective":"1","id":44,"the_order":6},{"des_detail_id":"07","des_detail_name":"黄豆E家微信","des_name":"注册来源","des_type":"09","effective":"1","id":45,"the_order":7},{"des_detail_id":"08","des_detail_name":"黄豆E家APP","des_name":"注册来源","des_type":"09","effective":"1","id":46,"the_order":8},{"des_detail_id":"09","des_detail_name":"黄豆E家QQ营销","des_name":"注册来源","des_type":"09","effective":"1","id":47,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"注册来源","des_type":"09","effective":"1","id":48,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"注册来源","des_type":"09","effective":"1","id":49,"the_order":11},{"des_detail_id":"13","des_detail_name":"黄豆优推","des_name":"注册来源","des_type":"09","effective":"1","id":273,"the_order":13},{"des_detail_id":"12","des_detail_name":"代理人","des_name":"注册来源","des_type":"09","id":10000},{"des_detail_id":"01","des_detail_name":"直供大客户 ","des_name":"买家类别","des_type":"10","effective":"1","id":50,"the_order":1},{"des_detail_id":"02","des_detail_name":"区域规模客户","des_name":"买家类别","des_type":"10","effective":"1","id":51,"the_order":2},{"des_detail_id":"03","des_detail_name":"零售终端客户","des_name":"买家类别","des_type":"10","effective":"1","id":52,"the_order":3},{"des_detail_id":"04","des_detail_name":"县平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":53,"the_order":4},{"des_detail_id":"05","des_detail_name":"省平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":54,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠平台供应商客户","des_name":"买家类别","des_type":"10","effective":"1","id":258,"the_order":6},{"des_detail_id":"99","des_detail_name":"未分配","des_name":"买家类别","des_type":"10","effective":"1","id":55,"the_order":99},{"des_detail_id":"01","des_detail_name":"天音通信","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":56,"the_order":1},{"des_detail_id":"02","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":57,"the_order":2},{"des_detail_id":"03","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":58,"the_order":3},{"des_detail_id":"04","des_detail_name":"国代商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":59,"the_order":4},{"des_detail_id":"05","des_detail_name":"国代分公司","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":60,"the_order":5},{"des_detail_id":"06","des_detail_name":"省包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":61,"the_order":6},{"des_detail_id":"07","des_detail_name":"地包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":62,"the_order":7},{"des_detail_id":"08","des_detail_name":"通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":63,"the_order":8},{"des_detail_id":"09","des_detail_name":"联通平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":64,"the_order":9},{"des_detail_id":"10","des_detail_name":"联通平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":65,"the_order":10},{"des_detail_id":"11","des_detail_name":"移动平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":66,"the_order":11},{"des_detail_id":"12","des_detail_name":"移动平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":67,"the_order":12},{"des_detail_id":"13","des_detail_name":"电信平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":68,"the_order":13},{"des_detail_id":"14","des_detail_name":"电信平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":69,"the_order":14},{"des_detail_id":"16","des_detail_name":"旧模式县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":70,"the_order":16},{"des_detail_id":"17","des_detail_name":"自采自营（入sap）","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":259,"the_order":17},{"des_detail_id":"18","des_detail_name":"旧模式省级通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":260,"the_order":18},{"des_detail_id":"19","des_detail_name":"省平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":261,"the_order":19},{"des_detail_id":"20","des_detail_name":"县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":262,"the_order":20},{"des_detail_id":"21","des_detail_name":"苹果配件销售平台平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":263,"the_order":21},{"des_detail_id":"22","des_detail_name":"黄豆侠平台供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":264,"the_order":22},{"des_detail_id":"1","des_detail_name":"黄豆E家WEB","des_name":"登录来源","des_type":"12","effective":"1","id":71,"the_order":1},{"des_detail_id":"2","des_detail_name":"黄豆侠WEB","des_name":"登录来源","des_type":"12","effective":"1","id":72,"the_order":2},{"des_detail_id":"4","des_detail_name":"黄豆侠微信","des_name":"登录来源","des_type":"12","effective":"1","id":73,"the_order":4},{"des_detail_id":"5","des_detail_name":"黄豆侠APP","des_name":"登录来源","des_type":"12","effective":"1","id":74,"the_order":5},{"des_detail_id":"6","des_detail_name":"黄豆侠WAP","des_name":"登录来源","des_type":"12","effective":"1","id":75,"the_order":6},{"des_detail_id":"7","des_detail_name":"黄豆E家微信","des_name":"登录来源","des_type":"12","effective":"1","id":76,"the_order":7},{"des_detail_id":"8","des_detail_name":"黄豆E家APP","des_name":"登录来源","des_type":"12","effective":"1","id":77,"the_order":8},{"des_detail_id":"9","des_detail_name":"黄豆E家QQ营销","des_name":"登录来源","des_type":"12","effective":"1","id":78,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"登录来源","des_type":"12","effective":"1","id":79,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"登录来源","des_type":"12","effective":"1","id":80,"the_order":11},{"att_manage_id":5,"des_detail_id":"1","des_detail_name":"属性1","des_name":"测试属性3","des_type":"13","effective":"1","id":201,"the_order":1},{"att_manage_id":5,"des_detail_id":"3","des_detail_name":"属性值1","des_name":"测试属性3","des_type":"13","effective":"1","id":203,"the_order":1},{"att_manage_id":5,"des_detail_id":"11","des_detail_name":"aa","des_name":"测试属性3","des_type":"13","effective":"1","id":212,"the_order":1},{"att_manage_id":5,"des_detail_id":"2","des_detail_name":"属性3","des_name":"测试属性3","des_type":"13","effective":"1","id":202,"the_order":2},{"att_manage_id":5,"des_detail_id":"4","des_detail_name":"属性值2","des_name":"测试属性3","des_type":"13","effective":"1","id":204,"the_order":2},{"att_manage_id":5,"des_detail_id":"5","des_detail_name":"属性值3","des_name":"测试属性3","des_type":"13","effective":"1","id":205,"the_order":3},{"att_manage_id":5,"des_detail_id":"6","des_detail_name":"属性值4","des_name":"测试属性3","des_type":"13","effective":"1","id":206,"the_order":4},{"att_manage_id":5,"des_detail_id":"7","des_detail_name":"属性值5","des_name":"测试属性3","des_type":"13","effective":"1","id":207,"the_order":5},{"att_manage_id":5,"des_detail_id":"8","des_detail_name":"属性值6","des_name":"测试属性3","des_type":"13","effective":"1","id":208,"the_order":6},{"att_manage_id":5,"des_detail_id":"9","des_detail_name":"a","des_name":"测试属性3","des_type":"13","effective":"1","id":209},{"att_manage_id":5,"des_detail_id":"10","des_detail_name":"b","des_name":"测试属性3","des_type":"13","effective":"1","id":210},{"att_manage_id":6,"des_name":"fff","des_type":"14","id":211},{"att_manage_id":9,"des_name":"县平台物流","des_type":"17","id":216},{"des_detail_id":"1","des_detail_name":"注册会员","des_name":"会员等级","des_type":"18","id":265,"the_order":1},{"des_detail_id":"2","des_detail_name":"普通会员","des_name":"会员等级","des_type":"18","id":266,"the_order":2},{"des_detail_id":"3","des_detail_name":"铜牌会员","des_name":"会员等级","des_type":"18","id":267,"the_order":3},{"des_detail_id":"4","des_detail_name":"银牌会员","des_name":"会员等级","des_type":"18","id":268,"the_order":4},{"des_detail_id":"5","des_detail_name":"金牌会员","des_name":"会员等级","des_type":"18","id":269,"the_order":5},{"des_detail_id":"6","des_detail_name":"钻石会员","des_name":"会员等级","des_type":"18","id":270,"the_order":6},{"des_detail_id":"01","des_detail_name":"新黄豆侠","des_name":"应用网站","des_type":"19","id":271,"the_order":1},{"des_detail_id":"01","des_detail_name":"后台规则","des_name":"规则发起方","des_type":"20","id":272,"the_order":1},{"des_detail_id":"01","des_detail_name":"CRM后台","des_name":"标签指定渠道","des_type":"21","id":10001,"the_order":1},{"des_detail_id":"02","des_detail_name":"小能IM","des_name":"标签指定渠道","des_type":"21","id":10002,"the_order":2},{"des_detail_id":"03","des_detail_name":"系统自动","des_name":"标签指定渠道","des_type":"21","id":10003,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆优服APP","des_name":"标签指定渠道","des_type":"21","effective":"1","id":666,"the_order":4},{"att_manage_id":34,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintest2","des_type":"23","effective":"1","id":362,"the_order":1},{"att_manage_id":34,"des_detail_id":"2","des_detail_name":"bbb","des_name":"xintest2","des_type":"23","effective":"1","id":363,"the_order":2},{"att_manage_id":35,"des_name":"zhangmx","des_type":"24","id":356},{"att_manage_id":36,"des_name":"是否必填测试","des_type":"25","id":357},{"att_manage_id":38,"des_name":"5553","des_type":"26","id":359},{"att_manage_id":39,"des_name":"54353","des_type":"27","id":360},{"att_manage_id":40,"des_name":"鹅鹅鹅饿饿","des_type":"28","id":361},{"att_manage_id":42,"des_name":"他婷婷婷婷","des_type":"29","id":365},{"des_name":"NodeList","des_type":"3","id":9999,"the_order":3},{"att_manage_id":43,"des_name":"xintest3","des_type":"30","id":366},{"att_manage_id":44,"des_name":"xintest477","des_type":"31","id":367},{"att_manage_id":45,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintes3","des_type":"32","effective":"1","id":394,"remark":"1","the_order":1},{"att_manage_id":46,"des_name":"xintest6","des_type":"33","id":369},{"att_manage_id":47,"des_detail_id":"1","des_detail_name":"aa","des_name":"张明霞","des_type":"34","effective":"1","id":374,"the_order":1},{"att_manage_id":48,"des_name":"yyyy","des_type":"35","id":372},{"att_manage_id":49,"des_name":"张明霞111111","des_type":"36","id":373},{"att_manage_id":50,"des_name":"店铺属性1","des_type":"37","id":375},{"att_manage_id":51,"des_detail_id":"2","des_detail_name":"test1店铺信息","des_name":"多选属性值","des_type":"38","effective":"1","id":405,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"1","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到","des_name":"多选属性值","des_type":"38","effective":"1","id":404,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"3","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到11","des_name":"多选属性值","des_type":"38","effective":"1","id":406,"remark":"22","the_order":22},{"att_manage_id":51,"des_detail_id":"4","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到22","des_name":"多选属性值","des_type":"38","effective":"1","id":407,"remark":"33","the_order":33},{"att_manage_id":52,"des_detail_id":"1","des_detail_name":"维护联系人属性","des_name":"联系人属性","des_type":"39","effective":"1","id":379,"remark":"11","the_order":11},{"att_manage_id":52,"des_detail_id":"2","des_detail_name":"维护联系人属性1","des_name":"联系人属性","des_type":"39","effective":"1","id":380,"remark":"22","the_order":22},{"att_manage_id":53,"des_name":"公司信息属性1","des_type":"40","id":381},{"att_manage_id":54,"des_detail_id":"1","des_detail_name":"属性值1","des_name":"公司信息属性2","des_type":"41","effective":"1","id":384,"remark":"1","the_order":1},{"att_manage_id":54,"des_detail_id":"2","des_detail_name":"属性2","des_name":"公司信息属性2","des_type":"41","effective":"1","id":385,"remark":"2","the_order":2},{"att_manage_id":55,"des_name":"属性输入","des_type":"42","id":386},{"att_manage_id":57,"des_name":"test1公司属性","des_type":"43","id":395},{"att_manage_id":58,"des_name":"test1公司属性2","des_type":"44","id":396},{"att_manage_id":59,"des_detail_id":"1","des_detail_name":"kuck","des_name":"联系人信息test1","des_type":"45","effective":"1","id":409,"remark":"aaa","the_order":2},{"att_manage_id":60,"des_name":"黄豆","des_type":"46","id":410},{"des_name":"NodeList","des_type":"5","id":9998,"the_order":5},{"des_name":"NodeList","des_type":"8","id":9997,"the_order":8},{"att_manage_id":56,"des_detail_id":"1","des_detail_name":"cem","des_name":"xintest7","des_type":"9","effective":"1","id":393,"remark":"1","the_order":1}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.ContactsInfoApiServiceImpl - ContactsInfoApiServiceImpl listContactsInfoByPage end.
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - List<SelectVo> : [[{"key":"01","value":"天音通信"},{"key":"02","value":"厂家供应商"},{"key":"03","value":"厂家供应商"},{"key":"04","value":"国代商"},{"key":"05","value":"国代分公司"},{"key":"06","value":"省包商"},{"key":"07","value":"地包商"},{"key":"08","value":"通讯市场"},{"key":"09","value":"联通平台省包"},{"key":"10","value":"联通平台地包"},{"key":"11","value":"移动平台省包"},{"key":"12","value":"移动平台地包"},{"key":"13","value":"电信平台省包"},{"key":"14","value":"电信平台地包"},{"key":"16","value":"旧模式县平台"},{"key":"17","value":"自采自营（入sap）"},{"key":"18","value":"旧模式省级通讯市场"},{"key":"19","value":"省平台"},{"key":"20","value":"县平台"},{"key":"21","value":"苹果配件销售平台平台"},{"key":"22","value":"黄豆侠平台供应商"}]]
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - AttributeManageController getAttribute end...
INFO : com.ihdou.api.member.service.impl.crm.common.AttrComServiceImpl - AttrComServiceImpl getAttributeByType END...
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - selectVo = [{"key":"01","value":"天音通信"},{"key":"02","value":"厂家供应商"},{"key":"03","value":"厂家供应商"},{"key":"04","value":"国代商"},{"key":"05","value":"国代分公司"},{"key":"06","value":"省包商"},{"key":"07","value":"地包商"},{"key":"08","value":"通讯市场"},{"key":"09","value":"联通平台省包"},{"key":"10","value":"联通平台地包"},{"key":"11","value":"移动平台省包"},{"key":"12","value":"移动平台地包"},{"key":"13","value":"电信平台省包"},{"key":"14","value":"电信平台地包"},{"key":"16","value":"旧模式县平台"},{"key":"17","value":"自采自营（入sap）"},{"key":"18","value":"旧模式省级通讯市场"},{"key":"19","value":"省平台"},{"key":"20","value":"县平台"},{"key":"21","value":"苹果配件销售平台平台"},{"key":"22","value":"黄豆侠平台供应商"}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInforServiceImpl getAccountInformation STARG...
INFO  [2018-12-28 15:11:08,143] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 客户列表条件vo:{"identityId":0,"userId":289448}
INFO  [2018-12-28 15:11:08,143] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询账户信息: select b.buyerid, u.username, u.userid, b.shopname, b.pri_mobile, b.province provinceId,b.city cityId,b.county countyId,b.townId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname) as area_name, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime, nvl(b.registerfrom,'自然流量') as registerfrom, b.buyer_type, b.buyersource, s.supply_status, s.supply_type  from buyerinfo b inner join users u on b.userid=u.userid and buyerstatus='02' left join supply s on b.userid=s.user_id left join areainfo ai0 on ai0.areaid=b.province left join areainfo ai1 on ai1.areaid=b.city left join areainfo ai2 on ai2.areaid=b.county left join towninfo ti on ti.townid=b.townid and ti.status='1' where u.userid='289448' and u.userstatus='1' and b.delflag='1'
DEBUG [2018-12-28 15:11:08,144] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl$2 - 账户信息vo:{"addTime":"2018-12-28 10:37:50","area_name":"香港,香港特别行政区,香港市区内","area_text":"香港,香港特别行政区,香港市区内","buyerId":410572,"buyerSource":"03","buyer_type":"06","countyId":3722,"pri_mobile":"13581732736","registerFrom":"自然流量","shopName":"信测试公司1","supply_status":"02","supply_type":"22","userId":289448,"userName":"信测试供应商"}
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - accountInformation = {"addTime":"2018-12-28 10:37:50","area_name":"香港,香港特别行政区,香港市区内","area_text":"香港,香港特别行政区,香港市区内","buyerId":410572,"buyerSource":"03","buyer_type":"06","countyId":3722,"pri_mobile":"13581732736","registerFrom":"自然流量","shopName":"信测试公司1","supply_status":"02","supply_type":"22","userId":289448,"userName":"信测试供应商"}
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInforServiceImpl getAccountInformation END...
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - BuyerInformationQueryVo = {"addTime":"2018-12-28 10:37:50","area_name":"香港,香港特别行政区,香港市区内","area_text":"香港,香港特别行政区,香港市区内","buyerId":410572,"buyerSource":"03","buyer_type":"06","countyId":3722,"pri_mobile":"13581732736","registerFrom":"自然流量","shopName":"信测试公司1","supply_status":"02","supply_type":"22","userId":289448,"userName":"信测试供应商"}
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/wechatBind/getMasterOpenId/289448
INFO : com.ihdou.api.member.controller.wechat.WechatBindWebController - WechatBindWebController getMasterOpenId begin.参数信息QueryVo：289448
INFO : com.ihdou.api.member.service.impl.wechat.WechatBindWebServiceImpl - ..getMasterOpenId begin.
INFO  [2018-12-28 15:11:08,166] cn.ihdou.ihdoumallwechat.customer.service.impl.CustomerIHDServiceImpl - CustomerIHDServiceImpl getMasterBindOpenIdByUserId start.
DEBUG [2018-12-28 15:11:08,166] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:11:08,166] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a90d9cc] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:11:08,167] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@2d13c6b0] will not be managed by Spring
DEBUG [2018-12-28 15:11:08,168] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: SELECT w.relation_id as id, w.open_id as openId, w.master_flag as masterFlag, w.userid as userId, w.add_date as addDate, w.add_user as addUser, w.update_date as updateDate, w.update_user as updateUser FROM wchat_relation_info w WHERE w.delete_flag = '1' and w.userid = ? and w.master_flag = '1' 
DEBUG [2018-12-28 15:11:08,168] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 289448(String)
DEBUG [2018-12-28 15:11:08,170] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 0
DEBUG [2018-12-28 15:11:08,171] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a90d9cc]
INFO  [2018-12-28 15:11:08,172] cn.ihdou.ihdoumallwechat.customer.service.impl.CustomerIHDServiceImpl - CustomerIHDServiceImpl getMasterBindOpenIdByUserId end.
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/buyerInformation/queryForTown/3722
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - BuyerInforController getAccountInformation begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - countyId:3722
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInforServiceImpl queryForTown begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInforServiceImpl queryForTown getTownByCounty begin.
INFO  [2018-12-28 15:11:08,191] cn.ihdou.common.service.impl.AreaMgrServiceImpl - 县id:3722
INFO  [2018-12-28 15:11:08,192] cn.ihdou.common.dao.impl.AreaMgrDaoImpl - 根据县ID获得其下所属乡镇信息&sql:select townid areaid,townname areaname from towninfo where countyid='3722' and status='1'
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInformation queryForTown getTownByCounty end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInforServiceImpl queryForTown end.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - li:[]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:11:09,777] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:11:10,279] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:11:10,279] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:11:10,476] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/attributeManage/getAttribute/10
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/buyerInformation/list
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/area/getProvinceByAuth/
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/attributeManage/getAttribute/09
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - AttributeManageController getAttribute start...
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - AttributeManageController getAttribute start...
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - type : [09]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.ContactsInfoApiServiceImpl - ContactsInfoApiServiceImpl listContactsInfoByPage begin.
INFO : com.ihdou.api.member.controller.crm.common.AreaComController - AreaComController getProvinceByAuth begin.
INFO : com.ihdou.api.member.controller.crm.common.AreaComController - loginId:cfbc0d15fc4840c3ac7d73716f063cd2
INFO  [2018-12-28 15:11:14,057] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - select * from crm_attribute where del_flag=1 order by des_type asc,the_order asc
INFO : com.ihdou.api.member.service.impl.crm.common.AreaComServiceImpl - ..getProvinceByAuth begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - BuyerInforController getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - type : [10]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.ContactsInfoApiServiceImpl - ContactsInfoApiServiceImpl listContactsInfoByPage begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - vo:{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"","start_date":"","userName":""}
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInformationServiceImpl listBuyerInfoForPage START...
INFO  [2018-12-28 15:11:14,062] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - select * from crm_attribute where del_flag=1 order by des_type asc,the_order asc
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - vo:[{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"","start_date":"","userName":""}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync begin.
INFO  [2018-12-28 15:11:14,068] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync begin.
INFO  [2018-12-28 15:11:14,068] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 客户列表搜索筛选项BuyerInformationConditionVo：{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"isAdmin":"1","loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"","start_date":"","userName":""}
INFO  [2018-12-28 15:11:14,069] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页信息pageVo:{"centerPage":0,"endPage":0,"inLastPageInteral":false,"lastPage":0,"messageForPage":10,"nextPage":0,"pageEndCount":0,"pageInterval":0,"pageIntervalNow":0,"pageNow":1,"pageStartCount":0,"startPage":0,"totalCount":0,"totalPage":0}
INFO  [2018-12-28 15:11:14,069] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数:select count(*) from ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  order by addtime desc ) 
INFO  [2018-12-28 15:11:14,076] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录: SELECT * FROM (SELECT ROWNUM row_, t.* FROM ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  order by addtime desc ) t ) WHERE row_ <=10 AND row_ >=1
INFO : com.ihdou.api.member.service.impl.crm.common.AreaComServiceImpl - ..getProvinceByAuth end.
DEBUG [2018-12-28 15:11:14,084] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - list:[{"des_detail_id":"1","des_detail_name":"中国联通","des_name":"合作运营商","des_type":"01","effective":"1","id":1,"the_order":1},{"des_detail_id":"2","des_detail_name":"中国移动","des_name":"合作运营商","des_type":"01","effective":"1","id":2,"the_order":2},{"des_detail_id":"3","des_detail_name":"中国电信","des_name":"合作运营商","des_type":"01","effective":"1","id":3,"the_order":3},{"des_detail_id":"4","des_detail_name":"无合作","des_name":"合作运营商","des_type":"01","effective":"1","id":4,"the_order":4},{"des_detail_id":"10","des_detail_name":"手机","des_name":"主营品类","des_type":"02","effective":"1","id":5,"the_order":1},{"des_detail_id":"20","des_detail_name":"平板","des_name":"主营品类","des_type":"02","effective":"1","id":6,"the_order":2},{"des_detail_id":"30","des_detail_name":"智能设备","des_name":"主营品类","des_type":"02","effective":"1","id":7,"the_order":3},{"des_detail_id":"40","des_detail_name":"手机配件","des_name":"主营品类","des_type":"02","effective":"1","id":8,"the_order":4},{"des_detail_id":"98","des_detail_name":"都涉及","des_name":"主营品类","des_type":"02","effective":"1","id":217,"the_order":98},{"des_detail_id":"99","des_detail_name":"其他","des_name":"主营品类","des_type":"02","effective":"1","id":218,"the_order":99},{"des_detail_id":"01","des_detail_name":"华为","des_name":"主营品牌","des_type":"03","effective":"1","id":9,"the_order":1},{"des_detail_id":"02","des_detail_name":"三星","des_name":"主营品牌","des_type":"03","effective":"1","id":10,"the_order":2},{"des_detail_id":"03","des_detail_name":"苹果","des_name":"主营品牌","des_type":"03","effective":"1","id":11,"the_order":3},{"des_detail_id":"04","des_detail_name":"小米","des_name":"主营品牌","des_type":"03","effective":"1","id":12,"the_order":4},{"des_detail_id":"05","des_detail_name":"酷派","des_name":"主营品牌","des_type":"03","effective":"1","id":13,"the_order":5},{"des_detail_id":"06","des_detail_name":"瓦戈","des_name":"主营品牌","des_type":"03","effective":"1","id":14,"the_order":6},{"des_detail_id":"07","des_detail_name":"oppo","des_name":"主营品牌","des_type":"03","effective":"1","id":219,"the_order":7},{"des_detail_id":"08","des_detail_name":"步步高","des_name":"主营品牌","des_type":"03","effective":"1","id":220,"the_order":8},{"des_detail_id":"09","des_detail_name":"魅族","des_name":"主营品牌","des_type":"03","effective":"1","id":221,"the_order":9},{"des_detail_id":"10","des_detail_name":"联想","des_name":"主营品牌","des_type":"03","effective":"1","id":222,"the_order":10},{"des_detail_id":"11","des_detail_name":"vivo","des_name":"主营品牌","des_type":"03","effective":"1","id":223,"the_order":11},{"des_detail_id":"12","des_detail_name":"金立","des_name":"主营品牌","des_type":"03","effective":"1","id":224,"the_order":12},{"des_detail_id":"13","des_detail_name":"中兴","des_name":"主营品牌","des_type":"03","effective":"1","id":225,"the_order":13},{"des_detail_id":"14","des_detail_name":"小辣椒","des_name":"主营品牌","des_type":"03","effective":"1","id":226,"the_order":14},{"des_detail_id":"15","des_detail_name":"诺基亚","des_name":"主营品牌","des_type":"03","effective":"1","id":227,"the_order":15},{"des_detail_id":"16","des_detail_name":"万利达","des_name":"主营品牌","des_type":"03","effective":"1","id":228,"the_order":16},{"des_detail_id":"17","des_detail_name":"康佳","des_name":"主营品牌","des_type":"03","effective":"1","id":229,"the_order":17},{"des_detail_id":"18","des_detail_name":"朵唯","des_name":"主营品牌","des_type":"03","effective":"1","id":230,"the_order":18},{"des_detail_id":"19","des_detail_name":"爱我","des_name":"主营品牌","des_type":"03","effective":"1","id":231,"the_order":19},{"des_detail_id":"20","des_detail_name":"长虹","des_name":"主营品牌","des_type":"03","effective":"1","id":232,"the_order":20},{"des_detail_id":"21","des_detail_name":"海信","des_name":"主营品牌","des_type":"03","effective":"1","id":233,"the_order":21},{"des_detail_id":"22","des_detail_name":"乐视","des_name":"主营品牌","des_type":"03","effective":"1","id":238,"the_order":22},{"des_detail_id":"23","des_detail_name":"中诺","des_name":"主营品牌","des_type":"03","effective":"1","id":239,"the_order":23},{"des_detail_id":"24","des_detail_name":"青橙","des_name":"主营品牌","des_type":"03","effective":"1","id":240,"the_order":24},{"des_detail_id":"25","des_detail_name":"努比亚","des_name":"主营品牌","des_type":"03","effective":"1","id":241,"the_order":25},{"des_detail_id":"26","des_detail_name":"TCL","des_name":"主营品牌","des_type":"03","effective":"1","id":242,"the_order":26},{"des_detail_id":"27","des_detail_name":"百利丰","des_name":"主营品牌","des_type":"03","effective":"1","id":243,"the_order":27},{"des_detail_id":"28","des_detail_name":"亿通","des_name":"主营品牌","des_type":"03","effective":"1","id":244,"the_order":28},{"des_detail_id":"29","des_detail_name":"波导","des_name":"主营品牌","des_type":"03","effective":"1","id":245,"the_order":29},{"des_detail_id":"30","des_detail_name":"优思","des_name":"主营品牌","des_type":"03","effective":"1","id":246,"the_order":30},{"des_detail_id":"01","des_detail_name":"黄豆E家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":15,"the_order":1},{"des_detail_id":"02","des_detail_name":"51订货网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":16,"the_order":2},{"des_detail_id":"03","des_detail_name":"易直供","des_name":"主要进货渠道","des_type":"04","effective":"1","id":17,"the_order":3},{"des_detail_id":"04","des_detail_name":"通讯市场","des_name":"主要进货渠道","des_type":"04","effective":"1","id":18,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"主要进货渠道","des_type":"04","effective":"1","id":19,"the_order":5},{"des_detail_id":"06","des_detail_name":"终端公司","des_name":"主要进货渠道","des_type":"04","effective":"1","id":234,"the_order":6},{"des_detail_id":"07","des_detail_name":"厂家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":235,"the_order":7},{"des_detail_id":"08","des_detail_name":"天音通信","des_name":"主要进货渠道","des_type":"04","effective":"1","id":236,"the_order":8},{"des_detail_id":"09","des_detail_name":"爱施德","des_name":"主要进货渠道","des_type":"04","effective":"1","id":237,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆侠","des_name":"主要进货渠道","des_type":"04","effective":"1","id":247,"the_order":10},{"des_detail_id":"11","des_detail_name":"3G手机网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":248,"the_order":11},{"des_detail_id":"12","des_detail_name":"地包商","des_name":"主要进货渠道","des_type":"04","effective":"1","id":249,"the_order":12},{"des_detail_id":"13","des_detail_name":"1号机","des_name":"主要进货渠道","des_type":"04","effective":"1","id":250,"the_order":13},{"des_detail_id":"14","des_detail_name":"沃易购","des_name":"主要进货渠道","des_type":"04","effective":"1","id":251,"the_order":14},{"des_detail_id":"15","des_detail_name":"京东","des_name":"主要进货渠道","des_type":"04","effective":"1","id":252,"the_order":15},{"des_detail_id":"16","des_detail_name":"淘宝","des_name":"主要进货渠道","des_type":"04","effective":"1","id":253,"the_order":16},{"des_detail_id":"17","des_detail_name":"厂家官网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":254,"the_order":17},{"des_detail_id":"18","des_detail_name":"易道网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":255,"the_order":18},{"des_detail_id":"19","des_detail_name":"开店通","des_name":"主要进货渠道","des_type":"04","effective":"1","id":256,"the_order":19},{"des_detail_id":"20","des_detail_name":"九牛网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":257,"the_order":20},{"des_detail_id":"11","des_detail_name":"黄豆E家","des_name":"合作网站","des_type":"05","effective":"1","id":20,"the_order":1},{"des_detail_id":"12","des_detail_name":"51订货网","des_name":"合作网站","des_type":"05","effective":"1","id":21,"the_order":2},{"des_detail_id":"13","des_detail_name":"易直供","des_name":"合作网站","des_type":"05","effective":"1","id":22,"the_order":3},{"des_detail_id":"14","des_detail_name":"淘宝","des_name":"合作网站","des_type":"05","effective":"1","id":23,"the_order":4},{"des_detail_id":"15","des_detail_name":"其他","des_name":"合作网站","des_type":"05","effective":"1","id":24,"the_order":5},{"des_detail_id":"01","des_detail_name":"学校","des_name":"周边环境","des_type":"06","effective":"1","id":25,"the_order":1},{"des_detail_id":"02","des_detail_name":"商场","des_name":"周边环境","des_type":"06","effective":"1","id":26,"the_order":2},{"des_detail_id":"03","des_detail_name":"政府机构","des_name":"周边环境","des_type":"06","effective":"1","id":27,"the_order":3},{"des_detail_id":"04","des_detail_name":"公园","des_name":"周边环境","des_type":"06","effective":"1","id":28,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"周边环境","des_type":"06","effective":"1","id":29,"the_order":5},{"des_detail_id":"01","des_detail_name":"S","des_name":"公司规模性质","des_type":"07","effective":"1","id":30,"the_order":1},{"des_detail_id":"02","des_detail_name":"A","des_name":"公司规模性质","des_type":"07","effective":"1","id":31,"the_order":2},{"des_detail_id":"03","des_detail_name":"B","des_name":"公司规模性质","des_type":"07","effective":"1","id":32,"the_order":3},{"des_detail_id":"04","des_detail_name":"C","des_name":"公司规模性质","des_type":"07","effective":"1","id":33,"the_order":4},{"des_detail_id":"05","des_detail_name":"D","des_name":"公司规模性质","des_type":"07","effective":"1","id":34,"the_order":5},{"des_detail_id":"01","des_detail_name":"法人","des_name":"岗位","des_type":"08","effective":"1","id":35,"the_order":1},{"des_detail_id":"02","des_detail_name":"采购负责人","des_name":"岗位","des_type":"08","effective":"1","id":36,"the_order":2},{"des_detail_id":"03","des_detail_name":"销售负责人","des_name":"岗位","des_type":"08","effective":"1","id":37,"the_order":3},{"des_detail_id":"04","des_detail_name":"店长","des_name":"岗位","des_type":"08","effective":"1","id":38,"the_order":4},{"des_detail_id":"01","des_detail_name":"黄豆E家WEB","des_name":"注册来源","des_type":"09","effective":"1","id":39,"the_order":1},{"des_detail_id":"02","des_detail_name":"NC","des_name":"注册来源","des_type":"09","effective":"1","id":40,"the_order":2},{"des_detail_id":"03","des_detail_name":"黄豆侠WEB","des_name":"注册来源","des_type":"09","effective":"1","id":41,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆侠微信","des_name":"注册来源","des_type":"09","effective":"1","id":42,"the_order":4},{"des_detail_id":"05","des_detail_name":"黄豆侠APP","des_name":"注册来源","des_type":"09","effective":"1","id":43,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠WAP","des_name":"注册来源","des_type":"09","effective":"1","id":44,"the_order":6},{"des_detail_id":"07","des_detail_name":"黄豆E家微信","des_name":"注册来源","des_type":"09","effective":"1","id":45,"the_order":7},{"des_detail_id":"08","des_detail_name":"黄豆E家APP","des_name":"注册来源","des_type":"09","effective":"1","id":46,"the_order":8},{"des_detail_id":"09","des_detail_name":"黄豆E家QQ营销","des_name":"注册来源","des_type":"09","effective":"1","id":47,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"注册来源","des_type":"09","effective":"1","id":48,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"注册来源","des_type":"09","effective":"1","id":49,"the_order":11},{"des_detail_id":"13","des_detail_name":"黄豆优推","des_name":"注册来源","des_type":"09","effective":"1","id":273,"the_order":13},{"des_detail_id":"12","des_detail_name":"代理人","des_name":"注册来源","des_type":"09","id":10000},{"des_detail_id":"01","des_detail_name":"直供大客户 ","des_name":"买家类别","des_type":"10","effective":"1","id":50,"the_order":1},{"des_detail_id":"02","des_detail_name":"区域规模客户","des_name":"买家类别","des_type":"10","effective":"1","id":51,"the_order":2},{"des_detail_id":"03","des_detail_name":"零售终端客户","des_name":"买家类别","des_type":"10","effective":"1","id":52,"the_order":3},{"des_detail_id":"04","des_detail_name":"县平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":53,"the_order":4},{"des_detail_id":"05","des_detail_name":"省平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":54,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠平台供应商客户","des_name":"买家类别","des_type":"10","effective":"1","id":258,"the_order":6},{"des_detail_id":"99","des_detail_name":"未分配","des_name":"买家类别","des_type":"10","effective":"1","id":55,"the_order":99},{"des_detail_id":"01","des_detail_name":"天音通信","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":56,"the_order":1},{"des_detail_id":"02","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":57,"the_order":2},{"des_detail_id":"03","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":58,"the_order":3},{"des_detail_id":"04","des_detail_name":"国代商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":59,"the_order":4},{"des_detail_id":"05","des_detail_name":"国代分公司","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":60,"the_order":5},{"des_detail_id":"06","des_detail_name":"省包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":61,"the_order":6},{"des_detail_id":"07","des_detail_name":"地包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":62,"the_order":7},{"des_detail_id":"08","des_detail_name":"通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":63,"the_order":8},{"des_detail_id":"09","des_detail_name":"联通平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":64,"the_order":9},{"des_detail_id":"10","des_detail_name":"联通平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":65,"the_order":10},{"des_detail_id":"11","des_detail_name":"移动平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":66,"the_order":11},{"des_detail_id":"12","des_detail_name":"移动平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":67,"the_order":12},{"des_detail_id":"13","des_detail_name":"电信平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":68,"the_order":13},{"des_detail_id":"14","des_detail_name":"电信平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":69,"the_order":14},{"des_detail_id":"16","des_detail_name":"旧模式县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":70,"the_order":16},{"des_detail_id":"17","des_detail_name":"自采自营（入sap）","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":259,"the_order":17},{"des_detail_id":"18","des_detail_name":"旧模式省级通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":260,"the_order":18},{"des_detail_id":"19","des_detail_name":"省平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":261,"the_order":19},{"des_detail_id":"20","des_detail_name":"县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":262,"the_order":20},{"des_detail_id":"21","des_detail_name":"苹果配件销售平台平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":263,"the_order":21},{"des_detail_id":"22","des_detail_name":"黄豆侠平台供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":264,"the_order":22},{"des_detail_id":"1","des_detail_name":"黄豆E家WEB","des_name":"登录来源","des_type":"12","effective":"1","id":71,"the_order":1},{"des_detail_id":"2","des_detail_name":"黄豆侠WEB","des_name":"登录来源","des_type":"12","effective":"1","id":72,"the_order":2},{"des_detail_id":"4","des_detail_name":"黄豆侠微信","des_name":"登录来源","des_type":"12","effective":"1","id":73,"the_order":4},{"des_detail_id":"5","des_detail_name":"黄豆侠APP","des_name":"登录来源","des_type":"12","effective":"1","id":74,"the_order":5},{"des_detail_id":"6","des_detail_name":"黄豆侠WAP","des_name":"登录来源","des_type":"12","effective":"1","id":75,"the_order":6},{"des_detail_id":"7","des_detail_name":"黄豆E家微信","des_name":"登录来源","des_type":"12","effective":"1","id":76,"the_order":7},{"des_detail_id":"8","des_detail_name":"黄豆E家APP","des_name":"登录来源","des_type":"12","effective":"1","id":77,"the_order":8},{"des_detail_id":"9","des_detail_name":"黄豆E家QQ营销","des_name":"登录来源","des_type":"12","effective":"1","id":78,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"登录来源","des_type":"12","effective":"1","id":79,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"登录来源","des_type":"12","effective":"1","id":80,"the_order":11},{"att_manage_id":5,"des_detail_id":"1","des_detail_name":"属性1","des_name":"测试属性3","des_type":"13","effective":"1","id":201,"the_order":1},{"att_manage_id":5,"des_detail_id":"3","des_detail_name":"属性值1","des_name":"测试属性3","des_type":"13","effective":"1","id":203,"the_order":1},{"att_manage_id":5,"des_detail_id":"11","des_detail_name":"aa","des_name":"测试属性3","des_type":"13","effective":"1","id":212,"the_order":1},{"att_manage_id":5,"des_detail_id":"2","des_detail_name":"属性3","des_name":"测试属性3","des_type":"13","effective":"1","id":202,"the_order":2},{"att_manage_id":5,"des_detail_id":"4","des_detail_name":"属性值2","des_name":"测试属性3","des_type":"13","effective":"1","id":204,"the_order":2},{"att_manage_id":5,"des_detail_id":"5","des_detail_name":"属性值3","des_name":"测试属性3","des_type":"13","effective":"1","id":205,"the_order":3},{"att_manage_id":5,"des_detail_id":"6","des_detail_name":"属性值4","des_name":"测试属性3","des_type":"13","effective":"1","id":206,"the_order":4},{"att_manage_id":5,"des_detail_id":"7","des_detail_name":"属性值5","des_name":"测试属性3","des_type":"13","effective":"1","id":207,"the_order":5},{"att_manage_id":5,"des_detail_id":"8","des_detail_name":"属性值6","des_name":"测试属性3","des_type":"13","effective":"1","id":208,"the_order":6},{"att_manage_id":5,"des_detail_id":"9","des_detail_name":"a","des_name":"测试属性3","des_type":"13","effective":"1","id":209},{"att_manage_id":5,"des_detail_id":"10","des_detail_name":"b","des_name":"测试属性3","des_type":"13","effective":"1","id":210},{"att_manage_id":6,"des_name":"fff","des_type":"14","id":211},{"att_manage_id":9,"des_name":"县平台物流","des_type":"17","id":216},{"des_detail_id":"1","des_detail_name":"注册会员","des_name":"会员等级","des_type":"18","id":265,"the_order":1},{"des_detail_id":"2","des_detail_name":"普通会员","des_name":"会员等级","des_type":"18","id":266,"the_order":2},{"des_detail_id":"3","des_detail_name":"铜牌会员","des_name":"会员等级","des_type":"18","id":267,"the_order":3},{"des_detail_id":"4","des_detail_name":"银牌会员","des_name":"会员等级","des_type":"18","id":268,"the_order":4},{"des_detail_id":"5","des_detail_name":"金牌会员","des_name":"会员等级","des_type":"18","id":269,"the_order":5},{"des_detail_id":"6","des_detail_name":"钻石会员","des_name":"会员等级","des_type":"18","id":270,"the_order":6},{"des_detail_id":"01","des_detail_name":"新黄豆侠","des_name":"应用网站","des_type":"19","id":271,"the_order":1},{"des_detail_id":"01","des_detail_name":"后台规则","des_name":"规则发起方","des_type":"20","id":272,"the_order":1},{"des_detail_id":"01","des_detail_name":"CRM后台","des_name":"标签指定渠道","des_type":"21","id":10001,"the_order":1},{"des_detail_id":"02","des_detail_name":"小能IM","des_name":"标签指定渠道","des_type":"21","id":10002,"the_order":2},{"des_detail_id":"03","des_detail_name":"系统自动","des_name":"标签指定渠道","des_type":"21","id":10003,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆优服APP","des_name":"标签指定渠道","des_type":"21","effective":"1","id":666,"the_order":4},{"att_manage_id":34,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintest2","des_type":"23","effective":"1","id":362,"the_order":1},{"att_manage_id":34,"des_detail_id":"2","des_detail_name":"bbb","des_name":"xintest2","des_type":"23","effective":"1","id":363,"the_order":2},{"att_manage_id":35,"des_name":"zhangmx","des_type":"24","id":356},{"att_manage_id":36,"des_name":"是否必填测试","des_type":"25","id":357},{"att_manage_id":38,"des_name":"5553","des_type":"26","id":359},{"att_manage_id":39,"des_name":"54353","des_type":"27","id":360},{"att_manage_id":40,"des_name":"鹅鹅鹅饿饿","des_type":"28","id":361},{"att_manage_id":42,"des_name":"他婷婷婷婷","des_type":"29","id":365},{"des_name":"NodeList","des_type":"3","id":9999,"the_order":3},{"att_manage_id":43,"des_name":"xintest3","des_type":"30","id":366},{"att_manage_id":44,"des_name":"xintest477","des_type":"31","id":367},{"att_manage_id":45,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintes3","des_type":"32","effective":"1","id":394,"remark":"1","the_order":1},{"att_manage_id":46,"des_name":"xintest6","des_type":"33","id":369},{"att_manage_id":47,"des_detail_id":"1","des_detail_name":"aa","des_name":"张明霞","des_type":"34","effective":"1","id":374,"the_order":1},{"att_manage_id":48,"des_name":"yyyy","des_type":"35","id":372},{"att_manage_id":49,"des_name":"张明霞111111","des_type":"36","id":373},{"att_manage_id":50,"des_name":"店铺属性1","des_type":"37","id":375},{"att_manage_id":51,"des_detail_id":"2","des_detail_name":"test1店铺信息","des_name":"多选属性值","des_type":"38","effective":"1","id":405,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"1","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到","des_name":"多选属性值","des_type":"38","effective":"1","id":404,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"3","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到11","des_name":"多选属性值","des_type":"38","effective":"1","id":406,"remark":"22","the_order":22},{"att_manage_id":51,"des_detail_id":"4","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到22","des_name":"多选属性值","des_type":"38","effective":"1","id":407,"remark":"33","the_order":33},{"att_manage_id":52,"des_detail_id":"1","des_detail_name":"维护联系人属性","des_name":"联系人属性","des_type":"39","effective":"1","id":379,"remark":"11","the_order":11},{"att_manage_id":52,"des_detail_id":"2","des_detail_name":"维护联系人属性1","des_name":"联系人属性","des_type":"39","effective":"1","id":380,"remark":"22","the_order":22},{"att_manage_id":53,"des_name":"公司信息属性1","des_type":"40","id":381},{"att_manage_id":54,"des_detail_id":"1","des_detail_name":"属性值1","des_name":"公司信息属性2","des_type":"41","effective":"1","id":384,"remark":"1","the_order":1},{"att_manage_id":54,"des_detail_id":"2","des_detail_name":"属性2","des_name":"公司信息属性2","des_type":"41","effective":"1","id":385,"remark":"2","the_order":2},{"att_manage_id":55,"des_name":"属性输入","des_type":"42","id":386},{"att_manage_id":57,"des_name":"test1公司属性","des_type":"43","id":395},{"att_manage_id":58,"des_name":"test1公司属性2","des_type":"44","id":396},{"att_manage_id":59,"des_detail_id":"1","des_detail_name":"kuck","des_name":"联系人信息test1","des_type":"45","effective":"1","id":409,"remark":"aaa","the_order":2},{"att_manage_id":60,"des_name":"黄豆","des_type":"46","id":410},{"des_name":"NodeList","des_type":"5","id":9998,"the_order":5},{"des_name":"NodeList","des_type":"8","id":9997,"the_order":8},{"att_manage_id":56,"des_detail_id":"1","des_detail_name":"cem","des_name":"xintest7","des_type":"9","effective":"1","id":393,"remark":"1","the_order":1}]
DEBUG [2018-12-28 15:11:14,087] cn.ihdou.crm.common.dao.impl.AttributeDaoImpl - list:[{"des_detail_id":"1","des_detail_name":"中国联通","des_name":"合作运营商","des_type":"01","effective":"1","id":1,"the_order":1},{"des_detail_id":"2","des_detail_name":"中国移动","des_name":"合作运营商","des_type":"01","effective":"1","id":2,"the_order":2},{"des_detail_id":"3","des_detail_name":"中国电信","des_name":"合作运营商","des_type":"01","effective":"1","id":3,"the_order":3},{"des_detail_id":"4","des_detail_name":"无合作","des_name":"合作运营商","des_type":"01","effective":"1","id":4,"the_order":4},{"des_detail_id":"10","des_detail_name":"手机","des_name":"主营品类","des_type":"02","effective":"1","id":5,"the_order":1},{"des_detail_id":"20","des_detail_name":"平板","des_name":"主营品类","des_type":"02","effective":"1","id":6,"the_order":2},{"des_detail_id":"30","des_detail_name":"智能设备","des_name":"主营品类","des_type":"02","effective":"1","id":7,"the_order":3},{"des_detail_id":"40","des_detail_name":"手机配件","des_name":"主营品类","des_type":"02","effective":"1","id":8,"the_order":4},{"des_detail_id":"98","des_detail_name":"都涉及","des_name":"主营品类","des_type":"02","effective":"1","id":217,"the_order":98},{"des_detail_id":"99","des_detail_name":"其他","des_name":"主营品类","des_type":"02","effective":"1","id":218,"the_order":99},{"des_detail_id":"01","des_detail_name":"华为","des_name":"主营品牌","des_type":"03","effective":"1","id":9,"the_order":1},{"des_detail_id":"02","des_detail_name":"三星","des_name":"主营品牌","des_type":"03","effective":"1","id":10,"the_order":2},{"des_detail_id":"03","des_detail_name":"苹果","des_name":"主营品牌","des_type":"03","effective":"1","id":11,"the_order":3},{"des_detail_id":"04","des_detail_name":"小米","des_name":"主营品牌","des_type":"03","effective":"1","id":12,"the_order":4},{"des_detail_id":"05","des_detail_name":"酷派","des_name":"主营品牌","des_type":"03","effective":"1","id":13,"the_order":5},{"des_detail_id":"06","des_detail_name":"瓦戈","des_name":"主营品牌","des_type":"03","effective":"1","id":14,"the_order":6},{"des_detail_id":"07","des_detail_name":"oppo","des_name":"主营品牌","des_type":"03","effective":"1","id":219,"the_order":7},{"des_detail_id":"08","des_detail_name":"步步高","des_name":"主营品牌","des_type":"03","effective":"1","id":220,"the_order":8},{"des_detail_id":"09","des_detail_name":"魅族","des_name":"主营品牌","des_type":"03","effective":"1","id":221,"the_order":9},{"des_detail_id":"10","des_detail_name":"联想","des_name":"主营品牌","des_type":"03","effective":"1","id":222,"the_order":10},{"des_detail_id":"11","des_detail_name":"vivo","des_name":"主营品牌","des_type":"03","effective":"1","id":223,"the_order":11},{"des_detail_id":"12","des_detail_name":"金立","des_name":"主营品牌","des_type":"03","effective":"1","id":224,"the_order":12},{"des_detail_id":"13","des_detail_name":"中兴","des_name":"主营品牌","des_type":"03","effective":"1","id":225,"the_order":13},{"des_detail_id":"14","des_detail_name":"小辣椒","des_name":"主营品牌","des_type":"03","effective":"1","id":226,"the_order":14},{"des_detail_id":"15","des_detail_name":"诺基亚","des_name":"主营品牌","des_type":"03","effective":"1","id":227,"the_order":15},{"des_detail_id":"16","des_detail_name":"万利达","des_name":"主营品牌","des_type":"03","effective":"1","id":228,"the_order":16},{"des_detail_id":"17","des_detail_name":"康佳","des_name":"主营品牌","des_type":"03","effective":"1","id":229,"the_order":17},{"des_detail_id":"18","des_detail_name":"朵唯","des_name":"主营品牌","des_type":"03","effective":"1","id":230,"the_order":18},{"des_detail_id":"19","des_detail_name":"爱我","des_name":"主营品牌","des_type":"03","effective":"1","id":231,"the_order":19},{"des_detail_id":"20","des_detail_name":"长虹","des_name":"主营品牌","des_type":"03","effective":"1","id":232,"the_order":20},{"des_detail_id":"21","des_detail_name":"海信","des_name":"主营品牌","des_type":"03","effective":"1","id":233,"the_order":21},{"des_detail_id":"22","des_detail_name":"乐视","des_name":"主营品牌","des_type":"03","effective":"1","id":238,"the_order":22},{"des_detail_id":"23","des_detail_name":"中诺","des_name":"主营品牌","des_type":"03","effective":"1","id":239,"the_order":23},{"des_detail_id":"24","des_detail_name":"青橙","des_name":"主营品牌","des_type":"03","effective":"1","id":240,"the_order":24},{"des_detail_id":"25","des_detail_name":"努比亚","des_name":"主营品牌","des_type":"03","effective":"1","id":241,"the_order":25},{"des_detail_id":"26","des_detail_name":"TCL","des_name":"主营品牌","des_type":"03","effective":"1","id":242,"the_order":26},{"des_detail_id":"27","des_detail_name":"百利丰","des_name":"主营品牌","des_type":"03","effective":"1","id":243,"the_order":27},{"des_detail_id":"28","des_detail_name":"亿通","des_name":"主营品牌","des_type":"03","effective":"1","id":244,"the_order":28},{"des_detail_id":"29","des_detail_name":"波导","des_name":"主营品牌","des_type":"03","effective":"1","id":245,"the_order":29},{"des_detail_id":"30","des_detail_name":"优思","des_name":"主营品牌","des_type":"03","effective":"1","id":246,"the_order":30},{"des_detail_id":"01","des_detail_name":"黄豆E家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":15,"the_order":1},{"des_detail_id":"02","des_detail_name":"51订货网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":16,"the_order":2},{"des_detail_id":"03","des_detail_name":"易直供","des_name":"主要进货渠道","des_type":"04","effective":"1","id":17,"the_order":3},{"des_detail_id":"04","des_detail_name":"通讯市场","des_name":"主要进货渠道","des_type":"04","effective":"1","id":18,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"主要进货渠道","des_type":"04","effective":"1","id":19,"the_order":5},{"des_detail_id":"06","des_detail_name":"终端公司","des_name":"主要进货渠道","des_type":"04","effective":"1","id":234,"the_order":6},{"des_detail_id":"07","des_detail_name":"厂家","des_name":"主要进货渠道","des_type":"04","effective":"1","id":235,"the_order":7},{"des_detail_id":"08","des_detail_name":"天音通信","des_name":"主要进货渠道","des_type":"04","effective":"1","id":236,"the_order":8},{"des_detail_id":"09","des_detail_name":"爱施德","des_name":"主要进货渠道","des_type":"04","effective":"1","id":237,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆侠","des_name":"主要进货渠道","des_type":"04","effective":"1","id":247,"the_order":10},{"des_detail_id":"11","des_detail_name":"3G手机网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":248,"the_order":11},{"des_detail_id":"12","des_detail_name":"地包商","des_name":"主要进货渠道","des_type":"04","effective":"1","id":249,"the_order":12},{"des_detail_id":"13","des_detail_name":"1号机","des_name":"主要进货渠道","des_type":"04","effective":"1","id":250,"the_order":13},{"des_detail_id":"14","des_detail_name":"沃易购","des_name":"主要进货渠道","des_type":"04","effective":"1","id":251,"the_order":14},{"des_detail_id":"15","des_detail_name":"京东","des_name":"主要进货渠道","des_type":"04","effective":"1","id":252,"the_order":15},{"des_detail_id":"16","des_detail_name":"淘宝","des_name":"主要进货渠道","des_type":"04","effective":"1","id":253,"the_order":16},{"des_detail_id":"17","des_detail_name":"厂家官网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":254,"the_order":17},{"des_detail_id":"18","des_detail_name":"易道网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":255,"the_order":18},{"des_detail_id":"19","des_detail_name":"开店通","des_name":"主要进货渠道","des_type":"04","effective":"1","id":256,"the_order":19},{"des_detail_id":"20","des_detail_name":"九牛网","des_name":"主要进货渠道","des_type":"04","effective":"1","id":257,"the_order":20},{"des_detail_id":"11","des_detail_name":"黄豆E家","des_name":"合作网站","des_type":"05","effective":"1","id":20,"the_order":1},{"des_detail_id":"12","des_detail_name":"51订货网","des_name":"合作网站","des_type":"05","effective":"1","id":21,"the_order":2},{"des_detail_id":"13","des_detail_name":"易直供","des_name":"合作网站","des_type":"05","effective":"1","id":22,"the_order":3},{"des_detail_id":"14","des_detail_name":"淘宝","des_name":"合作网站","des_type":"05","effective":"1","id":23,"the_order":4},{"des_detail_id":"15","des_detail_name":"其他","des_name":"合作网站","des_type":"05","effective":"1","id":24,"the_order":5},{"des_detail_id":"01","des_detail_name":"学校","des_name":"周边环境","des_type":"06","effective":"1","id":25,"the_order":1},{"des_detail_id":"02","des_detail_name":"商场","des_name":"周边环境","des_type":"06","effective":"1","id":26,"the_order":2},{"des_detail_id":"03","des_detail_name":"政府机构","des_name":"周边环境","des_type":"06","effective":"1","id":27,"the_order":3},{"des_detail_id":"04","des_detail_name":"公园","des_name":"周边环境","des_type":"06","effective":"1","id":28,"the_order":4},{"des_detail_id":"05","des_detail_name":"其他","des_name":"周边环境","des_type":"06","effective":"1","id":29,"the_order":5},{"des_detail_id":"01","des_detail_name":"S","des_name":"公司规模性质","des_type":"07","effective":"1","id":30,"the_order":1},{"des_detail_id":"02","des_detail_name":"A","des_name":"公司规模性质","des_type":"07","effective":"1","id":31,"the_order":2},{"des_detail_id":"03","des_detail_name":"B","des_name":"公司规模性质","des_type":"07","effective":"1","id":32,"the_order":3},{"des_detail_id":"04","des_detail_name":"C","des_name":"公司规模性质","des_type":"07","effective":"1","id":33,"the_order":4},{"des_detail_id":"05","des_detail_name":"D","des_name":"公司规模性质","des_type":"07","effective":"1","id":34,"the_order":5},{"des_detail_id":"01","des_detail_name":"法人","des_name":"岗位","des_type":"08","effective":"1","id":35,"the_order":1},{"des_detail_id":"02","des_detail_name":"采购负责人","des_name":"岗位","des_type":"08","effective":"1","id":36,"the_order":2},{"des_detail_id":"03","des_detail_name":"销售负责人","des_name":"岗位","des_type":"08","effective":"1","id":37,"the_order":3},{"des_detail_id":"04","des_detail_name":"店长","des_name":"岗位","des_type":"08","effective":"1","id":38,"the_order":4},{"des_detail_id":"01","des_detail_name":"黄豆E家WEB","des_name":"注册来源","des_type":"09","effective":"1","id":39,"the_order":1},{"des_detail_id":"02","des_detail_name":"NC","des_name":"注册来源","des_type":"09","effective":"1","id":40,"the_order":2},{"des_detail_id":"03","des_detail_name":"黄豆侠WEB","des_name":"注册来源","des_type":"09","effective":"1","id":41,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆侠微信","des_name":"注册来源","des_type":"09","effective":"1","id":42,"the_order":4},{"des_detail_id":"05","des_detail_name":"黄豆侠APP","des_name":"注册来源","des_type":"09","effective":"1","id":43,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠WAP","des_name":"注册来源","des_type":"09","effective":"1","id":44,"the_order":6},{"des_detail_id":"07","des_detail_name":"黄豆E家微信","des_name":"注册来源","des_type":"09","effective":"1","id":45,"the_order":7},{"des_detail_id":"08","des_detail_name":"黄豆E家APP","des_name":"注册来源","des_type":"09","effective":"1","id":46,"the_order":8},{"des_detail_id":"09","des_detail_name":"黄豆E家QQ营销","des_name":"注册来源","des_type":"09","effective":"1","id":47,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"注册来源","des_type":"09","effective":"1","id":48,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"注册来源","des_type":"09","effective":"1","id":49,"the_order":11},{"des_detail_id":"13","des_detail_name":"黄豆优推","des_name":"注册来源","des_type":"09","effective":"1","id":273,"the_order":13},{"des_detail_id":"12","des_detail_name":"代理人","des_name":"注册来源","des_type":"09","id":10000},{"des_detail_id":"01","des_detail_name":"直供大客户 ","des_name":"买家类别","des_type":"10","effective":"1","id":50,"the_order":1},{"des_detail_id":"02","des_detail_name":"区域规模客户","des_name":"买家类别","des_type":"10","effective":"1","id":51,"the_order":2},{"des_detail_id":"03","des_detail_name":"零售终端客户","des_name":"买家类别","des_type":"10","effective":"1","id":52,"the_order":3},{"des_detail_id":"04","des_detail_name":"县平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":53,"the_order":4},{"des_detail_id":"05","des_detail_name":"省平台客户","des_name":"买家类别","des_type":"10","effective":"1","id":54,"the_order":5},{"des_detail_id":"06","des_detail_name":"黄豆侠平台供应商客户","des_name":"买家类别","des_type":"10","effective":"1","id":258,"the_order":6},{"des_detail_id":"99","des_detail_name":"未分配","des_name":"买家类别","des_type":"10","effective":"1","id":55,"the_order":99},{"des_detail_id":"01","des_detail_name":"天音通信","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":56,"the_order":1},{"des_detail_id":"02","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":57,"the_order":2},{"des_detail_id":"03","des_detail_name":"厂家供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":58,"the_order":3},{"des_detail_id":"04","des_detail_name":"国代商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":59,"the_order":4},{"des_detail_id":"05","des_detail_name":"国代分公司","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":60,"the_order":5},{"des_detail_id":"06","des_detail_name":"省包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":61,"the_order":6},{"des_detail_id":"07","des_detail_name":"地包商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":62,"the_order":7},{"des_detail_id":"08","des_detail_name":"通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":63,"the_order":8},{"des_detail_id":"09","des_detail_name":"联通平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":64,"the_order":9},{"des_detail_id":"10","des_detail_name":"联通平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":65,"the_order":10},{"des_detail_id":"11","des_detail_name":"移动平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":66,"the_order":11},{"des_detail_id":"12","des_detail_name":"移动平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":67,"the_order":12},{"des_detail_id":"13","des_detail_name":"电信平台省包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":68,"the_order":13},{"des_detail_id":"14","des_detail_name":"电信平台地包","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":69,"the_order":14},{"des_detail_id":"16","des_detail_name":"旧模式县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":70,"the_order":16},{"des_detail_id":"17","des_detail_name":"自采自营（入sap）","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":259,"the_order":17},{"des_detail_id":"18","des_detail_name":"旧模式省级通讯市场","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":260,"the_order":18},{"des_detail_id":"19","des_detail_name":"省平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":261,"the_order":19},{"des_detail_id":"20","des_detail_name":"县平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":262,"the_order":20},{"des_detail_id":"21","des_detail_name":"苹果配件销售平台平台","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":263,"the_order":21},{"des_detail_id":"22","des_detail_name":"黄豆侠平台供应商","des_name":"黄豆E家供应商","des_type":"11","effective":"1","id":264,"the_order":22},{"des_detail_id":"1","des_detail_name":"黄豆E家WEB","des_name":"登录来源","des_type":"12","effective":"1","id":71,"the_order":1},{"des_detail_id":"2","des_detail_name":"黄豆侠WEB","des_name":"登录来源","des_type":"12","effective":"1","id":72,"the_order":2},{"des_detail_id":"4","des_detail_name":"黄豆侠微信","des_name":"登录来源","des_type":"12","effective":"1","id":73,"the_order":4},{"des_detail_id":"5","des_detail_name":"黄豆侠APP","des_name":"登录来源","des_type":"12","effective":"1","id":74,"the_order":5},{"des_detail_id":"6","des_detail_name":"黄豆侠WAP","des_name":"登录来源","des_type":"12","effective":"1","id":75,"the_order":6},{"des_detail_id":"7","des_detail_name":"黄豆E家微信","des_name":"登录来源","des_type":"12","effective":"1","id":76,"the_order":7},{"des_detail_id":"8","des_detail_name":"黄豆E家APP","des_name":"登录来源","des_type":"12","effective":"1","id":77,"the_order":8},{"des_detail_id":"9","des_detail_name":"黄豆E家QQ营销","des_name":"登录来源","des_type":"12","effective":"1","id":78,"the_order":9},{"des_detail_id":"10","des_detail_name":"黄豆E家WAP","des_name":"登录来源","des_type":"12","effective":"1","id":79,"the_order":10},{"des_detail_id":"11","des_detail_name":"苹果配件销售平台","des_name":"登录来源","des_type":"12","effective":"1","id":80,"the_order":11},{"att_manage_id":5,"des_detail_id":"1","des_detail_name":"属性1","des_name":"测试属性3","des_type":"13","effective":"1","id":201,"the_order":1},{"att_manage_id":5,"des_detail_id":"3","des_detail_name":"属性值1","des_name":"测试属性3","des_type":"13","effective":"1","id":203,"the_order":1},{"att_manage_id":5,"des_detail_id":"11","des_detail_name":"aa","des_name":"测试属性3","des_type":"13","effective":"1","id":212,"the_order":1},{"att_manage_id":5,"des_detail_id":"2","des_detail_name":"属性3","des_name":"测试属性3","des_type":"13","effective":"1","id":202,"the_order":2},{"att_manage_id":5,"des_detail_id":"4","des_detail_name":"属性值2","des_name":"测试属性3","des_type":"13","effective":"1","id":204,"the_order":2},{"att_manage_id":5,"des_detail_id":"5","des_detail_name":"属性值3","des_name":"测试属性3","des_type":"13","effective":"1","id":205,"the_order":3},{"att_manage_id":5,"des_detail_id":"6","des_detail_name":"属性值4","des_name":"测试属性3","des_type":"13","effective":"1","id":206,"the_order":4},{"att_manage_id":5,"des_detail_id":"7","des_detail_name":"属性值5","des_name":"测试属性3","des_type":"13","effective":"1","id":207,"the_order":5},{"att_manage_id":5,"des_detail_id":"8","des_detail_name":"属性值6","des_name":"测试属性3","des_type":"13","effective":"1","id":208,"the_order":6},{"att_manage_id":5,"des_detail_id":"9","des_detail_name":"a","des_name":"测试属性3","des_type":"13","effective":"1","id":209},{"att_manage_id":5,"des_detail_id":"10","des_detail_name":"b","des_name":"测试属性3","des_type":"13","effective":"1","id":210},{"att_manage_id":6,"des_name":"fff","des_type":"14","id":211},{"att_manage_id":9,"des_name":"县平台物流","des_type":"17","id":216},{"des_detail_id":"1","des_detail_name":"注册会员","des_name":"会员等级","des_type":"18","id":265,"the_order":1},{"des_detail_id":"2","des_detail_name":"普通会员","des_name":"会员等级","des_type":"18","id":266,"the_order":2},{"des_detail_id":"3","des_detail_name":"铜牌会员","des_name":"会员等级","des_type":"18","id":267,"the_order":3},{"des_detail_id":"4","des_detail_name":"银牌会员","des_name":"会员等级","des_type":"18","id":268,"the_order":4},{"des_detail_id":"5","des_detail_name":"金牌会员","des_name":"会员等级","des_type":"18","id":269,"the_order":5},{"des_detail_id":"6","des_detail_name":"钻石会员","des_name":"会员等级","des_type":"18","id":270,"the_order":6},{"des_detail_id":"01","des_detail_name":"新黄豆侠","des_name":"应用网站","des_type":"19","id":271,"the_order":1},{"des_detail_id":"01","des_detail_name":"后台规则","des_name":"规则发起方","des_type":"20","id":272,"the_order":1},{"des_detail_id":"01","des_detail_name":"CRM后台","des_name":"标签指定渠道","des_type":"21","id":10001,"the_order":1},{"des_detail_id":"02","des_detail_name":"小能IM","des_name":"标签指定渠道","des_type":"21","id":10002,"the_order":2},{"des_detail_id":"03","des_detail_name":"系统自动","des_name":"标签指定渠道","des_type":"21","id":10003,"the_order":3},{"des_detail_id":"04","des_detail_name":"黄豆优服APP","des_name":"标签指定渠道","des_type":"21","effective":"1","id":666,"the_order":4},{"att_manage_id":34,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintest2","des_type":"23","effective":"1","id":362,"the_order":1},{"att_manage_id":34,"des_detail_id":"2","des_detail_name":"bbb","des_name":"xintest2","des_type":"23","effective":"1","id":363,"the_order":2},{"att_manage_id":35,"des_name":"zhangmx","des_type":"24","id":356},{"att_manage_id":36,"des_name":"是否必填测试","des_type":"25","id":357},{"att_manage_id":38,"des_name":"5553","des_type":"26","id":359},{"att_manage_id":39,"des_name":"54353","des_type":"27","id":360},{"att_manage_id":40,"des_name":"鹅鹅鹅饿饿","des_type":"28","id":361},{"att_manage_id":42,"des_name":"他婷婷婷婷","des_type":"29","id":365},{"des_name":"NodeList","des_type":"3","id":9999,"the_order":3},{"att_manage_id":43,"des_name":"xintest3","des_type":"30","id":366},{"att_manage_id":44,"des_name":"xintest477","des_type":"31","id":367},{"att_manage_id":45,"des_detail_id":"1","des_detail_name":"aaa","des_name":"xintes3","des_type":"32","effective":"1","id":394,"remark":"1","the_order":1},{"att_manage_id":46,"des_name":"xintest6","des_type":"33","id":369},{"att_manage_id":47,"des_detail_id":"1","des_detail_name":"aa","des_name":"张明霞","des_type":"34","effective":"1","id":374,"the_order":1},{"att_manage_id":48,"des_name":"yyyy","des_type":"35","id":372},{"att_manage_id":49,"des_name":"张明霞111111","des_type":"36","id":373},{"att_manage_id":50,"des_name":"店铺属性1","des_type":"37","id":375},{"att_manage_id":51,"des_detail_id":"2","des_detail_name":"test1店铺信息","des_name":"多选属性值","des_type":"38","effective":"1","id":405,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"1","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到","des_name":"多选属性值","des_type":"38","effective":"1","id":404,"remark":"11","the_order":11},{"att_manage_id":51,"des_detail_id":"3","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到11","des_name":"多选属性值","des_type":"38","effective":"1","id":406,"remark":"22","the_order":22},{"att_manage_id":51,"des_detail_id":"4","des_detail_name":"属性值张明霞尝尝 常常常常长达发送到22","des_name":"多选属性值","des_type":"38","effective":"1","id":407,"remark":"33","the_order":33},{"att_manage_id":52,"des_detail_id":"1","des_detail_name":"维护联系人属性","des_name":"联系人属性","des_type":"39","effective":"1","id":379,"remark":"11","the_order":11},{"att_manage_id":52,"des_detail_id":"2","des_detail_name":"维护联系人属性1","des_name":"联系人属性","des_type":"39","effective":"1","id":380,"remark":"22","the_order":22},{"att_manage_id":53,"des_name":"公司信息属性1","des_type":"40","id":381},{"att_manage_id":54,"des_detail_id":"1","des_detail_name":"属性值1","des_name":"公司信息属性2","des_type":"41","effective":"1","id":384,"remark":"1","the_order":1},{"att_manage_id":54,"des_detail_id":"2","des_detail_name":"属性2","des_name":"公司信息属性2","des_type":"41","effective":"1","id":385,"remark":"2","the_order":2},{"att_manage_id":55,"des_name":"属性输入","des_type":"42","id":386},{"att_manage_id":57,"des_name":"test1公司属性","des_type":"43","id":395},{"att_manage_id":58,"des_name":"test1公司属性2","des_type":"44","id":396},{"att_manage_id":59,"des_detail_id":"1","des_detail_name":"kuck","des_name":"联系人信息test1","des_type":"45","effective":"1","id":409,"remark":"aaa","the_order":2},{"att_manage_id":60,"des_name":"黄豆","des_type":"46","id":410},{"des_name":"NodeList","des_type":"5","id":9998,"the_order":5},{"des_name":"NodeList","des_type":"8","id":9997,"the_order":8},{"att_manage_id":56,"des_detail_id":"1","des_detail_name":"cem","des_name":"xintest7","des_type":"9","effective":"1","id":393,"remark":"1","the_order":1}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.ContactsInfoApiServiceImpl - ContactsInfoApiServiceImpl listContactsInfoByPage end.
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - List<SelectVo> : [[{"key":"01","value":"黄豆E家WEB"},{"key":"02","value":"NC"},{"key":"03","value":"黄豆侠WEB"},{"key":"04","value":"黄豆侠微信"},{"key":"05","value":"黄豆侠APP"},{"key":"06","value":"黄豆侠WAP"},{"key":"07","value":"黄豆E家微信"},{"key":"08","value":"黄豆E家APP"},{"key":"09","value":"黄豆E家QQ营销"},{"key":"10","value":"黄豆E家WAP"},{"key":"11","value":"苹果配件销售平台"},{"key":"13","value":"黄豆优推"},{"key":"12","value":"代理人"}]]
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - AttributeManageController getAttribute end...
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.ContactsInfoApiServiceImpl - ContactsInfoApiServiceImpl listContactsInfoByPage end.
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - List<SelectVo> : [[{"key":"01","value":"直供大客户 "},{"key":"02","value":"区域规模客户"},{"key":"03","value":"零售终端客户"},{"key":"04","value":"县平台客户"},{"key":"05","value":"省平台客户"},{"key":"06","value":"黄豆侠平台供应商客户"},{"key":"99","value":"未分配"}]]
INFO : com.ihdou.api.member.controller.crm.common.AttributeManageController - AttributeManageController getAttribute end...
DEBUG [2018-12-28 15:11:14,410] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数count:241175
DEBUG [2018-12-28 15:11:15,214] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 客户列表list:[{"addTime":"2018-12-28 10:37:50","agentName":"技术-朱守德","area_text":"香港,香港特别行政区,香港市区内","buyerId":410572,"buyerSource":"03","buyer_type":"06","countyId":3722,"loginTime":"2018.12.27 19:59:46","pri_mobile":"13581732736","registerFrom":"自然流量","shopName":"信测试公司1","userId":289448,"userName":"信测试供应商"},{"addTime":"2018-12-10 11:25:40","agentName":"丁川川","area_text":"河北,石家庄市,正定县,正定镇","buyerId":410571,"buyerSource":"05","buyer_type":"03","countyId":1034,"loginTime":"2018.12.19 17:50:37","registerFrom":"自然流量","shopName":"华鑫通讯","userId":289412,"userName":"华鑫通讯"},{"addTime":"2018-12-04 17:31:34","area_text":"北京,北京市,朝阳区,朝外街道办事处","buyerId":410569,"buyerSource":"12","buyer_type":"03","countyId":8,"pri_mobile":"17731630390","registerFrom":"自然流量","shopName":"ceshi-1","userId":289403,"userName":"ceshi-1"},{"addTime":"2018-12-04 17:27:39","area_text":"北京,北京市,朝阳区,朝外街道办事处","buyerId":410567,"buyerSource":"12","buyer_type":"03","countyId":8,"registerFrom":"自然流量","shopName":"拜访执行邮件","userId":289402,"userName":"拜访执行邮件"},{"addTime":"2018-12-04 13:38:21","area_text":"河北,唐山市,迁西县","buyerId":410565,"buyerSource":"12","buyer_type":"03","countyId":1166,"pri_mobile":"13810111190","registerFrom":"自然流量","shopName":"静涛科技数码","userId":289395,"userName":"静涛科技数码"},{"addTime":"2018-12-04 12:01:25","area_text":"河北,唐山市,迁西县","buyerId":410563,"buyerSource":"12","buyer_type":"03","countyId":1166,"pri_mobile":"13810111197","registerFrom":"自然流量","shopName":"亿通科技","userId":289394,"userName":"亿通科技"},{"addTime":"2018-12-04 12:00:22","area_text":"河北,唐山市,迁西县","buyerId":410561,"buyerSource":"12","buyer_type":"03","countyId":1166,"loginTime":"2018.12.12 15:57:04","pri_mobile":"13810111173","registerFrom":"自然流量","shopName":"天越数码","userId":289393,"userName":"天越数码"},{"addTime":"2018-12-04 11:59:06","area_text":"河北,唐山市,迁西县","buyerId":410559,"buyerSource":"12","buyer_type":"03","countyId":1166,"pri_mobile":"13810111174","registerFrom":"自然流量","shopName":"钱星腾达","userId":289392,"userName":"钱星腾达"},{"addTime":"2018-12-03 17:27:01","agentName":"技术-朱守德","area_text":"香港,香港特别行政区,香港市区内","buyerId":410557,"buyerSource":"12","buyer_type":"03","countyId":3722,"loginTime":"2018.12.19 15:05:40","orderTime":"2018.12.04 14:38:07","pri_mobile":"15801446300","registerFrom":"自然流量","shopName":"测试地址","userId":289382,"userName":"测试地址"},{"addTime":"2018-11-30 18:08:14","agentName":"wangjian","area_text":"河北,石家庄市,石家庄高新区","buyerId":410556,"buyerSource":"05","buyer_type":"03","countyId":1058,"loginTime":"2018.12.19 10:57:10","pri_mobile":"16601048376","registerFrom":"自然流量","shopName":"北京黄豆通讯","userId":289372,"userName":"北京黄豆小子"}]
INFO  [2018-12-28 15:11:15,214] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页详情：{"list":[{"addTime":"2018-12-28 10:37:50","agentName":"技术-朱守德","area_text":"香港,香港特别行政区,香港市区内","buyerId":410572,"buyerSource":"03","buyer_type":"06","countyId":3722,"loginTime":"2018.12.27 19:59:46","pri_mobile":"13581732736","registerFrom":"自然流量","shopName":"信测试公司1","userId":289448,"userName":"信测试供应商"},{"addTime":"2018-12-10 11:25:40","agentName":"丁川川","area_text":"河北,石家庄市,正定县,正定镇","buyerId":410571,"buyerSource":"05","buyer_type":"03","countyId":1034,"loginTime":"2018.12.19 17:50:37","registerFrom":"自然流量","shopName":"华鑫通讯","userId":289412,"userName":"华鑫通讯"},{"addTime":"2018-12-04 17:31:34","area_text":"北京,北京市,朝阳区,朝外街道办事处","buyerId":410569,"buyerSource":"12","buyer_type":"03","countyId":8,"pri_mobile":"17731630390","registerFrom":"自然流量","shopName":"ceshi-1","userId":289403,"userName":"ceshi-1"},{"addTime":"2018-12-04 17:27:39","area_text":"北京,北京市,朝阳区,朝外街道办事处","buyerId":410567,"buyerSource":"12","buyer_type":"03","countyId":8,"registerFrom":"自然流量","shopName":"拜访执行邮件","userId":289402,"userName":"拜访执行邮件"},{"addTime":"2018-12-04 13:38:21","area_text":"河北,唐山市,迁西县","buyerId":410565,"buyerSource":"12","buyer_type":"03","countyId":1166,"pri_mobile":"13810111190","registerFrom":"自然流量","shopName":"静涛科技数码","userId":289395,"userName":"静涛科技数码"},{"addTime":"2018-12-04 12:01:25","area_text":"河北,唐山市,迁西县","buyerId":410563,"buyerSource":"12","buyer_type":"03","countyId":1166,"pri_mobile":"13810111197","registerFrom":"自然流量","shopName":"亿通科技","userId":289394,"userName":"亿通科技"},{"addTime":"2018-12-04 12:00:22","area_text":"河北,唐山市,迁西县","buyerId":410561,"buyerSource":"12","buyer_type":"03","countyId":1166,"loginTime":"2018.12.12 15:57:04","pri_mobile":"13810111173","registerFrom":"自然流量","shopName":"天越数码","userId":289393,"userName":"天越数码"},{"addTime":"2018-12-04 11:59:06","area_text":"河北,唐山市,迁西县","buyerId":410559,"buyerSource":"12","buyer_type":"03","countyId":1166,"pri_mobile":"13810111174","registerFrom":"自然流量","shopName":"钱星腾达","userId":289392,"userName":"钱星腾达"},{"addTime":"2018-12-03 17:27:01","agentName":"技术-朱守德","area_text":"香港,香港特别行政区,香港市区内","buyerId":410557,"buyerSource":"12","buyer_type":"03","countyId":3722,"loginTime":"2018.12.19 15:05:40","orderTime":"2018.12.04 14:38:07","pri_mobile":"15801446300","registerFrom":"自然流量","shopName":"测试地址","userId":289382,"userName":"测试地址"},{"addTime":"2018-11-30 18:08:14","agentName":"wangjian","area_text":"河北,石家庄市,石家庄高新区","buyerId":410556,"buyerSource":"05","buyer_type":"03","countyId":1058,"loginTime":"2018.12.19 10:57:10","pri_mobile":"16601048376","registerFrom":"自然流量","shopName":"北京黄豆通讯","userId":289372,"userName":"北京黄豆小子"}],"totalCount":241175}
INFO  [2018-12-28 15:11:15,214] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - WorkOrderManageController getWorkOrderFlowForPage END...
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - validCaptchaCode end.
INFO  [2018-12-28 15:11:15,994] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:11:16,496] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:11:16,497] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:11:20,485] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:11:22,130] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:11:22,632] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:11:22,633] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/buyerInformation/list
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - BuyerInforController getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - vo:{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"北京客户1","start_date":"","userName":""}
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInformationServiceImpl listBuyerInfoForPage START...
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - vo:[{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"北京客户1","start_date":"","userName":""}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync begin.
INFO  [2018-12-28 15:11:23,696] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync begin.
INFO  [2018-12-28 15:11:23,696] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 客户列表搜索筛选项BuyerInformationConditionVo：{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"isAdmin":"1","loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"北京客户1","start_date":"","userName":""}
INFO  [2018-12-28 15:11:23,697] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页信息pageVo:{"centerPage":0,"endPage":0,"inLastPageInteral":false,"lastPage":0,"messageForPage":10,"nextPage":0,"pageEndCount":0,"pageInterval":0,"pageIntervalNow":0,"pageNow":1,"pageStartCount":0,"startPage":0,"totalCount":0,"totalPage":0}
INFO  [2018-12-28 15:11:23,697] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数:select count(*) from ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  and b.shopname like '%北京客户1%'  order by addtime desc ) 
INFO  [2018-12-28 15:11:23,697] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录: SELECT * FROM (SELECT ROWNUM row_, t.* FROM ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  and b.shopname like '%北京客户1%'  order by addtime desc ) t ) WHERE row_ <=10 AND row_ >=1
INFO  [2018-12-28 15:11:23,805] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:11:23,905] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数count:1
DEBUG [2018-12-28 15:11:24,068] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 客户列表list:[{"addTime":"2018-04-02 12:27:45","area_text":"北京,北京市,朝阳区,朝外街道办事处","buyerId":410137,"buyerSource":"12","buyer_type":"03","countyId":8,"loginTime":"2018.11.15 18:28:16","pri_mobile":"18810000000","registerFrom":"自然流量","shopName":"北京客户1","userId":288961,"userName":"北京客户1"}]
INFO  [2018-12-28 15:11:24,072] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页详情：{"list":[{"addTime":"2018-04-02 12:27:45","area_text":"北京,北京市,朝阳区,朝外街道办事处","buyerId":410137,"buyerSource":"12","buyer_type":"03","countyId":8,"loginTime":"2018.11.15 18:28:16","pri_mobile":"18810000000","registerFrom":"自然流量","shopName":"北京客户1","userId":288961,"userName":"北京客户1"}],"totalCount":1}
INFO  [2018-12-28 15:11:24,073] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - WorkOrderManageController getWorkOrderFlowForPage END...
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - validCaptchaCode end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:11:28,362] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5523][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:11804<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5523 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5523 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5523 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5523 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5523 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5523 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5523 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5523 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5523 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5523 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 << "Date: Fri, 28 Dec 2018 07:11:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 << "26[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5523 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5523 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5523 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5523 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5523 << Date: Fri, 28 Dec 2018 07:11:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5523 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5523 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5523][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5523][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5523: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5523: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:11:28,864] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:11:28,864] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:11:30,492] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:11:34,478] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:11:34,980] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:11:34,980] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:11:38,016  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:11:40,493] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:11:40,695] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:11:41,197] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:11:41,197] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:11:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:11:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:11:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:11:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:11:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:11:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:11:46,620] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:11:46,623] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:11:46,811] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:11:47,314] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:11:47,314] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:11:50,501] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:11:53,026] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:11:53,529] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:11:53,529] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:11:53,815] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5524][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:17534<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5524 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5524 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5524 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5524 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5524 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5524 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5524 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5524 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5524 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5524 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 << "Date: Fri, 28 Dec 2018 07:11:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 << "26[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5524 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5524 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5524 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5524 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5524 << Date: Fri, 28 Dec 2018 07:11:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5524 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5524 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5524][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5524][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5524: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5524: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:11:59,160] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:11:59,533] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:11:59,535] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:11:59,662] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:11:59,663] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:12:00,511] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:12:05,376] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:12:05,879] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:12:05,879] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:12:05,964] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:12:08,027  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:12:10,521] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:12:11,591] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:12:12,093] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:12:12,094] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:12:17,804] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:12:18,306] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:12:18,307] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:12:20,527] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:12:23,835] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:12:24,043] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:12:24,546] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:12:24,546] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5525][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:23260<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5525 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5525 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5525 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5525 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5525 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5525 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5525 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5525 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5525 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5525 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 << "Date: Fri, 28 Dec 2018 07:12:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 << "26[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5525 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5525 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5525 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5525 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5525 << Date: Fri, 28 Dec 2018 07:12:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5525 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5525 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5525][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5525][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5525: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5525: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:12:30,262] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:12:30,534] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:12:30,765] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:12:30,765] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:12:36,577] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:12:37,079] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:12:37,079] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:12:38,038  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:12:40,545] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:12:42,792] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:12:43,295] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:12:43,295] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:12:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:12:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:12:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:12:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:12:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:12:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:12:46,623] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:12:46,626] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:12:49,010] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:12:49,512] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:12:49,512] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:12:50,555] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:12:53,845] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:12:55,222] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:12:55,724] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:12:55,724] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5526][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:28990<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5526 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5526 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5526 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5526 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5526 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5526 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5526 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5526 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5526 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5526 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 << "Date: Fri, 28 Dec 2018 07:12:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5526 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5526 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5526 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5526 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5526 << Date: Fri, 28 Dec 2018 07:12:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5526 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5526 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5526][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5526][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5526: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5526: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:12:59,536] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:12:59,538] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:13:00,563] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:13:01,545] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:13:02,047] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:13:02,048] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:13:05,965] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO  [2018-12-28 15:13:07,763] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
2018-12-28 15:13:08,049  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:13:08,265] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:13:08,265] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/buyerInformation/list
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - BuyerInforController getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - vo:{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"北京客户4","start_date":"","userName":""}
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInformationServiceImpl listBuyerInfoForPage START...
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - vo:[{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"北京客户4","start_date":"","userName":""}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync begin.
INFO  [2018-12-28 15:13:08,498] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync begin.
INFO  [2018-12-28 15:13:08,498] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 客户列表搜索筛选项BuyerInformationConditionVo：{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"isAdmin":"1","loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"北京客户4","start_date":"","userName":""}
INFO  [2018-12-28 15:13:08,498] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页信息pageVo:{"centerPage":0,"endPage":0,"inLastPageInteral":false,"lastPage":0,"messageForPage":10,"nextPage":0,"pageEndCount":0,"pageInterval":0,"pageIntervalNow":0,"pageNow":1,"pageStartCount":0,"startPage":0,"totalCount":0,"totalPage":0}
INFO  [2018-12-28 15:13:08,499] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数:select count(*) from ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  and b.shopname like '%北京客户4%'  order by addtime desc ) 
INFO  [2018-12-28 15:13:08,499] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录: SELECT * FROM (SELECT ROWNUM row_, t.* FROM ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  and b.shopname like '%北京客户4%'  order by addtime desc ) t ) WHERE row_ <=10 AND row_ >=1
DEBUG [2018-12-28 15:13:08,730] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数count:1
DEBUG [2018-12-28 15:13:08,870] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 客户列表list:[{"addTime":"2018-04-08 15:10:42","agentName":"拥聪","area_text":"安徽,安庆市,桐城市,范岗镇","buyerId":410142,"buyerSource":"12","buyer_type":"03","countyId":168,"loginTime":"2018.12.26 17:32:34","orderTime":"2018.12.12 15:34:06","pri_mobile":"18800000001","registerFrom":"自然流量","shopName":"北京客户4","userId":288972,"userName":"北京客户4"}]
INFO  [2018-12-28 15:13:08,871] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页详情：{"list":[{"addTime":"2018-04-08 15:10:42","agentName":"拥聪","area_text":"安徽,安庆市,桐城市,范岗镇","buyerId":410142,"buyerSource":"12","buyer_type":"03","countyId":168,"loginTime":"2018.12.26 17:32:34","orderTime":"2018.12.12 15:34:06","pri_mobile":"18800000001","registerFrom":"自然流量","shopName":"北京客户4","userId":288972,"userName":"北京客户4"}],"totalCount":1}
INFO  [2018-12-28 15:13:08,871] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - WorkOrderManageController getWorkOrderFlowForPage END...
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - validCaptchaCode end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:13:10,574] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:13:13,975] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:13:14,478] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:13:14,478] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:13:20,290] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:13:20,583] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:13:20,792] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:13:20,793] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:13:23,855] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:13:26,574] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:13:27,076] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:13:27,077] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5527][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:34716<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5527 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5527 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5527 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5527 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5527 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5527 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5527 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5527 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5527 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5527 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 << "Date: Fri, 28 Dec 2018 07:13:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 << "{"code":200,"msg":null,"content":null}"
DEBUG: org.apache.http.headers - http-outgoing-5527 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5527 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5527 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5527 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5527 << Date: Fri, 28 Dec 2018 07:13:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5527 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5527 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5527][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5527][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5527: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5527: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:13:30,594] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:13:32,796] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:13:33,298] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:13:33,299] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/buyerInformation/list
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - BuyerInforController getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - vo:{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"yuuko123","start_date":"","userName":""}
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInformationServiceImpl listBuyerInfoForPage START...
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - vo:[{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"yuuko123","start_date":"","userName":""}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync begin.
INFO  [2018-12-28 15:13:33,812] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync begin.
INFO  [2018-12-28 15:13:33,812] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 客户列表搜索筛选项BuyerInformationConditionVo：{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"isAdmin":"1","loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"yuuko123","start_date":"","userName":""}
INFO  [2018-12-28 15:13:33,812] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页信息pageVo:{"centerPage":0,"endPage":0,"inLastPageInteral":false,"lastPage":0,"messageForPage":10,"nextPage":0,"pageEndCount":0,"pageInterval":0,"pageIntervalNow":0,"pageNow":1,"pageStartCount":0,"startPage":0,"totalCount":0,"totalPage":0}
INFO  [2018-12-28 15:13:33,813] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数:select count(*) from ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  and b.shopname like '%yuuko123%'  order by addtime desc ) 
INFO  [2018-12-28 15:13:33,813] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录: SELECT * FROM (SELECT ROWNUM row_, t.* FROM ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  and b.shopname like '%yuuko123%'  order by addtime desc ) t ) WHERE row_ <=10 AND row_ >=1
DEBUG [2018-12-28 15:13:34,005] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数count:1
DEBUG [2018-12-28 15:13:34,013] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 客户列表list:[{"addTime":"2018-10-24 15:57:24","agentName":"张明霞","area_text":"香港,香港特别行政区,油尖旺","buyerId":410547,"buyerSource":"05","buyer_type":"03","countyId":629275,"loginTime":"2018.12.27 14:15:53","orderTime":"2018.12.27 14:58:36","pri_mobile":"18871716276","registerFrom":"自然流量","shopName":"yuuko123","userId":289341,"userName":"yuuko123"}]
INFO  [2018-12-28 15:13:34,013] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页详情：{"list":[{"addTime":"2018-10-24 15:57:24","agentName":"张明霞","area_text":"香港,香港特别行政区,油尖旺","buyerId":410547,"buyerSource":"05","buyer_type":"03","countyId":629275,"loginTime":"2018.12.27 14:15:53","orderTime":"2018.12.27 14:58:36","pri_mobile":"18871716276","registerFrom":"自然流量","shopName":"yuuko123","userId":289341,"userName":"yuuko123"}],"totalCount":1}
INFO  [2018-12-28 15:13:34,013] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - WorkOrderManageController getWorkOrderFlowForPage END...
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - validCaptchaCode end.
2018-12-28 15:13:38,060  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:13:39,010] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:13:39,512] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:13:39,512] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:13:40,600] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 2018-12-28 15:13:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:13:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:13:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:13:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:13:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:13:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:13:45,327] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:13:45,829] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:13:45,830] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:13:46,626] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:13:46,629] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:13:50,609] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:13:51,543] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:13:52,046] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:13:52,046] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:13:53,865] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:13:57,761] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:13:58,263] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:13:58,263] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5528][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:40438<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5528 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5528 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5528 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5528 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5528 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5528 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5528 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5528 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5528 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5528 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 << "Date: Fri, 28 Dec 2018 07:13:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5528 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5528 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5528 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5528 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5528 << Date: Fri, 28 Dec 2018 07:13:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5528 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5528 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5528][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5528][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5528: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5528: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:13:59,538] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:13:59,541] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:14:00,615] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:14:03,978] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:14:04,480] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:14:04,480] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:14:05,965] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:14:08,070  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:14:10,293] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:14:10,623] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:14:10,795] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:14:10,795] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:14:16,508] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:14:17,011] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:14:17,011] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:14:20,630] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:14:22,723] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:14:23,226] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:14:23,226] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:14:23,875] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5529][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:46154<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5529 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5529 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5529 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5529 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5529 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5529 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5529 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5529 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5529 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5529 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 << "Date: Fri, 28 Dec 2018 07:14:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5529 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5529 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5529 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5529 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5529 << Date: Fri, 28 Dec 2018 07:14:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5529 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5529 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5529][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5529][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5529: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5529: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:14:29,039] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:14:29,541] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:14:29,541] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:14:30,640] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:14:35,253] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:14:35,755] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:14:35,756] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:14:38,081  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:14:40,649] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:14:41,469] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:14:41,971] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:14:41,971] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:14:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:14:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:14:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:14:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:14:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:14:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:14:46,629] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:14:46,632] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:14:47,683] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:14:48,185] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:14:48,185] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:14:50,653] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:14:53,886] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:14:54,012] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:14:54,514] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:14:54,514] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5530][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:51878<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5530 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5530 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5530 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5530 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5530 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5530 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5530 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5530 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5530 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5530 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 << "Date: Fri, 28 Dec 2018 07:14:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5530 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5530 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5530 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5530 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5530 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5530 << Date: Fri, 28 Dec 2018 07:14:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5530][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5530][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5530: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5530: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:14:59,541] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:14:59,543] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:15:00,254] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:15:00,663] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:15:00,756] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:15:00,756] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:15:05,972] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO  [2018-12-28 15:15:06,466] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:15:06,969] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:15:06,969] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:15:08,091  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:15:10,671] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:15:12,683] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:15:13,185] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:15:13,186] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:15:18,996] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:15:19,498] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:15:19,499] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:15:20,680] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:15:23,896] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:15:25,226] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:15:25,728] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:15:25,728] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/buyerInformation/list
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - BuyerInforController getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - vo:{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"香港零售终端","start_date":"","userName":""}
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInformationServiceImpl listBuyerInfoForPage START...
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - vo:[{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"香港零售终端","start_date":"","userName":""}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync begin.
INFO  [2018-12-28 15:15:28,541] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync begin.
INFO  [2018-12-28 15:15:28,542] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 客户列表搜索筛选项BuyerInformationConditionVo：{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"isAdmin":"1","loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"香港零售终端","start_date":"","userName":""}
INFO  [2018-12-28 15:15:28,542] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页信息pageVo:{"centerPage":0,"endPage":0,"inLastPageInteral":false,"lastPage":0,"messageForPage":10,"nextPage":0,"pageEndCount":0,"pageInterval":0,"pageIntervalNow":0,"pageNow":1,"pageStartCount":0,"startPage":0,"totalCount":0,"totalPage":0}
INFO  [2018-12-28 15:15:28,542] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数:select count(*) from ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  and b.shopname like '%香港零售终端%'  order by addtime desc ) 
INFO  [2018-12-28 15:15:28,542] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录: SELECT * FROM (SELECT ROWNUM row_, t.* FROM ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  and b.shopname like '%香港零售终端%'  order by addtime desc ) t ) WHERE row_ <=10 AND row_ >=1
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5531][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:57590<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5531 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5531 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5531 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5531 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5531 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5531 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5531 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5531 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5531 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5531 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 << "Date: Fri, 28 Dec 2018 07:15:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 << "26[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5531 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5531 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5531 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5531 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5531 << Date: Fri, 28 Dec 2018 07:15:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5531 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5531 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5531][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5531][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5531: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5531: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:15:28,745] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数count:2
DEBUG [2018-12-28 15:15:28,754] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 客户列表list:[{"addTime":"2016-07-18 21:04:10","area_text":"宁夏,银南地区,中宁县","buyerId":376385,"buyerSource":"05","buyer_type":"03","countyId":3584,"loginTime":"2018.10.31 18:40:59","orderTime":"2016.08.02 16:27:16","pri_mobile":"*****","registerFrom":"自然流量","shopName":"香港零售终端3","userId":259808,"userName":"香港零售终端3"},{"addTime":"2015-10-28 16:52:13","agentName":"技术-朱守德","area_text":"香港,香港特别行政区,香港市区内","buyerId":342917,"buyerSource":"03","buyer_type":"03","countyId":3722,"loginTime":"2018.12.27 19:37:30","orderTime":"2018.12.27 14:25:47","pri_mobile":"18510232300","registerFrom":"自然流量","shopName":"香港零售终端","userId":225821,"userName":"香港零售终端"}]
INFO  [2018-12-28 15:15:28,754] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页详情：{"list":[{"addTime":"2016-07-18 21:04:10","area_text":"宁夏,银南地区,中宁县","buyerId":376385,"buyerSource":"05","buyer_type":"03","countyId":3584,"loginTime":"2018.10.31 18:40:59","orderTime":"2016.08.02 16:27:16","pri_mobile":"*****","registerFrom":"自然流量","shopName":"香港零售终端3","userId":259808,"userName":"香港零售终端3"},{"addTime":"2015-10-28 16:52:13","agentName":"技术-朱守德","area_text":"香港,香港特别行政区,香港市区内","buyerId":342917,"buyerSource":"03","buyer_type":"03","countyId":3722,"loginTime":"2018.12.27 19:37:30","orderTime":"2018.12.27 14:25:47","pri_mobile":"18510232300","registerFrom":"自然流量","shopName":"香港零售终端","userId":225821,"userName":"香港零售终端"}],"totalCount":2}
INFO  [2018-12-28 15:15:28,754] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - WorkOrderManageController getWorkOrderFlowForPage END...
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - validCaptchaCode end.
DEBUG [2018-12-28 15:15:30,688] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:15:31,460] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:15:31,963] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:15:31,963] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:15:37,674] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
2018-12-28 15:15:38,102  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:15:38,177] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:15:38,177] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:15:40,698] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:15:44,036] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:15:44,539] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:15:44,539] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:15:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:15:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:15:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:15:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:15:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:15:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:15:46,632] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:15:46,634] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:15:50,251] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:15:50,706] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:15:50,753] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:15:50,753] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:15:53,907] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:15:56,465] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:15:56,968] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:15:56,968] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5532][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:63310<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5532 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5532 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5532 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5532 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5532 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5532 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5532 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5532 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5532 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5532 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 << "Date: Fri, 28 Dec 2018 07:15:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5532 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5532 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5532 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5532 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5532 << Date: Fri, 28 Dec 2018 07:15:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5532 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5532 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5532][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5532][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5532: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5532: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:15:59,543] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:15:59,546] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:16:00,716] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:16:02,696] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:16:03,198] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:16:03,199] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:16:05,973] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:16:08,111  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:16:09,045] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:16:09,548] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:16:09,548] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:16:10,726] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:16:15,329] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:16:15,832] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:16:15,832] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:16:20,731] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:16:21,558] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:16:22,061] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:16:22,061] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:16:23,919] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:16:27,925] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:16:28,427] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:16:28,427] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5533][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:9031<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5533 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5533 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5533 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5533 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5533 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5533 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5533 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5533 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5533 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5533 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 << "Date: Fri, 28 Dec 2018 07:16:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5533 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5533 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5533 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5533 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5533 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5533 << Date: Fri, 28 Dec 2018 07:16:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5533][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5533][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5533: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5533: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:16:30,738] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:16:34,145] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:16:34,647] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:16:34,648] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:16:38,121  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:16:40,360] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:16:40,749] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:16:40,863] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:16:40,863] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:16:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:16:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:16:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:16:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:16:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:16:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:16:46,611] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:16:46,634] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:16:46,637] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:16:47,113] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:16:47,114] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:16:50,757] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:16:52,928] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:16:53,430] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:16:53,431] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:16:53,951] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
2018-12-28 15:16:55,847  INFO [DubboServerHandler-192.168.102.37:20200-thread-40] (MtCartServiceImpl.java:113) - 调用加入购物车服务开始！{"active_id":"0","customer_user_id":"239034","num":1,"order_type":"01","source_url":"http://test7.ihdou.com/IHDouMall/frontbuyer/productmodel/detail/54500.html?couponSingleId=&type=","supply_area_id":"1501308","supply_id":"13981"}
2018-12-28 15:16:55,849  INFO [DubboServerHandler-192.168.102.37:20200-thread-40] (MtCartServiceImpl.java:122) - 获得产品信息开始！supply_area_id=1501308
2018-12-28 15:16:55,850 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-40] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name, si.id shopid, s.user_id userid, s.deliver_type, s.supply_type,si.shop_logo, s.province_id,s.supply_level,s.goods_type,s.city_id from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' where s.supply_status = '02' and s.del_flag = '1' ) select sa0.id supply_area_id, s.id supply_id, s.userid supply_userid,s.supply_name, s.shopid, s.deliver_type ,s.supply_type, s.province_id,s.city_id ,s.supply_level,s.goods_type, sa0.onshelftime add_time, sa0.priceretailonline product_price, pm.productname product_name,pm.productid product_id,pp.picturepath1,pp.picturepath2,pp.picturepath3,pp.picturepath4,pp.picturepath5,pp.mobile_img,pp.mobile_img1,pp.mobile_img2,pp.mobile_img3,pp.mobile_img4,pp.mobile_img5 ,sa0.aftersale,sa0.gifts,sa0.supplyproductid shop_product_id,sa0.pk_stordoc,sa0.is_contain_invoice,sa0.status, sa0.SALETYPE, sa0.IS_LIMITED isLimited, sa0.LIMITED_NUM limitedNum ,sa0.overplusnumber stock, pm.color,ul.sellerlevel,s.shop_logo,pb.brandname product_brand,pmo.modelname product_model,ps.sort_type sortType from supply_area0 sa0 inner join shop_product sp on sp.id = sa0.supplyproductid and sa0.isvalid = '01' and sa0.del_flag = '1' and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' inner join supplies s on s.id = sp.supplyid left join user_level ul on ul.userid = s.userid left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid left join product_brand pb on pb.brandid=pm.brandid left join product_model pmo on pm.productpattern=pmo.modelid left join product_sort ps on pm.sortid = ps.sortid where sa0.id = ? 
2018-12-28 15:16:55,851 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-40] (BaseJdbcLogger.java:139) - ==> Parameters: 1501308(BigDecimal)
2018-12-28 15:16:55,859 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-40] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:16:55,860  INFO [DubboServerHandler-192.168.102.37:20200-thread-40] (MtCartServiceImpl.java:124) - 获得产品信息结束！{"add_time":1487232117000,"city_id":"3721","color":"蓝色","deliver_type":"06","gifts":" ","goods_type":"2","is_contain_invoice":"0","mobile_img":"//product/20160406140130_1459922490554_l.jpg","mobile_img1":"//product/20160406140130_1459922490554_d.jpg","mobile_img2":"//product/20160406140130_1459922490570_d.jpg","mobile_img3":"//product/20160406140130_1459922490585_d.jpg","picturepath1":"/product/20160406140130_1459922490554.jpg","picturepath2":"/product/20160406140130_1459922490570.jpg","picturepath3":"/product/20160406140130_1459922490585.jpg","product_brand":"360","product_id":54500,"product_model":"F4高配版","product_name":"360 F4高配版 32G 蓝色 移动4G 原装","product_price":1.02,"province_id":"3586","saleType":"4","sellerlevel":0,"shop_product_id":500731,"sortType":"1","status":"1","stock":950,"supply_area_id":1501308,"supply_id":13981,"supply_level":"02","supply_name":"尟cN846228","supply_type":"22","supply_userid":259800}
2018-12-28 15:16:55,861 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-40] (BaseJdbcLogger.java:139) - ==>  Preparing: with seller as (select ts.id,ts.userid from tempsaler ts where ts.status='00' union all select s.id,s.user_id userid from supply s where s.del_flag='1' and s.supply_status='02') select su.userid from supply_area0 sa inner join shop_product sp on sa.supplyproductid=sp.id inner join seller su on su.id=sp.supplyid where sa.id = ? 
2018-12-28 15:16:55,863 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-40] (BaseJdbcLogger.java:139) - ==> Parameters: 1501308(BigDecimal)
2018-12-28 15:16:55,864 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-40] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:16:55,865 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-40] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name,s.deliver_type from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' where s.supply_status = '02' and s.del_flag = '1' union all select ts.id,ts.shopname supply_name,'04' deliver_type from tempsaler ts where ts.status = '00') select ca.id,ca.customer_id, cd.id cartDetailId,cd.supply_id,s.supply_name,s.deliver_type, cd.supply_area_id,sa0.supplyproductid shop_product_id, pp.picturepath1,pm.productid product_id,pm.productname product_name, cd.product_num,sa0.priceretailonline product_price,sa0.overplusnumber,sa0.aftersale,sa0.pk_stordoc, cd.order_type,cd.active_id from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supplies s on s.id = cd.supply_id inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid where ca.customer_id = ? 
2018-12-28 15:16:55,867 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-40] (BaseJdbcLogger.java:139) - ==> Parameters: 239034(String)
2018-12-28 15:16:55,882 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-40] (BaseJdbcLogger.java:139) - <==      Total: 3
2018-12-28 15:16:55,883  INFO [DubboServerHandler-192.168.102.37:20200-thread-40] (MtCartServiceImpl.java:209) - 查询该用户的购物车信息为：{"id":307694,"lstCartDetail":[{"active_id":0,"cart_id":307694,"deliver_type":"04","id":1165946,"maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/G71081395361200597.jpg","product_id":24284,"product_name":"三星 \tG7108 黑色 移动版","product_num":1,"product_price":609,"shopCartDetailId":1165946,"shop_product_id":200589,"stock":518,"supply_area_id":452869,"supply_id":10953,"supply_name":"屩yS541942"},{"active_id":0,"cart_id":307694,"deliver_type":"04","id":1163312,"maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/20160617094842723_722.jpg","product_id":24924,"product_name":"三星 9308I 黑色","product_num":1,"product_price":202,"shopCartDetailId":1163312,"shop_product_id":200584,"stock":4552,"supply_area_id":452864,"supply_id":10953,"supply_name":"屩yS541942"},{"active_id":0,"cart_id":307694,"deliver_type":"06","id":1623725,"maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/20160406140130_1459922490554.jpg","product_id":54500,"product_name":"360 F4高配版 32G 蓝色 移动4G 原装","product_num":3,"product_price":1.02,"shopCartDetailId":1623725,"shop_product_id":500731,"stock":950,"supply_area_id":1501308,"supply_id":13981,"supply_name":"尟cN846228"}],"userid":239034}
2018-12-28 15:16:55,883  INFO [DubboServerHandler-192.168.102.37:20200-thread-40] (MtCartServiceImpl.java:228) - 该产品已经存在于购物车，直接修改购物车数量!{"active_id":0,"cart_id":307694,"deliver_type":"06","id":1623725,"maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/20160406140130_1459922490554.jpg","product_id":54500,"product_name":"360 F4高配版 32G 蓝色 移动4G 原装","product_num":3,"product_price":1.02,"shopCartDetailId":1623725,"shop_product_id":500731,"stock":950,"supply_area_id":1501308,"supply_id":13981,"supply_name":"尟cN846228"}
2018-12-28 15:16:55,884 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-40] (BaseJdbcLogger.java:139) - ==>  Preparing: update ihd_cart_detail cd set cd.product_num = ?, cd.update_date=sysdate, cd.update_user=cd.customer_id where cd.id = ? 
2018-12-28 15:16:55,886 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-40] (BaseJdbcLogger.java:139) - ==> Parameters: 4(Integer), 1623725(String)
2018-12-28 15:16:56,034 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-40] (BaseJdbcLogger.java:139) - <==    Updates: 1
2018-12-28 15:16:56,039  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (MtCartQueryServiceImpl.java:76) - 查询买家的购物车明细信息开始！(已经按照供应商分组)customer_user_id=239034
2018-12-28 15:16:56,041 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name,s.deliver_type,s.supply_type,s.user_id supply_user_id, s.alias,s.province_id, s.city_id, s.area_id,ai.areaname province_name from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' left join areainfo ai on s.province_id = ai.areaid where s.supply_status = '02' and s.del_flag = '1' ) select ca.id,ca.customer_id, cd.id cartDetailId,cd.supply_id,s.supply_name,s.deliver_type,s.supply_type,s.supply_user_id,s.alias,s.province_id, s.city_id, s.area_id,s.province_name, cd.supply_area_id,sa0.supplyproductid shop_product_id,pp.picturepath1,pm.productid product_id,pm.productname product_name, cd.product_num,sa0.priceretailonline product_price,sa0.overplusnumber,sa0.is_contain_invoice, sa0.SALETYPE, sa0.IS_LIMITED, sa0.LIMITED_NUM, cd.order_type,cd.active_id,sa0.gifts,sa0.aftersale,sa0.pk_stordoc from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supplies s on s.id = cd.supply_id inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid where ca.customer_id = ? order by cd.id desc 
2018-12-28 15:16:56,043 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - ==> Parameters: 239034(String)
2018-12-28 15:16:56,055 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - <==      Total: 3
2018-12-28 15:16:56,056  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (MtCartQueryServiceImpl.java:78) - 查询买家的购物车明细信息结束！(已经按照供应商分组)[{"alias":"香港特别行政区仓","area_id":629274,"city_id":3721,"deliver_type":"06","id":307694,"lstCartDetail":[{"active_id":0,"cart_id":307694,"deliver_type":"06","gifts":" ","id":1623725,"is_contain_invoice":"0","maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/20160406140130_1459922490554.jpg","product_id":54500,"product_name":"360 F4高配版 32G 蓝色 移动4G 原装","product_num":4,"product_price":1.02,"saleType":"4","shopCartDetailId":1623725,"shop_product_id":500731,"stock":950,"supply_area_id":1501308,"supply_id":13981,"supply_name":"尟cN846228","supply_user_id":259800}],"province_id":3586,"province_name":"香港","supply_id":13981,"supply_name":"尟cN846228","supply_type":"22","userid":239034},{"alias":"本地供货商","area_id":3722,"city_id":3721,"deliver_type":"04","id":307694,"lstCartDetail":[{"active_id":0,"cart_id":307694,"deliver_type":"04","gifts":"无","id":1165946,"is_contain_invoice":"0","maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/G71081395361200597.jpg","product_id":24284,"product_name":"三星 \tG7108 黑色 移动版","product_num":1,"product_price":609,"saleType":"2","shopCartDetailId":1165946,"shop_product_id":200589,"stock":518,"supply_area_id":452869,"supply_id":10953,"supply_name":"屩yS541942","supply_user_id":225809},{"active_id":0,"cart_id":307694,"deliver_type":"04","gifts":"手机膜","id":1163312,"is_contain_invoice":"0","maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/20160617094842723_722.jpg","product_id":24924,"product_name":"三星 9308I 黑色","product_num":1,"product_price":202,"saleType":"2","shopCartDetailId":1163312,"shop_product_id":200584,"stock":4552,"supply_area_id":452864,"supply_id":10953,"supply_name":"屩yS541942","supply_user_id":225809}],"province_id":3586,"province_name":"香港","supply_id":10953,"supply_name":"屩yS541942","supply_type":"20","userid":239034}]
2018-12-28 15:16:56,057 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name, si.id shopid, s.user_id userid, s.deliver_type, s.supply_type,si.shop_logo, s.province_id,s.supply_level,s.goods_type,s.city_id from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' where s.supply_status = '02' and s.del_flag = '1' ) select sa0.id supply_area_id, s.id supply_id, s.userid supply_userid,s.supply_name, s.shopid, s.deliver_type ,s.supply_type, s.province_id,s.city_id ,s.supply_level,s.goods_type, sa0.onshelftime add_time, sa0.priceretailonline product_price, pm.productname product_name,pm.productid product_id,pp.picturepath1,pp.picturepath2,pp.picturepath3,pp.picturepath4,pp.picturepath5,pp.mobile_img,pp.mobile_img1,pp.mobile_img2,pp.mobile_img3,pp.mobile_img4,pp.mobile_img5 ,sa0.aftersale,sa0.gifts,sa0.supplyproductid shop_product_id,sa0.pk_stordoc,sa0.is_contain_invoice,sa0.status, sa0.SALETYPE, sa0.IS_LIMITED isLimited, sa0.LIMITED_NUM limitedNum ,sa0.overplusnumber stock, pm.color,ul.sellerlevel,s.shop_logo,pb.brandname product_brand,pmo.modelname product_model,ps.sort_type sortType from supply_area0 sa0 inner join shop_product sp on sp.id = sa0.supplyproductid and sa0.isvalid = '01' and sa0.del_flag = '1' and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' inner join supplies s on s.id = sp.supplyid left join user_level ul on ul.userid = s.userid left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid left join product_brand pb on pb.brandid=pm.brandid left join product_model pmo on pm.productpattern=pmo.modelid left join product_sort ps on pm.sortid = ps.sortid where sa0.id = ? 
2018-12-28 15:16:56,057 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - ==> Parameters: 1501308(BigDecimal)
2018-12-28 15:16:56,063 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:16:56,064  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (MtCartQueryServiceImpl.java:107) - 卖家或者买家所在区域参与佣金减免活动开始参数customer_user_id=239034supply_id=%s13981,product_id=%s54500,product_price=%s1.02
2018-12-28 15:16:56,064  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:104) - 商品价格重新定义开始参数userid:"239034",spplyuserid:"13981",productid:"54500",product_price:1.02
2018-12-28 15:16:56,066  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:106) - 查询卖家信息开始参数[13981]
2018-12-28 15:16:56,066  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (SupplyDaoImpl.java:42) - 根据供应商id获得供应商信息[SELECT * FROM SUPPLY WHERE ID = '13981' AND DEL_FLAG = '1']
2018-12-28 15:16:56,071  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:108) - 查询卖家信息的结果是:[{"add_date":"2016-07-18 19:22:11","add_user":"259800","area_id":629274,"city_id":3721,"corp_code":"130225199201282947","corpcard_pic":"/supply/information/20160718194554168_118.jpg,/supply/information/20160718194559973_955.jpg","corporation":"赵嘉敏","deliver_type":"06","goods_type":"2","id":13981,"license_pic":"/supply/information/20160718194606090_877.jpg","manage_mode":"01","name":"尟cN846228","organ_pic":"/supply/information/20160718194614586_937.jpg","pri_mobile":"130514*****","pri_name":"赵嘉敏","province_id":3586,"regcode":"6554645","sales_mode":"01","supply_addr":"韩国结婚都是","supply_level":"02","supply_status":"02","supply_type":"22","tax_pic":"/supply/information/20160718194610578_494.jpg","taxcode":"46546","update_date":"2018-08-24 14:04:44","update_user":"254014","user_id":259800}]
2018-12-28 15:16:56,071  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:119) - 查询买家信息开始参数[239034]
2018-12-28 15:16:56,076  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:121) - 查询买家信息结果是:[{"addtime":"2016-01-07 15:44:43","approvetime":"2016-03-24 21:59:12","approveuser":150,"areaid":3722,"buyer_type":"03","buyerid":356044,"buyersource":"03","buyerstatus":"02","city":3721,"companyname":"岝HV201323","county":3722,"customer_code":"239034","delflag":"1","ismultiples":"1","mobile":"17746528729","pri_mobile":"177465*****","province":3586,"shopname":"zhengshitest","shortcompanyname":"zhengshitest","telephone":"17746528729","userid":239034}]
2018-12-28 15:16:56,077 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - ==>  Preparing: SELECT * from PRODUCT_MAIN pm where pm.PRODUCTID = ? 
2018-12-28 15:16:56,078 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - ==> Parameters: 54500(BigDecimal)
2018-12-28 15:16:56,080 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:16:56,081  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:138) - 调用基准规则接口查询供应商基准规则,参数为:[[{"productId":"54500","supplyId":"13981"}]]
2018-12-28 15:16:56,096  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:140) - 调用基准规则接口查询供应商基准规则,结果为[[{"isExistRule":"01","itemId":"54500","minMoney":10,"priceType":"01","productId":54500,"pubTime":"2018-12-27 11:29:00","ruleId":"e82bf8c981e4431ca05bff270fadf047","ruleKey":"01_05_04_02_13981_54500","ruleStatus":"02","ruleType":"05","ruleWay":"04","salesMode":"01","supplyId":13981}]]
2018-12-28 15:16:56,097  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:148) - 查出基准规则判断其规则类型入参[{"isExistRule":"01","itemId":"54500","minMoney":10,"priceType":"01","productId":54500,"pubTime":"2018-12-27 11:29:00","ruleId":"e82bf8c981e4431ca05bff270fadf047","ruleKey":"01_05_04_02_13981_54500","ruleStatus":"02","ruleType":"05","ruleWay":"04","salesMode":"01","supplyId":13981}]
2018-12-28 15:16:56,097  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:178) - 查询基准规则计算出基准加价/佣金结果[10]
2018-12-28 15:16:56,097  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:241) - 查询加价佣金活动开始，参数[areaid ="3722",supplyId ="13981",lastArea =true]
2018-12-28 15:16:56,105  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:243) - 查询加价佣金活动结束，结果[[]]
2018-12-28 15:16:56,106  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:181) - 商品最终销售价格加价为[{extra=10, discount=1}]
2018-12-28 15:16:56,106  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (MtCartQueryServiceImpl.java:120) - 卖家或者买家所在区域参与佣金减免活动结束，此时商品价格:price=11.02
2018-12-28 15:16:56,107 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name, si.id shopid, s.user_id userid, s.deliver_type, s.supply_type,si.shop_logo, s.province_id,s.supply_level,s.goods_type,s.city_id from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' where s.supply_status = '02' and s.del_flag = '1' ) select sa0.id supply_area_id, s.id supply_id, s.userid supply_userid,s.supply_name, s.shopid, s.deliver_type ,s.supply_type, s.province_id,s.city_id ,s.supply_level,s.goods_type, sa0.onshelftime add_time, sa0.priceretailonline product_price, pm.productname product_name,pm.productid product_id,pp.picturepath1,pp.picturepath2,pp.picturepath3,pp.picturepath4,pp.picturepath5,pp.mobile_img,pp.mobile_img1,pp.mobile_img2,pp.mobile_img3,pp.mobile_img4,pp.mobile_img5 ,sa0.aftersale,sa0.gifts,sa0.supplyproductid shop_product_id,sa0.pk_stordoc,sa0.is_contain_invoice,sa0.status, sa0.SALETYPE, sa0.IS_LIMITED isLimited, sa0.LIMITED_NUM limitedNum ,sa0.overplusnumber stock, pm.color,ul.sellerlevel,s.shop_logo,pb.brandname product_brand,pmo.modelname product_model,ps.sort_type sortType from supply_area0 sa0 inner join shop_product sp on sp.id = sa0.supplyproductid and sa0.isvalid = '01' and sa0.del_flag = '1' and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' inner join supplies s on s.id = sp.supplyid left join user_level ul on ul.userid = s.userid left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid left join product_brand pb on pb.brandid=pm.brandid left join product_model pmo on pm.productpattern=pmo.modelid left join product_sort ps on pm.sortid = ps.sortid where sa0.id = ? 
2018-12-28 15:16:56,107 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - ==> Parameters: 452869(BigDecimal)
2018-12-28 15:16:56,113 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:16:56,113  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (MtCartQueryServiceImpl.java:107) - 卖家或者买家所在区域参与佣金减免活动开始参数customer_user_id=239034supply_id=%s10953,product_id=%s24284,product_price=%s609
2018-12-28 15:16:56,114  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:104) - 商品价格重新定义开始参数userid:"239034",spplyuserid:"10953",productid:"24284",product_price:609
2018-12-28 15:16:56,114  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:106) - 查询卖家信息开始参数[10953]
2018-12-28 15:16:56,114  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (SupplyDaoImpl.java:42) - 根据供应商id获得供应商信息[SELECT * FROM SUPPLY WHERE ID = '10953' AND DEL_FLAG = '1']
2018-12-28 15:16:56,116  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:108) - 查询卖家信息的结果是:[{"add_date":"2015-10-28 16:06:42","add_user":"225809","area_id":3722,"city_id":3721,"corp_code":"130225199201282947","corpcard_pic":"/supply/information/20160718195740153_445.jpg,/supply/information/20160718195742799_602.jpg","corporation":"赵嘉敏","deliver_type":"04","goods_type":"4","id":10953,"license_pic":"/supply/information/20160718195745286_428.jpg","manage_mode":"01","name":"屩yS541942","organ_pic":"/supply/information/20160718195750535_513.jpg","pri_mobile":"136212*****","pri_name":"赵嘉敏","province_id":3586,"regcode":"123456","sales_mode":"01","supply_addr":"测试路","supply_status":"02","supply_type":"20","tax_pic":"/supply/information/20160718195748110_247.jpg","taxcode":"123456","update_date":"2016-07-18 19:59:36","update_user":"254014","user_id":225809}]
2018-12-28 15:16:56,117  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:119) - 查询买家信息开始参数[239034]
2018-12-28 15:16:56,120  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:121) - 查询买家信息结果是:[{"addtime":"2016-01-07 15:44:43","approvetime":"2016-03-24 21:59:12","approveuser":150,"areaid":3722,"buyer_type":"03","buyerid":356044,"buyersource":"03","buyerstatus":"02","city":3721,"companyname":"岝HV201323","county":3722,"customer_code":"239034","delflag":"1","ismultiples":"1","mobile":"17746528729","pri_mobile":"177465*****","province":3586,"shopname":"zhengshitest","shortcompanyname":"zhengshitest","telephone":"17746528729","userid":239034}]
2018-12-28 15:16:56,120 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - ==>  Preparing: SELECT * from PRODUCT_MAIN pm where pm.PRODUCTID = ? 
2018-12-28 15:16:56,121 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - ==> Parameters: 24284(BigDecimal)
2018-12-28 15:16:56,123 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-41] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:16:56,123  INFO [DubboServerHandler-192.168.102.37:20200-thread-41] (OrderQueryServiceImpl.java:138) - 调用基准规则接口查询供应商基准规则,参数为:[[{"productId":"24284","supplyId":"10953"}]]
2018-12-28 15:16:56,139 ERROR [DubboServerHandler-192.168.102.37:20200-thread-41] (ExceptionFilter.java:87) -  [DUBBO] Got unchecked and undeclared exception which called by 192.168.102.37. service: cn.ihdou.oms.cart.service.IMtCartQueryService, method: queryTLCartByUserIdGroupBySupply, exception: java.lang.NullPointerException: null, dubbo version: 2.5.3, current host: 192.168.102.37
java.lang.NullPointerException
	at com.ihdou.pricerule.service.impl.PriceRuleQueryServiceImpl.getPriceRuleDetailInfo(PriceRuleQueryServiceImpl.java:178)
	at com.ihdou.pricerule.service.impl.PriceRuleQueryServiceImpl.getPriceRuleLs(PriceRuleQueryServiceImpl.java:162)
	at com.alibaba.dubbo.common.bytecode.Wrapper32.invokeMethod(Wrapper32.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:60)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:112)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:108)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:84)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:82)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:722)
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5534][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:14755<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5534 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5534 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5534 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5534 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5534 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5534 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5534 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5534 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5534 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5534 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 << "Date: Fri, 28 Dec 2018 07:16:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5534 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5534 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5534 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5534 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5534 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5534 << Date: Fri, 28 Dec 2018 07:16:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5534][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5534][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5534: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5534: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:16:59,160] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:16:59,546] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:16:59,548] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:16:59,663] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:16:59,663] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:17:00,767] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:17:05,477] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
ERROR [2018-12-28 15:17:05,973] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO  [2018-12-28 15:17:05,979] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:17:05,979] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:17:08,130  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:17:10,777] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:17:11,891] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:17:12,393] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:17:12,393] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:17:18,211] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:17:18,713] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:17:18,714] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:17:20,782] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:17:23,960] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:17:24,558] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:17:25,061] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:17:25,061] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5535][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:20477<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5535 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5535 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5535 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5535 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5535 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5535 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5535 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5535 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5535 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5535 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 << "Date: Fri, 28 Dec 2018 07:17:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5535 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5535 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5535 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5535 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5535 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5535 << Date: Fri, 28 Dec 2018 07:17:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5535][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5535][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5535: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5535: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:17:30,791] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:17:30,958] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:17:31,460] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:17:31,460] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:17:37,275] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:17:37,778] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:17:37,778] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:17:38,141  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:17:40,800] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:17:43,628] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:17:44,130] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:17:44,130] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:17:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:17:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:17:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:17:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:17:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:17:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:17:46,637] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:17:46,639] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:17:49,944] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:17:50,446] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:17:50,446] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:17:50,807] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:17:53,970] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:17:56,262] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:17:56,764] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:17:56,764] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5536][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:26197<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5536 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5536 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5536 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5536 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5536 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5536 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5536 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5536 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5536 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5536 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 << "Date: Fri, 28 Dec 2018 07:17:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5536 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5536 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5536 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5536 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5536 << Date: Fri, 28 Dec 2018 07:17:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5536 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5536 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5536][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5536][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5536: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5536: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:17:59,548] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:17:59,551] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:18:00,816] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:18:02,596] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:18:03,099] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:18:03,099] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:18:05,974] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:18:08,150  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:18:08,909] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:18:09,411] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:18:09,411] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:18:10,826] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:18:15,224] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:18:15,726] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:18:15,727] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:18:20,836] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:18:21,552] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:18:22,054] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:18:22,054] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:18:23,980] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:18:27,911] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:18:28,413] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:18:28,413] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5537][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:31919<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5537 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5537 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5537 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5537 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5537 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5537 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5537 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5537 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5537 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5537 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 << "Date: Fri, 28 Dec 2018 07:18:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5537 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5537 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5537 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5537 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5537 << Date: Fri, 28 Dec 2018 07:18:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5537 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5537 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5537][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5537][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5537: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5537: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:18:30,844] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:18:34,224] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:18:34,726] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:18:34,727] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:18:38,161  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:18:40,540] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:18:40,847] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:18:41,042] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:18:41,042] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:18:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:18:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:18:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:18:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:18:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:18:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:18:46,639] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:18:46,642] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:18:46,879] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:18:47,381] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:18:47,382] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:18:50,857] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:18:53,190] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:18:53,693] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:18:53,693] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:18:53,990] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5538][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:37641<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5538 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5538 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5538 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5538 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5538 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5538 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5538 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5538 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5538 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5538 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 << "Date: Fri, 28 Dec 2018 07:18:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 << "26[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5538 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5538 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5538 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5538 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5538 << Date: Fri, 28 Dec 2018 07:18:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5538 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5538 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5538][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5538][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5538: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5538: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:18:59,529] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:18:59,551] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:18:59,557] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:19:00,031] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:19:00,031] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:19:00,859] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:19:05,845] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
ERROR [2018-12-28 15:19:05,975] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO  [2018-12-28 15:19:06,347] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:19:06,347] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:19:08,170  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:19:10,870] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:19:12,159] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:19:12,661] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:19:12,662] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:19:18,519] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:19:19,021] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:19:19,022] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:19:20,234] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:19:20,234] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:19:20,241] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230616","custype":"3","shopName":"尒XO580736","type":"3","typeText":"待拜访","userName":"苹果专卖test"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"安徽蚌埠市固镇县","conProvince":"安徽","consCounty":"固镇县","cusUserId":"245177","custype":"3","latitude":"33.316899","longitude":"117.316955","shopName":"ym15955265526","type":"3","typeText":"待拜访","userName":"ym15955265526"},{"conAddress":"安徽合肥市长丰县庄墓镇","conProvince":"安徽","consCounty":"长丰县","consTown":"庄墓镇","cusUserId":"289249","custype":"3","latitude":"39.91577419704861","longitude":"116.4370703125","shopName":"1134","type":"3","typeText":"待拜访","userName":"1134"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"}]
INFO  [2018-12-28 15:19:20,241] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:19:20,244] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[{"conAddress":"北京北京市海淀区永定路街道办事处专营店","conProvince":"北京","consCounty":"海淀区","consTown":"永定路街道办事处","cusUserId":"7034540e971c4f2095fdd945135c6b42","custype":"2","latitude":"39.91575","longitude":"116.436964","shopName":"bbbbb无坐标","type":"3","typeText":"待拜访"},{"conAddress":"北京北京市朝阳区朝外街道办事处雅宝路5号","conProvince":"北京","consCounty":"朝阳区","consTown":"朝外街道办事处","cusUserId":"bd69b0aad40144d0b8015da16ba4f1fd","custype":"2","latitude":"39.915943","longitude":"116.437163","shopName":"趣味日","type":"3","typeText":"待拜访"}]
INFO  [2018-12-28 15:19:20,245] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:19:20,247] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:19:20,247] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:19:20,256] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225821","custype":"3","latitude":"39.915632","longitude":"116.436925","shopName":"香港零售终端","type":"3","typeText":"待拜访","userName":"香港零售终端"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230616","custype":"3","shopName":"尒XO580736","type":"3","typeText":"待拜访","userName":"苹果专卖test"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"安徽蚌埠市固镇县","conProvince":"安徽","consCounty":"固镇县","cusUserId":"245177","custype":"3","latitude":"33.316899","longitude":"117.316955","shopName":"ym15955265526","type":"3","typeText":"待拜访","userName":"ym15955265526"},{"conAddress":"安徽合肥市长丰县庄墓镇","conProvince":"安徽","consCounty":"长丰县","consTown":"庄墓镇","cusUserId":"289249","custype":"3","latitude":"39.91577419704861","longitude":"116.4370703125","shopName":"1134","type":"3","typeText":"待拜访","userName":"1134"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"}]
INFO  [2018-12-28 15:19:20,256] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='53b20ffee61a4921bdbd482af1b65269' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:19:20,259] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[{"conAddress":"北京北京市海淀区永定路街道办事处专营店","conProvince":"北京","consCounty":"海淀区","consTown":"永定路街道办事处","cusUserId":"7034540e971c4f2095fdd945135c6b42","custype":"2","latitude":"39.91575","longitude":"116.436964","shopName":"bbbbb无坐标","type":"3","typeText":"待拜访"},{"conAddress":"北京北京市朝阳区朝外街道办事处雅宝路5号","conProvince":"北京","consCounty":"朝阳区","consTown":"朝外街道办事处","cusUserId":"bd69b0aad40144d0b8015da16ba4f1fd","custype":"2","latitude":"39.915943","longitude":"116.437163","shopName":"趣味日","type":"3","typeText":"待拜访"}]
INFO  [2018-12-28 15:19:20,259] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
DEBUG [2018-12-28 15:19:20,874] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:19:24,001] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:19:24,863] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:19:25,366] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:19:25,366] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5539][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:43377<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5539 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5539 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5539 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5539 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5539 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5539 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5539 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5539 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5539 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5539 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 << "Date: Fri, 28 Dec 2018 07:19:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5539 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5539 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5539 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5539 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5539 << Date: Fri, 28 Dec 2018 07:19:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5539 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5539 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5539][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5539][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5539: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5539: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:19:29,058] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectSaleStatisticsDetail begin
INFO  [2018-12-28 15:19:29,059] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - productSalePlanQueryDto:{"cityList":[],"countyList":["3722"],"month":"201812","orderByColumn":"90","orderByType":"2","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceList":[],"tagId":"4227fcaf30294a01b83efd07267e4c25","tagIdList":["4227fcaf30294a01b83efd07267e4c25","7be39893b3e24668b7621a9542ad9406","55ed385129f646b9892d0fe95bbcf908","57c52bd450574ff9a70af4adbe38c926","6e6bd2c882cb4d5a8c82030ce58f3322","bd98285f271d48e1930ed899cf039a49","cfb0cee7eb25489799d30d8c6b2342ee"]}
DEBUG [2018-12-28 15:19:29,059] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:19:29,059] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bca40d7] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:19:29,061] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@1697733] will not be managed by Spring
DEBUG [2018-12-28 15:19:29,062] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select count(1) from(with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime desc nulls last,u.username) 
DEBUG [2018-12-28 15:19:29,063] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
pagination sql : select * from ( select row_limit.*, rownum rownum_ from (with userplan as (
    SELECT
    spi1.user_id user_id,
    nvl(sum(spi1.plan_sale),0) plan_sale
    FROM
    SALE_PLAN_INFO spi1
    WHERE
    spi1.execute_month = ?
    AND spi1.del_flag = '1'
    group by spi1.user_id
    ),
    salesgroup as(
    select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin
    from PRODUCT_SALE_STATISTICS pss
    where pss.statistics_month = ?
    and pss.del_flag = '1'
    group by pss.userid),

    visitTimeInfo as(
    select t.userid userid, max(t.lastVisitTime) lastVisitTime from (
    SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime
    FROM logistics_manage lm
    INNER JOIN order_info oi
    ON lm.reor_code = oi.order_code
    WHERE lm.logistics_status = '8'
    AND lm.logistics_type = '01'
    group by oi.customer_user_id
    union all
    select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime
    from visited_buyerinfo vb
    where vb.real_buyer_id is not null
    and vb.del_flag = '1'
    group by vb.real_buyer_id) t
    group by t.userid
    )
    select u.userid userId,
    u.username userName,
    cci.month_sales monthSales,
    case
    when cci.month_sales < 50 then
    'D'
    when cci.month_sales >= 50 and cci.month_sales < 100 then
    'C'
    when cci.month_sales >= 100 and cci.month_sales < 200 then
    'B'
    when cci.month_sales >= 200 and cci.month_sales < 500 then
    'A'
    when cci.month_sales >= 500 then
    'S'
    else
    'D'
    end as userLevel,
    to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate,
    bi.delflag delflag
    from buyerinfo bi
    left join users u on bi.userid = u.userid
    LEFT JOIN userplan up ON bi.userid = up.user_id
    LEFT JOIN salesgroup sg ON bi.userid = sg.userid
    left join crm_company_info cci on u.userid = cci.user_id
    left join visitTimeInfo vti on bi.userid=vti.userid
    where bi.buyer_type is not null
     
       
        and (
          bi.county in
            (
              ?
            ) 
        )
       
     
    AND (
    bi.delflag = '1'
    OR (
    bi.delflag = '0'
    AND (up.plan_sale > 0 or sg.amount>0)))
     
     
      order by vti.lastVisitTime desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0
DEBUG [2018-12-28 15:19:30,027] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select * from ( select row_limit.*, rownum rownum_ from (with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0 
DEBUG [2018-12-28 15:19:30,028] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
DEBUG [2018-12-28 15:19:30,880] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG [2018-12-28 15:19:30,987] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 20
DEBUG [2018-12-28 15:19:30,988] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bca40d7]
DEBUG [2018-12-28 15:19:30,988] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:19:30,988] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@296b5a26] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:19:30,992] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@192442a7] will not be managed by Spring
DEBUG [2018-12-28 15:19:30,992] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with userOrder as ( select t.userId userId, t.indexUser indexUser from ( select 288962 as userId, 0 as indexUser from dual union select 225821 as userId, 1 as indexUser from dual union select 280251 as userId, 2 as indexUser from dual union select 225830 as userId, 3 as indexUser from dual union select 235597 as userId, 4 as indexUser from dual union select 289281 as userId, 5 as indexUser from dual union select 283027 as userId, 6 as indexUser from dual union select 289382 as userId, 7 as indexUser from dual union select 289272 as userId, 8 as indexUser from dual union select 286914 as userId, 9 as indexUser from dual union select 289157 as userId, 10 as indexUser from dual union select 289275 as userId, 11 as indexUser from dual union select 289211 as userId, 12 as indexUser from dual union select 289273 as userId, 13 as indexUser from dual union select 280262 as userId, 14 as indexUser from dual union select 284146 as userId, 15 as indexUser from dual union select 283633 as userId, 16 as indexUser from dual union select 285626 as userId, 17 as indexUser from dual union select 283492 as userId, 18 as indexUser from dual union select 278852 as userId, 19 as indexUser from dual ) t ), tagOrder as ( select t.tagId tagId, t.indexTag indexTag from ( select '4227fcaf30294a01b83efd07267e4c25' as tagId, 0 as indexTag from dual union select '7be39893b3e24668b7621a9542ad9406' as tagId, 1 as indexTag from dual union select '55ed385129f646b9892d0fe95bbcf908' as tagId, 2 as indexTag from dual union select '57c52bd450574ff9a70af4adbe38c926' as tagId, 3 as indexTag from dual union select '6e6bd2c882cb4d5a8c82030ce58f3322' as tagId, 4 as indexTag from dual union select 'bd98285f271d48e1930ed899cf039a49' as tagId, 5 as indexTag from dual union select 'cfb0cee7eb25489799d30d8c6b2342ee' as tagId, 6 as indexTag from dual ) t ), sales as( select pss.userid userId, pss.tag_id tagId, sum(pss.amount) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and pss.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) group by pss.userid, pss.tag_id), salesplan as ( select spi.plan_sale planSale, spi.flighy_name flighyName, spi.user_id userId, spi.tag_id tagId from SALE_PLAN_INFO spi where spi.execute_month=? and spi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and spi.user_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and spi.del_flag='1' ), visitinfo as ( select bi.userid userId, vi.tag_id tagId, vi.intend_degree intendDegree, vi.add_date addDate from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) ), visitintendStatistics as ( select v1.userId userId, v1.tagId tagId, v1.intendDegree visitIntent from visitinfo v1 where not exists ( select 'x' from visitinfo v2 where v1.userId = v2.userId and v1.tagId = v2.tagId and v1.addDate < v2.addDate ) ), visitedcount as ( select vi.userId userId,vi.tagId tagId,count(1) visitedNum from visitinfo vi group by vi.userId,vi.tagId ), visitplancount as ( select vp.buyer_userid userId,vpi.tag_id tagId,count(1) visitplancount from visited_plan vp left join visite_plan_intend vpi on vp.id = vpi.visited_plan_id where vp.visit_time >= to_date(?||'01','yyyyMMdd') and vp.visit_time < add_months(to_date(?||'01','yyyyMMdd'),1) and vp.visited_goal = '2' and vp.buyer_userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vpi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by vp.buyer_userid,vpi.tag_id ), tmpvisitcount as ( select bi.userid userId, vi.tag_id tagId, count(1) tmpvisitcount from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_type = '3' and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by bi.userid,vi.tag_id ) select uo.userId, tor.tagId, sp.flighyName flighyName, sp.planSale planSale, nvl(s.amount,0) amount, nvl(s.sellin,0) sellin, case when sp.planSale is null then null when s.amount is null then 0 when sp.planSale = 0 then null else floor(s.amount*100/sp.planSale) end as pase, vis.visitIntent visitIntent, nvl(vc.visitedNum,0) visitedNum, nvl(vpc.visitplancount,0)+nvl(tvc.tmpvisitcount,0) as visitPlanNum from userOrder uo join tagOrder tor on 1=1 left join salesplan sp on uo.userId = sp.userId and tor.tagId=sp.tagId left join sales s on uo.userId = s.userId and tor.tagId=s.tagId left join visitintendStatistics vis on uo.userId = vis.userId and tor.tagId=vis.tagId left join visitedcount vc on uo.userId = vc.userId and tor.tagId=vc.tagId left join visitplancount vpc on uo.userId = vpc.userId and tor.tagId=vpc.tagId left join tmpvisitcount tvc on uo.userId = tvc.userId and tor.tagId=tvc.tagId order by uo.indexUser,tor.indexTag 
DEBUG [2018-12-28 15:19:30,994] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String)
DEBUG [2018-12-28 15:19:31,118] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 140
DEBUG [2018-12-28 15:19:31,118] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@296b5a26]
INFO  [2018-12-28 15:19:31,249] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:19:31,751] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:19:31,751] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:19:35,312] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectSaleStatisticsDetail begin
INFO  [2018-12-28 15:19:35,312] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - productSalePlanQueryDto:{"cityList":[],"countyList":["3722"],"month":"201812","orderByColumn":"90","orderByType":"1","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceList":[],"tagId":"4227fcaf30294a01b83efd07267e4c25","tagIdList":["4227fcaf30294a01b83efd07267e4c25","7be39893b3e24668b7621a9542ad9406","55ed385129f646b9892d0fe95bbcf908","57c52bd450574ff9a70af4adbe38c926","6e6bd2c882cb4d5a8c82030ce58f3322","bd98285f271d48e1930ed899cf039a49","cfb0cee7eb25489799d30d8c6b2342ee"]}
DEBUG [2018-12-28 15:19:35,312] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:19:35,312] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70bb2f68] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:19:35,313] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@67d6641e] will not be managed by Spring
DEBUG [2018-12-28 15:19:35,314] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select count(1) from(with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime asc nulls FIRST ,u.username) 
DEBUG [2018-12-28 15:19:35,315] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
pagination sql : select * from ( select row_limit.*, rownum rownum_ from (with userplan as (
    SELECT
    spi1.user_id user_id,
    nvl(sum(spi1.plan_sale),0) plan_sale
    FROM
    SALE_PLAN_INFO spi1
    WHERE
    spi1.execute_month = ?
    AND spi1.del_flag = '1'
    group by spi1.user_id
    ),
    salesgroup as(
    select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin
    from PRODUCT_SALE_STATISTICS pss
    where pss.statistics_month = ?
    and pss.del_flag = '1'
    group by pss.userid),

    visitTimeInfo as(
    select t.userid userid, max(t.lastVisitTime) lastVisitTime from (
    SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime
    FROM logistics_manage lm
    INNER JOIN order_info oi
    ON lm.reor_code = oi.order_code
    WHERE lm.logistics_status = '8'
    AND lm.logistics_type = '01'
    group by oi.customer_user_id
    union all
    select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime
    from visited_buyerinfo vb
    where vb.real_buyer_id is not null
    and vb.del_flag = '1'
    group by vb.real_buyer_id) t
    group by t.userid
    )
    select u.userid userId,
    u.username userName,
    cci.month_sales monthSales,
    case
    when cci.month_sales < 50 then
    'D'
    when cci.month_sales >= 50 and cci.month_sales < 100 then
    'C'
    when cci.month_sales >= 100 and cci.month_sales < 200 then
    'B'
    when cci.month_sales >= 200 and cci.month_sales < 500 then
    'A'
    when cci.month_sales >= 500 then
    'S'
    else
    'D'
    end as userLevel,
    to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate,
    bi.delflag delflag
    from buyerinfo bi
    left join users u on bi.userid = u.userid
    LEFT JOIN userplan up ON bi.userid = up.user_id
    LEFT JOIN salesgroup sg ON bi.userid = sg.userid
    left join crm_company_info cci on u.userid = cci.user_id
    left join visitTimeInfo vti on bi.userid=vti.userid
    where bi.buyer_type is not null
     
       
        and (
          bi.county in
            (
              ?
            ) 
        )
       
     
    AND (
    bi.delflag = '1'
    OR (
    bi.delflag = '0'
    AND (up.plan_sale > 0 or sg.amount>0)))
     
      order by vti.lastVisitTime asc nulls FIRST ,u.username ) row_limit where rownum <= 20 ) where rownum_ >0
DEBUG [2018-12-28 15:19:36,282] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select * from ( select row_limit.*, rownum rownum_ from (with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime asc nulls FIRST ,u.username ) row_limit where rownum <= 20 ) where rownum_ >0 
DEBUG [2018-12-28 15:19:36,283] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
DEBUG [2018-12-28 15:19:37,251] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 20
DEBUG [2018-12-28 15:19:37,252] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70bb2f68]
DEBUG [2018-12-28 15:19:37,252] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:19:37,252] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23c897e5] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:19:37,255] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@5a6ff5fe] will not be managed by Spring
DEBUG [2018-12-28 15:19:37,256] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with userOrder as ( select t.userId userId, t.indexUser indexUser from ( select 257350 as userId, 0 as indexUser from dual union select 259960 as userId, 1 as indexUser from dual union select 239034 as userId, 2 as indexUser from dual union select 289448 as userId, 3 as indexUser from dual union select 225809 as userId, 4 as indexUser from dual union select 249090 as userId, 5 as indexUser from dual union select 230671 as userId, 6 as indexUser from dual union select 235601 as userId, 7 as indexUser from dual union select 236000 as userId, 8 as indexUser from dual union select 236127 as userId, 9 as indexUser from dual union select 241246 as userId, 10 as indexUser from dual union select 225817 as userId, 11 as indexUser from dual union select 280239 as userId, 12 as indexUser from dual union select 289303 as userId, 13 as indexUser from dual union select 238867 as userId, 14 as indexUser from dual union select 280255 as userId, 15 as indexUser from dual union select 225839 as userId, 16 as indexUser from dual union select 283034 as userId, 17 as indexUser from dual union select 250180 as userId, 18 as indexUser from dual union select 278852 as userId, 19 as indexUser from dual ) t ), tagOrder as ( select t.tagId tagId, t.indexTag indexTag from ( select '4227fcaf30294a01b83efd07267e4c25' as tagId, 0 as indexTag from dual union select '7be39893b3e24668b7621a9542ad9406' as tagId, 1 as indexTag from dual union select '55ed385129f646b9892d0fe95bbcf908' as tagId, 2 as indexTag from dual union select '57c52bd450574ff9a70af4adbe38c926' as tagId, 3 as indexTag from dual union select '6e6bd2c882cb4d5a8c82030ce58f3322' as tagId, 4 as indexTag from dual union select 'bd98285f271d48e1930ed899cf039a49' as tagId, 5 as indexTag from dual union select 'cfb0cee7eb25489799d30d8c6b2342ee' as tagId, 6 as indexTag from dual ) t ), sales as( select pss.userid userId, pss.tag_id tagId, sum(pss.amount) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and pss.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) group by pss.userid, pss.tag_id), salesplan as ( select spi.plan_sale planSale, spi.flighy_name flighyName, spi.user_id userId, spi.tag_id tagId from SALE_PLAN_INFO spi where spi.execute_month=? and spi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and spi.user_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and spi.del_flag='1' ), visitinfo as ( select bi.userid userId, vi.tag_id tagId, vi.intend_degree intendDegree, vi.add_date addDate from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) ), visitintendStatistics as ( select v1.userId userId, v1.tagId tagId, v1.intendDegree visitIntent from visitinfo v1 where not exists ( select 'x' from visitinfo v2 where v1.userId = v2.userId and v1.tagId = v2.tagId and v1.addDate < v2.addDate ) ), visitedcount as ( select vi.userId userId,vi.tagId tagId,count(1) visitedNum from visitinfo vi group by vi.userId,vi.tagId ), visitplancount as ( select vp.buyer_userid userId,vpi.tag_id tagId,count(1) visitplancount from visited_plan vp left join visite_plan_intend vpi on vp.id = vpi.visited_plan_id where vp.visit_time >= to_date(?||'01','yyyyMMdd') and vp.visit_time < add_months(to_date(?||'01','yyyyMMdd'),1) and vp.visited_goal = '2' and vp.buyer_userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vpi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by vp.buyer_userid,vpi.tag_id ), tmpvisitcount as ( select bi.userid userId, vi.tag_id tagId, count(1) tmpvisitcount from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_type = '3' and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by bi.userid,vi.tag_id ) select uo.userId, tor.tagId, sp.flighyName flighyName, sp.planSale planSale, nvl(s.amount,0) amount, nvl(s.sellin,0) sellin, case when sp.planSale is null then null when s.amount is null then 0 when sp.planSale = 0 then null else floor(s.amount*100/sp.planSale) end as pase, vis.visitIntent visitIntent, nvl(vc.visitedNum,0) visitedNum, nvl(vpc.visitplancount,0)+nvl(tvc.tmpvisitcount,0) as visitPlanNum from userOrder uo join tagOrder tor on 1=1 left join salesplan sp on uo.userId = sp.userId and tor.tagId=sp.tagId left join sales s on uo.userId = s.userId and tor.tagId=s.tagId left join visitintendStatistics vis on uo.userId = vis.userId and tor.tagId=vis.tagId left join visitedcount vc on uo.userId = vc.userId and tor.tagId=vc.tagId left join visitplancount vpc on uo.userId = vpc.userId and tor.tagId=vpc.tagId left join tmpvisitcount tvc on uo.userId = tvc.userId and tor.tagId=tvc.tagId order by uo.indexUser,tor.indexTag 
DEBUG [2018-12-28 15:19:37,258] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 201812(String), 201812(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String)
DEBUG [2018-12-28 15:19:37,375] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 140
DEBUG [2018-12-28 15:19:37,376] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23c897e5]
INFO  [2018-12-28 15:19:37,563] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:19:38,065] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:19:38,066] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:19:38,181  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:19:40,888] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:19:43,879] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:19:44,382] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:19:44,382] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:19:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:19:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:19:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:19:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:19:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:19:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:19:46,642] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:19:46,645] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:19:50,194] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:19:50,696] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:19:50,697] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:19:50,897] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:19:54,011] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:19:56,562] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:19:57,064] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:19:57,065] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5540][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:49113<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5540 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5540 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5540 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5540 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5540 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5540 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5540 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5540 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5540 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5540 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 << "Date: Fri, 28 Dec 2018 07:19:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 << "26[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5540 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5540 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5540 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5540 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5540 << Date: Fri, 28 Dec 2018 07:19:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5540 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5540 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5540][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5540][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5540: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5540: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:20:00,907] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:20:02,881] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:20:03,383] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:20:03,383] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:20:05,975] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:20:08,191  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:20:09,197] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:20:09,699] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:20:09,700] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:20:10,906] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:20:15,516] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:20:16,018] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:20:16,019] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:20:20,797] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Received heartbeat from remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:20:20,917] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:20:21,831] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:20:22,333] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:20:22,333] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:20:22,659] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:20:22,660] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:20:22,750] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225817","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港省平台","type":"3","typeText":"待拜访","userName":"香港省平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225830","custype":"3","latitude":"39.915707","longitude":"116.436452","shopName":"香港天联通讯市场","type":"3","typeText":"待拜访","userName":"香港天联通讯市场"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235597","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"huanghao02","type":"3","typeText":"待拜访","userName":"huanghao02"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"238867","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"lishinichi","type":"3","typeText":"待拜访","userName":"lishinichi"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"239034","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhengshitest","type":"3","typeText":"待拜访","userName":"zhengshitest"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"241246","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台*t1","type":"3","typeText":"待拜访","userName":"香港县平台*t1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"249090","custype":"3","latitude":"39.953141","longitude":"116.378161","shopName":"ZHANGW","type":"3","typeText":"待拜访","userName":"ZHANGW"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"250180","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chenyong","type":"3","typeText":"待拜访","userName":"chenyong"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"257350","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"ceshi04","type":"3","typeText":"待拜访","userName":"ceshi04"},{"conAddress":"香港香港特别行政区九龙城","conProvince":"香港","consCounty":"九龙城","cusUserId":"259800","custype":"3","latitude":"39.915751","longitude":"116.436903","shopName":"香港天联供货商","type":"3","typeText":"待拜访","userName":"香港天联供货商"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"259960","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"naliland","type":"3","typeText":"待拜访","userName":"naliland"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"278852","custype":"3","latitude":"39.953132","longitude":"116.378176","shopName":"13716409","type":"3","typeText":"待拜访","userName":"13716409"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280239","custype":"3","latitude":"39.953133","longitude":"116.378177","shopName":"测试店铺1258","type":"3","typeText":"待拜访","userName":"测试店铺1258"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280252","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangyuanqing","type":"3","typeText":"待拜访","userName":"zhangyuanqing"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280255","custype":"3","latitude":"40.095145","longitude":"116.296211","shopName":"天联福卡通讯店","type":"3","typeText":"待拜访","userName":"天联福卡通讯店"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280261","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangzhaohui","type":"3","typeText":"待拜访","userName":"zhangzhaohui"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280262","custype":"3","latitude":"39.915715","longitude":"116.436683","shopName":"HenryMA","type":"3","typeText":"待拜访","userName":"HenryMA"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280384","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chencheng","type":"3","typeText":"待拜访","userName":"chencheng"},{"conAddress":"香港香港特别行政区湾仔","conProvince":"香港","consCounty":"湾仔","cusUserId":"280385","custype":"3","latitude":"39.915719","longitude":"116.436944","shopName":"jefference3000","type":"3","typeText":"待拜访","userName":"jefference3000"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280387","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"cfdzhy","type":"3","typeText":"待拜访","userName":"cfdzhy"},{"conAddress":"香港香港特别行政区观塘","conProvince":"香港","consCounty":"观塘","cusUserId":"280388","custype":"3","latitude":"39.915939","longitude":"116.43776","shopName":"yanxiaof","type":"3","typeText":"待拜访","userName":"yanxiaof"},{"conAddress":"香港香港特别行政区大埔","conProvince":"香港","consCounty":"大埔","cusUserId":"280548","custype":"3","latitude":"39.915661","longitude":"116.436938","shopName":"huyanling","type":"3","typeText":"待拜访","userName":"huyanling"},{"conAddress":"香港香港特别行政区香港特别行政区","conProvince":"香港","consCounty":"香港特别行政区","cusUserId":"280811","custype":"3","latitude":"39.953182","longitude":"116.378298","shopName":"13kg丝-这","type":"3","typeText":"待拜访","userName":"13kg丝-这"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280840","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"测试账号HK","type":"3","typeText":"待拜访","userName":"测试账号HK"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283027","custype":"3","latitude":"39.915782","longitude":"116.436853","shopName":"香港天联供货商1","type":"3","typeText":"待拜访","userName":"香港天联供货商1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283034","custype":"3","latitude":"39.95382","longitude":"116.374779","shopName":"wuchuming","type":"3","typeText":"待拜访","userName":"wuchuming"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283492","custype":"3","latitude":"39.953263","longitude":"116.378074","shopName":"测试客户1","type":"3","typeText":"待拜访","userName":"测试客户1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283633","custype":"3","latitude":"35.604376","longitude":"103.243021","shopName":"张测试001","type":"3","typeText":"待拜访","userName":"张测试001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"284146","custype":"3","latitude":"40.065336","longitude":"116.375398","shopName":"运营商001","type":"3","typeText":"待拜访","userName":"运营商001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"285626","custype":"3","latitude":"39.915498","longitude":"116.436445","shopName":"正式测试客户3","type":"3","typeText":"待拜访","userName":"正式测试客户3"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"286036","custype":"3","latitude":"39.915957","longitude":"116.436748","shopName":"香港终端测试组","type":"3","typeText":"待拜访","userName":"香港终端测试组"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"286914","custype":"3","latitude":"0","longitude":"0","shopName":"香港测试数据","type":"3","typeText":"待拜访","userName":"香港测试数据"},{"conAddress":"香港香港特别行政区香港市区内八宝山街道办事处","conProvince":"香港","consCounty":"香港市区内","consTown":"八宝山街道办事处","cusUserId":"288962","custype":"3","latitude":"39.915865","longitude":"116.436495","shopName":"北京客户2","type":"3","typeText":"待拜访","userName":"北京客户2"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289011","custype":"3","latitude":"39.915832","longitude":"116.436957","shopName":"测试微信注册","type":"3","typeText":"待拜访","userName":"测试微信注册"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289272","custype":"3","latitude":"39.915738","longitude":"116.436701","shopName":"海淀区客户不要动","type":"3","typeText":"待拜访","userName":"海淀区客户不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289273","custype":"3","latitude":"39.915896","longitude":"116.43673","shopName":"测试数据不要动","type":"3","typeText":"待拜访","userName":"测试数据不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289275","custype":"3","latitude":"39.915769","longitude":"116.437027","shopName":"啊啊撒","type":"3","typeText":"待拜访","userName":"啊啊撒"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289340","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chengjj","type":"3","typeText":"待拜访","userName":"chengjj"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:20:22,750] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:20:22,752] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:20:22,752] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:20:22,964] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:20:22,964] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:20:23,017] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:20:23,017] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:20:23,050] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225817","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港省平台","type":"3","typeText":"待拜访","userName":"香港省平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225830","custype":"3","latitude":"39.915707","longitude":"116.436452","shopName":"香港天联通讯市场","type":"3","typeText":"待拜访","userName":"香港天联通讯市场"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235597","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"huanghao02","type":"3","typeText":"待拜访","userName":"huanghao02"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"238867","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"lishinichi","type":"3","typeText":"待拜访","userName":"lishinichi"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"239034","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhengshitest","type":"3","typeText":"待拜访","userName":"zhengshitest"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"241246","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台*t1","type":"3","typeText":"待拜访","userName":"香港县平台*t1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"249090","custype":"3","latitude":"39.953141","longitude":"116.378161","shopName":"ZHANGW","type":"3","typeText":"待拜访","userName":"ZHANGW"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"250180","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chenyong","type":"3","typeText":"待拜访","userName":"chenyong"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"257350","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"ceshi04","type":"3","typeText":"待拜访","userName":"ceshi04"},{"conAddress":"香港香港特别行政区九龙城","conProvince":"香港","consCounty":"九龙城","cusUserId":"259800","custype":"3","latitude":"39.915751","longitude":"116.436903","shopName":"香港天联供货商","type":"3","typeText":"待拜访","userName":"香港天联供货商"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"259960","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"naliland","type":"3","typeText":"待拜访","userName":"naliland"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"278852","custype":"3","latitude":"39.953132","longitude":"116.378176","shopName":"13716409","type":"3","typeText":"待拜访","userName":"13716409"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280239","custype":"3","latitude":"39.953133","longitude":"116.378177","shopName":"测试店铺1258","type":"3","typeText":"待拜访","userName":"测试店铺1258"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280252","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangyuanqing","type":"3","typeText":"待拜访","userName":"zhangyuanqing"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280255","custype":"3","latitude":"40.095145","longitude":"116.296211","shopName":"天联福卡通讯店","type":"3","typeText":"待拜访","userName":"天联福卡通讯店"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280261","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangzhaohui","type":"3","typeText":"待拜访","userName":"zhangzhaohui"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280262","custype":"3","latitude":"39.915715","longitude":"116.436683","shopName":"HenryMA","type":"3","typeText":"待拜访","userName":"HenryMA"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280384","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chencheng","type":"3","typeText":"待拜访","userName":"chencheng"},{"conAddress":"香港香港特别行政区湾仔","conProvince":"香港","consCounty":"湾仔","cusUserId":"280385","custype":"3","latitude":"39.915719","longitude":"116.436944","shopName":"jefference3000","type":"3","typeText":"待拜访","userName":"jefference3000"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280387","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"cfdzhy","type":"3","typeText":"待拜访","userName":"cfdzhy"},{"conAddress":"香港香港特别行政区观塘","conProvince":"香港","consCounty":"观塘","cusUserId":"280388","custype":"3","latitude":"39.915939","longitude":"116.43776","shopName":"yanxiaof","type":"3","typeText":"待拜访","userName":"yanxiaof"},{"conAddress":"香港香港特别行政区大埔","conProvince":"香港","consCounty":"大埔","cusUserId":"280548","custype":"3","latitude":"39.915661","longitude":"116.436938","shopName":"huyanling","type":"3","typeText":"待拜访","userName":"huyanling"},{"conAddress":"香港香港特别行政区香港特别行政区","conProvince":"香港","consCounty":"香港特别行政区","cusUserId":"280811","custype":"3","latitude":"39.953182","longitude":"116.378298","shopName":"13kg丝-这","type":"3","typeText":"待拜访","userName":"13kg丝-这"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280840","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"测试账号HK","type":"3","typeText":"待拜访","userName":"测试账号HK"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283027","custype":"3","latitude":"39.915782","longitude":"116.436853","shopName":"香港天联供货商1","type":"3","typeText":"待拜访","userName":"香港天联供货商1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283034","custype":"3","latitude":"39.95382","longitude":"116.374779","shopName":"wuchuming","type":"3","typeText":"待拜访","userName":"wuchuming"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283492","custype":"3","latitude":"39.953263","longitude":"116.378074","shopName":"测试客户1","type":"3","typeText":"待拜访","userName":"测试客户1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283633","custype":"3","latitude":"35.604376","longitude":"103.243021","shopName":"张测试001","type":"3","typeText":"待拜访","userName":"张测试001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"284146","custype":"3","latitude":"40.065336","longitude":"116.375398","shopName":"运营商001","type":"3","typeText":"待拜访","userName":"运营商001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"285626","custype":"3","latitude":"39.915498","longitude":"116.436445","shopName":"正式测试客户3","type":"3","typeText":"待拜访","userName":"正式测试客户3"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"286036","custype":"3","latitude":"39.915957","longitude":"116.436748","shopName":"香港终端测试组","type":"3","typeText":"待拜访","userName":"香港终端测试组"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"286914","custype":"3","latitude":"0","longitude":"0","shopName":"香港测试数据","type":"3","typeText":"待拜访","userName":"香港测试数据"},{"conAddress":"香港香港特别行政区香港市区内八宝山街道办事处","conProvince":"香港","consCounty":"香港市区内","consTown":"八宝山街道办事处","cusUserId":"288962","custype":"3","latitude":"39.915865","longitude":"116.436495","shopName":"北京客户2","type":"3","typeText":"待拜访","userName":"北京客户2"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289011","custype":"3","latitude":"39.915832","longitude":"116.436957","shopName":"测试微信注册","type":"3","typeText":"待拜访","userName":"测试微信注册"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289272","custype":"3","latitude":"39.915738","longitude":"116.436701","shopName":"海淀区客户不要动","type":"3","typeText":"待拜访","userName":"海淀区客户不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289273","custype":"3","latitude":"39.915896","longitude":"116.43673","shopName":"测试数据不要动","type":"3","typeText":"待拜访","userName":"测试数据不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289275","custype":"3","latitude":"39.915769","longitude":"116.437027","shopName":"啊啊撒","type":"3","typeText":"待拜访","userName":"啊啊撒"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289340","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chengjj","type":"3","typeText":"待拜访","userName":"chengjj"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:20:23,051] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:20:23,052] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:20:23,052] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:20:23,061] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225817","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港省平台","type":"3","typeText":"待拜访","userName":"香港省平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225830","custype":"3","latitude":"39.915707","longitude":"116.436452","shopName":"香港天联通讯市场","type":"3","typeText":"待拜访","userName":"香港天联通讯市场"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235597","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"huanghao02","type":"3","typeText":"待拜访","userName":"huanghao02"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"238867","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"lishinichi","type":"3","typeText":"待拜访","userName":"lishinichi"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"239034","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhengshitest","type":"3","typeText":"待拜访","userName":"zhengshitest"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"241246","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台*t1","type":"3","typeText":"待拜访","userName":"香港县平台*t1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"249090","custype":"3","latitude":"39.953141","longitude":"116.378161","shopName":"ZHANGW","type":"3","typeText":"待拜访","userName":"ZHANGW"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"250180","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chenyong","type":"3","typeText":"待拜访","userName":"chenyong"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"257350","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"ceshi04","type":"3","typeText":"待拜访","userName":"ceshi04"},{"conAddress":"香港香港特别行政区九龙城","conProvince":"香港","consCounty":"九龙城","cusUserId":"259800","custype":"3","latitude":"39.915751","longitude":"116.436903","shopName":"香港天联供货商","type":"3","typeText":"待拜访","userName":"香港天联供货商"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"259960","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"naliland","type":"3","typeText":"待拜访","userName":"naliland"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"278852","custype":"3","latitude":"39.953132","longitude":"116.378176","shopName":"13716409","type":"3","typeText":"待拜访","userName":"13716409"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280239","custype":"3","latitude":"39.953133","longitude":"116.378177","shopName":"测试店铺1258","type":"3","typeText":"待拜访","userName":"测试店铺1258"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280252","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangyuanqing","type":"3","typeText":"待拜访","userName":"zhangyuanqing"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280255","custype":"3","latitude":"40.095145","longitude":"116.296211","shopName":"天联福卡通讯店","type":"3","typeText":"待拜访","userName":"天联福卡通讯店"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280261","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangzhaohui","type":"3","typeText":"待拜访","userName":"zhangzhaohui"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280262","custype":"3","latitude":"39.915715","longitude":"116.436683","shopName":"HenryMA","type":"3","typeText":"待拜访","userName":"HenryMA"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280384","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chencheng","type":"3","typeText":"待拜访","userName":"chencheng"},{"conAddress":"香港香港特别行政区湾仔","conProvince":"香港","consCounty":"湾仔","cusUserId":"280385","custype":"3","latitude":"39.915719","longitude":"116.436944","shopName":"jefference3000","type":"3","typeText":"待拜访","userName":"jefference3000"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280387","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"cfdzhy","type":"3","typeText":"待拜访","userName":"cfdzhy"},{"conAddress":"香港香港特别行政区观塘","conProvince":"香港","consCounty":"观塘","cusUserId":"280388","custype":"3","latitude":"39.915939","longitude":"116.43776","shopName":"yanxiaof","type":"3","typeText":"待拜访","userName":"yanxiaof"},{"conAddress":"香港香港特别行政区大埔","conProvince":"香港","consCounty":"大埔","cusUserId":"280548","custype":"3","latitude":"39.915661","longitude":"116.436938","shopName":"huyanling","type":"3","typeText":"待拜访","userName":"huyanling"},{"conAddress":"香港香港特别行政区香港特别行政区","conProvince":"香港","consCounty":"香港特别行政区","cusUserId":"280811","custype":"3","latitude":"39.953182","longitude":"116.378298","shopName":"13kg丝-这","type":"3","typeText":"待拜访","userName":"13kg丝-这"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280840","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"测试账号HK","type":"3","typeText":"待拜访","userName":"测试账号HK"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283027","custype":"3","latitude":"39.915782","longitude":"116.436853","shopName":"香港天联供货商1","type":"3","typeText":"待拜访","userName":"香港天联供货商1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283034","custype":"3","latitude":"39.95382","longitude":"116.374779","shopName":"wuchuming","type":"3","typeText":"待拜访","userName":"wuchuming"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283492","custype":"3","latitude":"39.953263","longitude":"116.378074","shopName":"测试客户1","type":"3","typeText":"待拜访","userName":"测试客户1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283633","custype":"3","latitude":"35.604376","longitude":"103.243021","shopName":"张测试001","type":"3","typeText":"待拜访","userName":"张测试001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"284146","custype":"3","latitude":"40.065336","longitude":"116.375398","shopName":"运营商001","type":"3","typeText":"待拜访","userName":"运营商001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"285626","custype":"3","latitude":"39.915498","longitude":"116.436445","shopName":"正式测试客户3","type":"3","typeText":"待拜访","userName":"正式测试客户3"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"286036","custype":"3","latitude":"39.915957","longitude":"116.436748","shopName":"香港终端测试组","type":"3","typeText":"待拜访","userName":"香港终端测试组"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"286914","custype":"3","latitude":"0","longitude":"0","shopName":"香港测试数据","type":"3","typeText":"待拜访","userName":"香港测试数据"},{"conAddress":"香港香港特别行政区香港市区内八宝山街道办事处","conProvince":"香港","consCounty":"香港市区内","consTown":"八宝山街道办事处","cusUserId":"288962","custype":"3","latitude":"39.915865","longitude":"116.436495","shopName":"北京客户2","type":"3","typeText":"待拜访","userName":"北京客户2"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289011","custype":"3","latitude":"39.915832","longitude":"116.436957","shopName":"测试微信注册","type":"3","typeText":"待拜访","userName":"测试微信注册"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289272","custype":"3","latitude":"39.915738","longitude":"116.436701","shopName":"海淀区客户不要动","type":"3","typeText":"待拜访","userName":"海淀区客户不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289273","custype":"3","latitude":"39.915896","longitude":"116.43673","shopName":"测试数据不要动","type":"3","typeText":"待拜访","userName":"测试数据不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289275","custype":"3","latitude":"39.915769","longitude":"116.437027","shopName":"啊啊撒","type":"3","typeText":"待拜访","userName":"啊啊撒"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289340","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chengjj","type":"3","typeText":"待拜访","userName":"chengjj"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:20:23,062] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:20:23,063] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:20:23,063] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:20:24,021] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:20:25,682] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerListCrm START...
INFO  [2018-12-28 15:20:25,683] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - customerListParamVO = {"areaIds":"","channelPlanTag":"","cityLi":[],"countyLi":["3722"],"curPage":1,"customLevel":"","infoCompleteFrom":"0","infoCompleteTo":"100","isLocation":"","maturityTag":"","memberTag":"","nation":"","pageSize":20,"provinceLi":[],"searchInfo":"","sortSpecies":"4","staffId":"e59ef26cf282403ca7d7fdc982c8d3c0"}
INFO  [2018-12-28 15:20:25,683] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - buyerQueryDao.getCustomerListCrm START...
INFO  [2018-12-28 15:20:25,683] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 客户列表分页查询sql: SELECT * FROM (SELECT ROWNUM row_, t.* FROM (with tmp as( select /*+ NO_INDEX(B IND_BUYERINFO_PROVINCE)*/ distinct to_char(b.userid) customerid, concat( b.buyerid，'') regbuyerId, b.shopname, b.pri_mobile phone, (ai1.areaname  ||','  ||ai2.areaname  ||','  ||ai3.areaname ||nvl2(t.townname,','  ||t.townname,'')) areatext, b.addtime, '3' customertype, b.longitude, b.latitude, b.province, b.city, b.county, b.townid, cs.instore_image1 instoreimage1, cs.shopowner_name shopownername, cs.shop_address shopaddress, cs.business_area businessarea, cs.clerk_num clerknum, cs.door_header_image doorheaderimage, vb.visited_date visitedDate,  case b.buyer_tag   when '01' then '一般客户'   when '02' then '重点客户'   when '03' then '核心客户'   end as memberTag,  case   when b.LONGITUDE is null then '0'   when b.LATITUDE is null then '0'   else '1'   end as isLocation, to_char(b.MES_DEGREE*100) as mesDegree,  case   when cci.MONTH_SALES < 50 and cci.MONTH_SALES >= 0 then 'D'   when cci.MONTH_SALES < 100 then 'C'   when cci.MONTH_SALES < 200 then 'B'   when cci.MONTH_SALES < 500 then 'A'   when cci.MONTH_SALES > 499 then 'S'   else 'X'   end as customLevel from buyerinfo b left join areainfo ai1 on ai1.areaid=b.province left join areainfo ai2 on ai2.areaid=b.city left join areainfo ai3 on ai3.areaid=b.county left join towninfo t on t.townid=b.townid and t.status='1' left join (select user_id,door_header_image,instore_image1,shopowner_name,shop_address,business_area,clerk_num from (select user_id,door_header_image,instore_image1,shopowner_name,shop_address,business_area,clerk_num, row_number()over(partition by user_id order by is_main_shop desc nulls last,add_date desc nulls last) rn from crm_shop where del_flag='1') t where t.rn=1) cs on cs.user_id=b.userid left join (select  vb.real_buyer_id,max(vb.visited_date) visited_date  from VISITED_BUYERINFO vb where vb.unreal_buyer_id is null  and vb.del_flag = 1 group by vb.real_buyer_id) vb on vb.real_buyer_id = b.userid left join (select cci.MONTH_SALES MONTH_SALES,cci.USER_ID from crm_company_info cci where cci.DEL_FLAG = '1') cci on cci.USER_ID = b.userid where b.buyerstatus='02' and b.buyer_type is not null and b.delflag='1' union  select ub.buyer_id customerid, '' regbuyerId, translate(ub.shop_name USING NCHAR_CS) shopname, ub.pri_mobile phone, (ai1.areaname  ||','  ||ai2.areaname  ||','  ||ai3.areaname ||nvl2(t.townname,','  ||t.townname,'')) areatext, ub.add_date addtime, '2' customertype, ub.longitude, ub.latitude, ub.province_id province, ub.city_id city, ub.area_id county, ub.town_id townid, ub.instore_image1 instoreimage1, translate(ub.main_contacts_name USING NCHAR_CS) shopownername, ub.shop_address shopaddress, ub.business_area businessarea, ub.clerk_num clerknum, ub.door_header_image doorheaderimage, vb.visited_date visitedDate,  case ub.buyer_tag   when '01' then '一般客户'   when '02' then '重点客户'   when '03' then '核心客户'   end as memberTag,  case   when ub.LONGITUDE is null then '0'   when ub.LATITUDE is null then '0'   else '1'   end as isLocation, to_char(ub.MES_DEGREE*100) as mesDegree,  case   when ub.MONTH_SALES < 50 and ub.MONTH_SALES >= 0 then 'D'   when ub.MONTH_SALES < 100 then 'C'   when ub.MONTH_SALES < 200 then 'B'   when ub.MONTH_SALES < 500 then 'A'   when ub.MONTH_SALES > 499 then 'S'   else 'X'   end as customLevel from unregistered_buyerinfo ub left join areainfo ai1 on ai1.areaid=ub.province_id left join areainfo ai2 on ai2.areaid=ub.city_id left join areainfo ai3 on ai3.areaid=ub.area_id left join towninfo t on t.townid=ub.town_id and t.status='1' left join (select  vb.UNREAL_BUYER_ID,max(vb.visited_date) visited_date  from VISITED_BUYERINFO vb where vb.real_buyer_id is null and vb.del_flag = 1 group by vb.UNREAL_BUYER_ID) vb on vb.unreal_buyer_id = ub.buyer_id where ub.del_flag='1' and ub.buyer_type is not null and ub.register_status='0' ) select distinct customerid,regbuyerId, shopname,phone,areatext,addtime,customertype,isLocation,mesDegree,longitude,latitude,memberTag,visitedDate,  case   when customLevel = 'X' then '未分级'   else customLevel   end as customLevel, doorheaderimage from tmp where 1=1 and (county in (3722) ) and (to_number(mesDegree) >= to_number('0')) and (to_number(mesDegree) <= to_number('100')) order by addtime DESC) t ) WHERE row_ <=20 AND row_ >=1
INFO  [2018-12-28 15:20:26,358] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - li = [{"addTime":"2018-12-28 10:37:50","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289448","customerType":"3","isLocation":"0","mesDegree":"0","phone":"13581732736","regbuyerId":"410572","shopName":"信测试公司1"},{"addTime":"2018-12-03 17:27:01","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289382","customerType":"3","doorHeaderImage":"/upload/20181203172623186_968.jpg","isLocation":"1","memberTag":"核心客户","mesDegree":"75","phone":"15801446300","regbuyerId":"410557","shopName":"测试地址"},{"addTime":"2018-08-24 11:21:14","areaText":"香港,香港特别行政区,香港市区内","customLevel":"D","customerId":"225830","customerType":"3","doorHeaderImage":"/upload/20181121170432903_582.jpg","isLocation":"1","memberTag":"核心客户","mesDegree":"100","phone":"11391023541","regbuyerId":"410543","shopName":"香港天联通讯市场"},{"addTime":"2018-08-01 15:16:42","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289303","customerType":"3","doorHeaderImage":"/upload/20170301182808842_722.jpeg","isLocation":"1","memberTag":"一般客户","mesDegree":"50","phone":"13652148596","regbuyerId":"410510","shopName":"还比较快路"},{"addTime":"2018-07-31 14:41:48","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289281","customerType":"3","doorHeaderImage":"/upload/20180731144132499_365.jpeg","isLocation":"1","mesDegree":"80","phone":"13541708965","regbuyerId":"410468","shopName":"玩儿玩儿"},{"addTime":"2018-07-30 17:03:43","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289275","customerType":"3","doorHeaderImage":"/upload/20180730160334835_345.jpeg","isLocation":"1","memberTag":"一般客户","mesDegree":"60","phone":"13580896321","regbuyerId":"410456","shopName":"啊啊撒"},{"addTime":"2018-07-30 15:32:10","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289273","customerType":"3","doorHeaderImage":"/upload/20180730153143002_937.jpg","isLocation":"1","mesDegree":"50","phone":"18700003333","regbuyerId":"410452","shopName":"测试数据不要动"},{"addTime":"2018-07-30 15:23:25","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289272","customerType":"3","doorHeaderImage":"/upload/20180730145630886_727.jpeg","isLocation":"1","memberTag":"一般客户","mesDegree":"50","phone":"18700001236","regbuyerId":"410450","shopName":"海淀区客户不要动"},{"addTime":"2018-07-19 17:47:31","areaText":"香港,香港特别行政区,香港市区内","customLevel":"C","customerId":"289211","customerType":"3","doorHeaderImage":"/upload/20180719174338925_346.jpg","isLocation":"1","memberTag":"一般客户","mesDegree":"85","phone":"13214258741","regbuyerId":"410328","shopName":"饿到处"},{"addTime":"2018-07-16 18:36:43","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"289157","customerType":"3","doorHeaderImage":"/upload/20180716175523067_740.jpg","isLocation":"1","memberTag":"重点客户","mesDegree":"70","phone":"13311111113","regbuyerId":"410278","shopName":"土办法"},{"addTime":"2018-04-02 13:32:12","areaText":"香港,香港特别行政区,香港市区内,八宝山街道办事处","customLevel":"S","customerId":"288962","customerType":"3","doorHeaderImage":"/upload/20180408103354886_810.png","isLocation":"1","memberTag":"重点客户","mesDegree":"100","phone":"18811170832","regbuyerId":"410139","shopName":"北京客户2"},{"addTime":"2017-10-26 22:22:36","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"286914","customerType":"3","doorHeaderImage":"/upload/20171026222217193_122.jpeg","isLocation":"1","mesDegree":"50","phone":"18668888888","regbuyerId":"406772","shopName":"香港测试数据"},{"addTime":"2017-09-04 09:42:46","areaText":"香港,香港特别行政区,香港市区内","customLevel":"D","customerId":"285626","customerType":"3","doorHeaderImage":"/upload/20170904094235690_585.jpeg","isLocation":"1","memberTag":"核心客户","mesDegree":"0","phone":"180000*****","regbuyerId":"404643","shopName":"正式测试客户3"},{"addTime":"2017-07-06 20:14:57","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"284146","customerType":"3","doorHeaderImage":"/upload/20170706202700507_991.png","isLocation":"1","mesDegree":"0","phone":"136510*****","regbuyerId":"402497","shopName":"运营商001"},{"addTime":"2017-06-22 22:19:17","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"283633","customerType":"3","doorHeaderImage":"/upload/20170622231750575_583.jpg","isLocation":"1","memberTag":"一般客户","mesDegree":"0","phone":"188111*****","regbuyerId":"401673","shopName":"张测试001"},{"addTime":"2017-06-15 22:24:09","areaText":"香港,香港特别行政区,香港市区内","customLevel":"D","customerId":"283492","customerType":"3","doorHeaderImage":"/upload/20170615221509988_768.jpg","isLocation":"1","mesDegree":"0","phone":"185000*****","regbuyerId":"401497","shopName":"测试客户1"},{"addTime":"2017-05-19 15:29:00","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"283034","customerType":"3","doorHeaderImage":"/upload/20170703104508252_152.jpeg","isLocation":"1","mesDegree":"0","phone":"138674*****","regbuyerId":"400894","shopName":"wuchuming"},{"addTime":"2017-05-18 20:17:27","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"283027","customerType":"3","doorHeaderImage":"/upload/20170622223048994_639.jpeg","isLocation":"1","mesDegree":"50","phone":"18801298031","regbuyerId":"400885","shopName":"香港天联供货商1"},{"addTime":"2017-01-13 17:00:54","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"280262","customerType":"3","isLocation":"1","mesDegree":"0","phone":"185013*****","regbuyerId":"397324","shopName":"HenryMA"},{"addTime":"2017-01-13 15:41:09","areaText":"香港,香港特别行政区,香港市区内","customLevel":"未分级","customerId":"280255","customerType":"3","doorHeaderImage":"/upload/20170513103131764_871.jpg","isLocation":"1","mesDegree":"0","phone":"131216*****","regbuyerId":"397316","shopName":"天联福卡通讯店"}]
INFO  [2018-12-28 15:20:26,359] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - buyerQueryDao.getCustomerListCrm END...
INFO  [2018-12-28 15:20:26,359] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerListCrm END...
INFO  [2018-12-28 15:20:26,362] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:26,362] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289448') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:26,417] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:26,417] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289448'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:26,471] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:26,471] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289382') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:26,537] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:26,537] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289382'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:26,593] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:26,593] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '225830') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:26,649] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:26,649] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='225830'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:26,710] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:26,710] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289303') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:26,769] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:26,769] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289303'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:26,825] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:26,825] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289281') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:26,890] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:26,891] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289281'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:26,949] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:26,950] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289275') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:27,006] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:27,006] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289275'  where tm.del_flag='1' and btt.del_flag='1'
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:20:27,060] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:27,060] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289273') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:27,118] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:27,118] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289273'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:27,171] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:27,171] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289272') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:27,228] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:27,228] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289272'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:27,282] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:27,282] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289211') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:27,339] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:27,339] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289211'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:27,392] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:27,392] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '289157') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:27,449] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:27,449] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='289157'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:27,501] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:27,501] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '288962') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:27,558] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:27,558] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='288962'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:27,612] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:27,613] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '286914') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:27,670] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:27,670] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='286914'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:27,723] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:27,723] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '285626') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:27,780] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:27,780] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='285626'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:27,832] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:27,832] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '284146') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:27,889] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:27,889] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='284146'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:27,941] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:27,941] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '283633') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:27,998] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:27,999] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='283633'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:28,052] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:28,052] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '283492') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:28,110] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:28,110] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='283492'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:28,146] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:20:28,162] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:28,162] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '283034') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:28,223] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:28,224] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='283034'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:28,282] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:28,282] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '283027') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:28,344] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:28,344] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='283027'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:28,403] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:28,403] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '280262') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:28,464] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:28,465] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='280262'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:28,522] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerChannelbegin.
INFO  [2018-12-28 15:20:28,522] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户渠道规划标签信息sql: select btt.buyer_id buyerId, tm.tag_name channelTagName, tm.tag_group_id tagGroupId, tm.tag_id tagId, tm.SALES_CAPACITY_TYPE salesCapacityType, btt.sales_capacity sales,btt.sales_degree salesDegree  from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '渠道规划标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id and tm.del_flag='1'  where btt.buyer_id in ( select concat(b.buyerid, '') from buyerinfo b where b.userid= '280255') and btt.del_flag='1'  order by tm.display_seq 
INFO  [2018-12-28 15:20:28,583] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerQueryServiceImpl getCustomerMaturity begin.
INFO  [2018-12-28 15:20:28,584] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 用户成熟度标签信息sql: select btt.buyer_id buyerId, tm.tag_name maturityTagName from BUYER_TAG_INFO btt inner join TAG_GROUP_MANAGE tgm on btt.tag_group_id = tgm.tag_group_id and tgm.tag_group_name = '成熟度标签' inner join TAG_MANAGE tm on btt.tag_id = tm.tag_id inner join buyerinfo bi on to_char(bi.buyerid)=btt.buyer_id and bi.userid='280255'  where tm.del_flag='1' and btt.del_flag='1'
INFO  [2018-12-28 15:20:28,648] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:20:28,648] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5541][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:54865<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5541 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5541 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5541 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5541 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5541 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5541 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5541 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5541 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5541 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5541 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 << "Date: Fri, 28 Dec 2018 07:20:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5541 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5541 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5541 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5541 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5541 << Date: Fri, 28 Dec 2018 07:20:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5541 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5541 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5541][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5541][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5541: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5541: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:20:29,542] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectProductSalePlanHeader begin
DEBUG [2018-12-28 15:20:29,542] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:20:29,543] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201faaf9] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:20:29,543] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@ef88080] will not be managed by Spring
DEBUG [2018-12-28 15:20:29,543] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with saleplaninfo as (select spi.tag_id from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.del_flag = '1' group by spi.tag_id) select s.TAG_ID tagId, tm.TAG_NAME tagName, nvl(tm.cxorder,'0') sellinFlag from saleplaninfo s inner join TAG_MANAGE tm on tm.TAG_ID = s.TAG_ID order by tm.display_seq nulls last, tm.tag_name 
DEBUG [2018-12-28 15:20:29,545] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String)
DEBUG [2018-12-28 15:20:29,615] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 7
DEBUG [2018-12-28 15:20:29,616] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201faaf9]
INFO  [2018-12-28 15:20:29,681] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectSaleStatisticsDetail begin
INFO  [2018-12-28 15:20:29,681] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - productSalePlanQueryDto:{"cityList":[],"countyList":["3722"],"month":"201812","orderByColumn":"01","orderByType":"2","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceList":[],"tagId":"4227fcaf30294a01b83efd07267e4c25","tagIdList":["4227fcaf30294a01b83efd07267e4c25","7be39893b3e24668b7621a9542ad9406","55ed385129f646b9892d0fe95bbcf908","57c52bd450574ff9a70af4adbe38c926","6e6bd2c882cb4d5a8c82030ce58f3322","bd98285f271d48e1930ed899cf039a49","cfb0cee7eb25489799d30d8c6b2342ee"]}
DEBUG [2018-12-28 15:20:29,682] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:20:29,682] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d254b0] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:20:29,683] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@797906a9] will not be managed by Spring
DEBUG [2018-12-28 15:20:29,683] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select count(1) from(with saleplaninfo as ( select distinct spi.user_id user_id, spi.tag_id tag_id, spi.plan_sale plan_sale from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.tag_id = ? and spi.del_flag = '1' ), userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), logisticsSendInfo as( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id ), visitTimeInfo as( select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, case when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'') when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'') when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD') else to_char(vti.lastVisitTime,'yy.MM.DD') end as lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid left join saleplaninfo spi on bi.userid = spi.user_id LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join logisticsSendInfo lsi on bi.userid=lsi.userid left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by spi.plan_sale desc nulls last,u.username) 
DEBUG [2018-12-28 15:20:29,684] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 201812(String), 201812(String), 3722(String)
pagination sql : select * from ( select row_limit.*, rownum rownum_ from (with saleplaninfo as (
    select distinct
    spi.user_id user_id,
    spi.tag_id tag_id,
    spi.plan_sale plan_sale
    from SALE_PLAN_INFO spi
    where spi.execute_month = ?
    and spi.tag_id = ?
    and spi.del_flag = '1'
    ),
    userplan as (
    SELECT
    spi1.user_id user_id,
    nvl(sum(spi1.plan_sale),0) plan_sale
    FROM
    SALE_PLAN_INFO spi1
    WHERE
    spi1.execute_month = ?
    AND spi1.del_flag = '1'
    group by spi1.user_id
    ),
    salesgroup as(
    select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin
    from PRODUCT_SALE_STATISTICS pss
    where pss.statistics_month = ?
    and pss.del_flag = '1'
    group by pss.userid),
    logisticsSendInfo as(
    SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime
    FROM logistics_manage lm
    INNER JOIN order_info oi
    ON lm.reor_code = oi.order_code
    WHERE lm.logistics_status = '8'
    AND lm.logistics_type = '01'
    group by oi.customer_user_id
    ),
    visitTimeInfo as(
    select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime
    from visited_buyerinfo vb
    where vb.real_buyer_id is not null
    and vb.del_flag = '1'
    group by vb.real_buyer_id
    )
    select u.userid userId,
    u.username userName,
    cci.month_sales monthSales,
    case
    when cci.month_sales < 50 then
    'D'
    when cci.month_sales >= 50 and cci.month_sales < 100 then
    'C'
    when cci.month_sales >= 100 and cci.month_sales < 200 then
    'B'
    when cci.month_sales >= 200 and cci.month_sales < 500 then
    'A'
    when cci.month_sales >= 500 then
    'S'
    else
    'D'
    end as userLevel,
    case
    when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'')
    when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'')
    when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD')
    else to_char(vti.lastVisitTime,'yy.MM.DD')
    end as lastVisitDate,
    bi.delflag delflag
    from buyerinfo bi
    left join users u
    on bi.userid = u.userid
    left join saleplaninfo spi
    on bi.userid = spi.user_id
    LEFT JOIN userplan up ON bi.userid = up.user_id
    LEFT JOIN salesgroup sg ON bi.userid = sg.userid
    left join crm_company_info cci
    on u.userid = cci.user_id
    left join logisticsSendInfo lsi on bi.userid=lsi.userid
    left join visitTimeInfo vti on bi.userid=vti.userid
    where bi.buyer_type is not null
     
       
        and (
          bi.county in
            (
              ?
            ) 
        )
       
     
    AND (
    bi.delflag = '1'
    OR (
    bi.delflag = '0'
    AND (up.plan_sale > 0 or sg.amount>0)))
     
     
      order by spi.plan_sale desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0
DEBUG [2018-12-28 15:20:29,991] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select * from ( select row_limit.*, rownum rownum_ from (with saleplaninfo as ( select distinct spi.user_id user_id, spi.tag_id tag_id, spi.plan_sale plan_sale from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.tag_id = ? and spi.del_flag = '1' ), userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), logisticsSendInfo as( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id ), visitTimeInfo as( select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, case when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'') when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'') when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD') else to_char(vti.lastVisitTime,'yy.MM.DD') end as lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid left join saleplaninfo spi on bi.userid = spi.user_id LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join logisticsSendInfo lsi on bi.userid=lsi.userid left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by spi.plan_sale desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0 
DEBUG [2018-12-28 15:20:29,992] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 201812(String), 201812(String), 3722(String)
DEBUG [2018-12-28 15:20:30,278] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 20
DEBUG [2018-12-28 15:20:30,278] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d254b0]
DEBUG [2018-12-28 15:20:30,278] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:20:30,279] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e3bf76a] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:20:30,282] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@6fd980aa] will not be managed by Spring
DEBUG [2018-12-28 15:20:30,283] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with userOrder as ( select t.userId userId, t.indexUser indexUser from ( select 278852 as userId, 0 as indexUser from dual union select 280251 as userId, 1 as indexUser from dual union select 280262 as userId, 2 as indexUser from dual union select 249090 as userId, 3 as indexUser from dual union select 257350 as userId, 4 as indexUser from dual union select 250180 as userId, 5 as indexUser from dual union select 235597 as userId, 6 as indexUser from dual union select 238867 as userId, 7 as indexUser from dual union select 259960 as userId, 8 as indexUser from dual union select 236127 as userId, 9 as indexUser from dual union select 283034 as userId, 10 as indexUser from dual union select 239034 as userId, 11 as indexUser from dual union select 289448 as userId, 12 as indexUser from dual union select 288962 as userId, 13 as indexUser from dual union select 289275 as userId, 14 as indexUser from dual union select 289157 as userId, 15 as indexUser from dual union select 280255 as userId, 16 as indexUser from dual union select 235601 as userId, 17 as indexUser from dual union select 283633 as userId, 18 as indexUser from dual union select 230671 as userId, 19 as indexUser from dual ) t ), tagOrder as ( select t.tagId tagId, t.indexTag indexTag from ( select '4227fcaf30294a01b83efd07267e4c25' as tagId, 0 as indexTag from dual union select '7be39893b3e24668b7621a9542ad9406' as tagId, 1 as indexTag from dual union select '55ed385129f646b9892d0fe95bbcf908' as tagId, 2 as indexTag from dual union select '57c52bd450574ff9a70af4adbe38c926' as tagId, 3 as indexTag from dual union select '6e6bd2c882cb4d5a8c82030ce58f3322' as tagId, 4 as indexTag from dual union select 'bd98285f271d48e1930ed899cf039a49' as tagId, 5 as indexTag from dual union select 'cfb0cee7eb25489799d30d8c6b2342ee' as tagId, 6 as indexTag from dual ) t ), sales as( select pss.userid userId, pss.tag_id tagId, sum(pss.amount) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and pss.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) group by pss.userid, pss.tag_id), salesplan as ( select spi.plan_sale planSale, spi.flighy_name flighyName, spi.user_id userId, spi.tag_id tagId from SALE_PLAN_INFO spi where spi.execute_month=? and spi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and spi.user_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and spi.del_flag='1' ), visitinfo as ( select bi.userid userId, vi.tag_id tagId, vi.intend_degree intendDegree, vi.add_date addDate from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) ), visitintendStatistics as ( select v1.userId userId, v1.tagId tagId, v1.intendDegree visitIntent from visitinfo v1 where not exists ( select 'x' from visitinfo v2 where v1.userId = v2.userId and v1.tagId = v2.tagId and v1.addDate < v2.addDate ) ), visitedcount as ( select vi.userId userId,vi.tagId tagId,count(1) visitedNum from visitinfo vi group by vi.userId,vi.tagId ), visitplancount as ( select vp.buyer_userid userId,vpi.tag_id tagId,count(1) visitplancount from visited_plan vp left join visite_plan_intend vpi on vp.id = vpi.visited_plan_id where vp.visit_time >= to_date(?||'01','yyyyMMdd') and vp.visit_time < add_months(to_date(?||'01','yyyyMMdd'),1) and vp.visited_goal = '2' and vp.buyer_userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vpi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by vp.buyer_userid,vpi.tag_id ), tmpvisitcount as ( select bi.userid userId, vi.tag_id tagId, count(1) tmpvisitcount from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_type = '3' and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by bi.userid,vi.tag_id ) select uo.userId, tor.tagId, sp.flighyName flighyName, sp.planSale planSale, nvl(s.amount,0) amount, nvl(s.sellin,0) sellin, case when sp.planSale is null then null when s.amount is null then 0 when sp.planSale = 0 then null else floor(s.amount*100/sp.planSale) end as pase, vis.visitIntent visitIntent, nvl(vc.visitedNum,0) visitedNum, nvl(vpc.visitplancount,0)+nvl(tvc.tmpvisitcount,0) as visitPlanNum from userOrder uo join tagOrder tor on 1=1 left join salesplan sp on uo.userId = sp.userId and tor.tagId=sp.tagId left join sales s on uo.userId = s.userId and tor.tagId=s.tagId left join visitintendStatistics vis on uo.userId = vis.userId and tor.tagId=vis.tagId left join visitedcount vc on uo.userId = vc.userId and tor.tagId=vc.tagId left join visitplancount vpc on uo.userId = vpc.userId and tor.tagId=vpc.tagId left join tmpvisitcount tvc on uo.userId = tvc.userId and tor.tagId=tvc.tagId order by uo.indexUser,tor.indexTag 
DEBUG [2018-12-28 15:20:30,285] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String)
DEBUG [2018-12-28 15:20:30,378] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 140
DEBUG [2018-12-28 15:20:30,378] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e3bf76a]
DEBUG [2018-12-28 15:20:30,927] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:20:34,462] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:20:34,965] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:20:34,965] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:20:38,205  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:20:39,117] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectSaleStatisticsDetail begin
INFO  [2018-12-28 15:20:39,117] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - productSalePlanQueryDto:{"cityList":[],"countyList":["3722"],"month":"201812","orderByColumn":"90","orderByType":"2","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceList":[],"tagId":"4227fcaf30294a01b83efd07267e4c25","tagIdList":["4227fcaf30294a01b83efd07267e4c25","7be39893b3e24668b7621a9542ad9406","55ed385129f646b9892d0fe95bbcf908","57c52bd450574ff9a70af4adbe38c926","6e6bd2c882cb4d5a8c82030ce58f3322","bd98285f271d48e1930ed899cf039a49","cfb0cee7eb25489799d30d8c6b2342ee"]}
DEBUG [2018-12-28 15:20:39,118] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:20:39,118] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@775fbf62] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:20:39,119] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@31683223] will not be managed by Spring
DEBUG [2018-12-28 15:20:39,119] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select count(1) from(with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime desc nulls last,u.username) 
DEBUG [2018-12-28 15:20:39,122] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
pagination sql : select * from ( select row_limit.*, rownum rownum_ from (with userplan as (
    SELECT
    spi1.user_id user_id,
    nvl(sum(spi1.plan_sale),0) plan_sale
    FROM
    SALE_PLAN_INFO spi1
    WHERE
    spi1.execute_month = ?
    AND spi1.del_flag = '1'
    group by spi1.user_id
    ),
    salesgroup as(
    select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin
    from PRODUCT_SALE_STATISTICS pss
    where pss.statistics_month = ?
    and pss.del_flag = '1'
    group by pss.userid),

    visitTimeInfo as(
    select t.userid userid, max(t.lastVisitTime) lastVisitTime from (
    SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime
    FROM logistics_manage lm
    INNER JOIN order_info oi
    ON lm.reor_code = oi.order_code
    WHERE lm.logistics_status = '8'
    AND lm.logistics_type = '01'
    group by oi.customer_user_id
    union all
    select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime
    from visited_buyerinfo vb
    where vb.real_buyer_id is not null
    and vb.del_flag = '1'
    group by vb.real_buyer_id) t
    group by t.userid
    )
    select u.userid userId,
    u.username userName,
    cci.month_sales monthSales,
    case
    when cci.month_sales < 50 then
    'D'
    when cci.month_sales >= 50 and cci.month_sales < 100 then
    'C'
    when cci.month_sales >= 100 and cci.month_sales < 200 then
    'B'
    when cci.month_sales >= 200 and cci.month_sales < 500 then
    'A'
    when cci.month_sales >= 500 then
    'S'
    else
    'D'
    end as userLevel,
    to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate,
    bi.delflag delflag
    from buyerinfo bi
    left join users u on bi.userid = u.userid
    LEFT JOIN userplan up ON bi.userid = up.user_id
    LEFT JOIN salesgroup sg ON bi.userid = sg.userid
    left join crm_company_info cci on u.userid = cci.user_id
    left join visitTimeInfo vti on bi.userid=vti.userid
    where bi.buyer_type is not null
     
       
        and (
          bi.county in
            (
              ?
            ) 
        )
       
     
    AND (
    bi.delflag = '1'
    OR (
    bi.delflag = '0'
    AND (up.plan_sale > 0 or sg.amount>0)))
     
     
      order by vti.lastVisitTime desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0
DEBUG [2018-12-28 15:20:40,082] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select * from ( select row_limit.*, rownum rownum_ from (with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0 
DEBUG [2018-12-28 15:20:40,083] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
INFO  [2018-12-28 15:20:40,778] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:20:40,937] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG [2018-12-28 15:20:41,022] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 20
DEBUG [2018-12-28 15:20:41,022] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@775fbf62]
DEBUG [2018-12-28 15:20:41,022] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:20:41,023] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c423a] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:20:41,026] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@14a464a9] will not be managed by Spring
DEBUG [2018-12-28 15:20:41,027] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with userOrder as ( select t.userId userId, t.indexUser indexUser from ( select 288962 as userId, 0 as indexUser from dual union select 225821 as userId, 1 as indexUser from dual union select 280251 as userId, 2 as indexUser from dual union select 225830 as userId, 3 as indexUser from dual union select 235597 as userId, 4 as indexUser from dual union select 289281 as userId, 5 as indexUser from dual union select 283027 as userId, 6 as indexUser from dual union select 289382 as userId, 7 as indexUser from dual union select 289272 as userId, 8 as indexUser from dual union select 286914 as userId, 9 as indexUser from dual union select 289157 as userId, 10 as indexUser from dual union select 289275 as userId, 11 as indexUser from dual union select 289211 as userId, 12 as indexUser from dual union select 289273 as userId, 13 as indexUser from dual union select 280262 as userId, 14 as indexUser from dual union select 284146 as userId, 15 as indexUser from dual union select 283633 as userId, 16 as indexUser from dual union select 285626 as userId, 17 as indexUser from dual union select 283492 as userId, 18 as indexUser from dual union select 278852 as userId, 19 as indexUser from dual ) t ), tagOrder as ( select t.tagId tagId, t.indexTag indexTag from ( select '4227fcaf30294a01b83efd07267e4c25' as tagId, 0 as indexTag from dual union select '7be39893b3e24668b7621a9542ad9406' as tagId, 1 as indexTag from dual union select '55ed385129f646b9892d0fe95bbcf908' as tagId, 2 as indexTag from dual union select '57c52bd450574ff9a70af4adbe38c926' as tagId, 3 as indexTag from dual union select '6e6bd2c882cb4d5a8c82030ce58f3322' as tagId, 4 as indexTag from dual union select 'bd98285f271d48e1930ed899cf039a49' as tagId, 5 as indexTag from dual union select 'cfb0cee7eb25489799d30d8c6b2342ee' as tagId, 6 as indexTag from dual ) t ), sales as( select pss.userid userId, pss.tag_id tagId, sum(pss.amount) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and pss.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) group by pss.userid, pss.tag_id), salesplan as ( select spi.plan_sale planSale, spi.flighy_name flighyName, spi.user_id userId, spi.tag_id tagId from SALE_PLAN_INFO spi where spi.execute_month=? and spi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and spi.user_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and spi.del_flag='1' ), visitinfo as ( select bi.userid userId, vi.tag_id tagId, vi.intend_degree intendDegree, vi.add_date addDate from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) ), visitintendStatistics as ( select v1.userId userId, v1.tagId tagId, v1.intendDegree visitIntent from visitinfo v1 where not exists ( select 'x' from visitinfo v2 where v1.userId = v2.userId and v1.tagId = v2.tagId and v1.addDate < v2.addDate ) ), visitedcount as ( select vi.userId userId,vi.tagId tagId,count(1) visitedNum from visitinfo vi group by vi.userId,vi.tagId ), visitplancount as ( select vp.buyer_userid userId,vpi.tag_id tagId,count(1) visitplancount from visited_plan vp left join visite_plan_intend vpi on vp.id = vpi.visited_plan_id where vp.visit_time >= to_date(?||'01','yyyyMMdd') and vp.visit_time < add_months(to_date(?||'01','yyyyMMdd'),1) and vp.visited_goal = '2' and vp.buyer_userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vpi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by vp.buyer_userid,vpi.tag_id ), tmpvisitcount as ( select bi.userid userId, vi.tag_id tagId, count(1) tmpvisitcount from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_type = '3' and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by bi.userid,vi.tag_id ) select uo.userId, tor.tagId, sp.flighyName flighyName, sp.planSale planSale, nvl(s.amount,0) amount, nvl(s.sellin,0) sellin, case when sp.planSale is null then null when s.amount is null then 0 when sp.planSale = 0 then null else floor(s.amount*100/sp.planSale) end as pase, vis.visitIntent visitIntent, nvl(vc.visitedNum,0) visitedNum, nvl(vpc.visitplancount,0)+nvl(tvc.tmpvisitcount,0) as visitPlanNum from userOrder uo join tagOrder tor on 1=1 left join salesplan sp on uo.userId = sp.userId and tor.tagId=sp.tagId left join sales s on uo.userId = s.userId and tor.tagId=s.tagId left join visitintendStatistics vis on uo.userId = vis.userId and tor.tagId=vis.tagId left join visitedcount vc on uo.userId = vc.userId and tor.tagId=vc.tagId left join visitplancount vpc on uo.userId = vpc.userId and tor.tagId=vpc.tagId left join tmpvisitcount tvc on uo.userId = tvc.userId and tor.tagId=tvc.tagId order by uo.indexUser,tor.indexTag 
DEBUG [2018-12-28 15:20:41,029] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String)
DEBUG [2018-12-28 15:20:41,147] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 140
DEBUG [2018-12-28 15:20:41,147] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c423a]
INFO  [2018-12-28 15:20:41,280] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:20:41,280] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:20:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:20:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:20:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:20:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:20:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:20:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:20:46,645] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:20:46,647] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:20:47,089] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:20:47,591] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:20:47,591] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:20:48,289] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectSaleStatisticsDetail begin
INFO  [2018-12-28 15:20:48,290] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - productSalePlanQueryDto:{"cityList":[],"countyList":["3722"],"month":"201812","orderByColumn":"90","orderByType":"1","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceList":[],"tagId":"4227fcaf30294a01b83efd07267e4c25","tagIdList":["4227fcaf30294a01b83efd07267e4c25","7be39893b3e24668b7621a9542ad9406","55ed385129f646b9892d0fe95bbcf908","57c52bd450574ff9a70af4adbe38c926","6e6bd2c882cb4d5a8c82030ce58f3322","bd98285f271d48e1930ed899cf039a49","cfb0cee7eb25489799d30d8c6b2342ee"]}
DEBUG [2018-12-28 15:20:48,290] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:20:48,290] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ca966a] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:20:48,291] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@7d660d1c] will not be managed by Spring
DEBUG [2018-12-28 15:20:48,292] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select count(1) from(with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime asc nulls FIRST ,u.username) 
DEBUG [2018-12-28 15:20:48,292] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
pagination sql : select * from ( select row_limit.*, rownum rownum_ from (with userplan as (
    SELECT
    spi1.user_id user_id,
    nvl(sum(spi1.plan_sale),0) plan_sale
    FROM
    SALE_PLAN_INFO spi1
    WHERE
    spi1.execute_month = ?
    AND spi1.del_flag = '1'
    group by spi1.user_id
    ),
    salesgroup as(
    select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin
    from PRODUCT_SALE_STATISTICS pss
    where pss.statistics_month = ?
    and pss.del_flag = '1'
    group by pss.userid),

    visitTimeInfo as(
    select t.userid userid, max(t.lastVisitTime) lastVisitTime from (
    SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime
    FROM logistics_manage lm
    INNER JOIN order_info oi
    ON lm.reor_code = oi.order_code
    WHERE lm.logistics_status = '8'
    AND lm.logistics_type = '01'
    group by oi.customer_user_id
    union all
    select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime
    from visited_buyerinfo vb
    where vb.real_buyer_id is not null
    and vb.del_flag = '1'
    group by vb.real_buyer_id) t
    group by t.userid
    )
    select u.userid userId,
    u.username userName,
    cci.month_sales monthSales,
    case
    when cci.month_sales < 50 then
    'D'
    when cci.month_sales >= 50 and cci.month_sales < 100 then
    'C'
    when cci.month_sales >= 100 and cci.month_sales < 200 then
    'B'
    when cci.month_sales >= 200 and cci.month_sales < 500 then
    'A'
    when cci.month_sales >= 500 then
    'S'
    else
    'D'
    end as userLevel,
    to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate,
    bi.delflag delflag
    from buyerinfo bi
    left join users u on bi.userid = u.userid
    LEFT JOIN userplan up ON bi.userid = up.user_id
    LEFT JOIN salesgroup sg ON bi.userid = sg.userid
    left join crm_company_info cci on u.userid = cci.user_id
    left join visitTimeInfo vti on bi.userid=vti.userid
    where bi.buyer_type is not null
     
       
        and (
          bi.county in
            (
              ?
            ) 
        )
       
     
    AND (
    bi.delflag = '1'
    OR (
    bi.delflag = '0'
    AND (up.plan_sale > 0 or sg.amount>0)))
     
      order by vti.lastVisitTime asc nulls FIRST ,u.username ) row_limit where rownum <= 20 ) where rownum_ >0
DEBUG [2018-12-28 15:20:49,234] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select * from ( select row_limit.*, rownum rownum_ from (with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime asc nulls FIRST ,u.username ) row_limit where rownum <= 20 ) where rownum_ >0 
DEBUG [2018-12-28 15:20:49,235] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
DEBUG [2018-12-28 15:20:50,189] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 20
DEBUG [2018-12-28 15:20:50,190] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ca966a]
DEBUG [2018-12-28 15:20:50,190] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:20:50,190] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a83da0c] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:20:50,193] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@6b1a3adc] will not be managed by Spring
DEBUG [2018-12-28 15:20:50,194] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with userOrder as ( select t.userId userId, t.indexUser indexUser from ( select 257350 as userId, 0 as indexUser from dual union select 259960 as userId, 1 as indexUser from dual union select 239034 as userId, 2 as indexUser from dual union select 289448 as userId, 3 as indexUser from dual union select 225809 as userId, 4 as indexUser from dual union select 249090 as userId, 5 as indexUser from dual union select 230671 as userId, 6 as indexUser from dual union select 235601 as userId, 7 as indexUser from dual union select 236000 as userId, 8 as indexUser from dual union select 236127 as userId, 9 as indexUser from dual union select 241246 as userId, 10 as indexUser from dual union select 225817 as userId, 11 as indexUser from dual union select 280239 as userId, 12 as indexUser from dual union select 289303 as userId, 13 as indexUser from dual union select 238867 as userId, 14 as indexUser from dual union select 280255 as userId, 15 as indexUser from dual union select 225839 as userId, 16 as indexUser from dual union select 283034 as userId, 17 as indexUser from dual union select 250180 as userId, 18 as indexUser from dual union select 278852 as userId, 19 as indexUser from dual ) t ), tagOrder as ( select t.tagId tagId, t.indexTag indexTag from ( select '4227fcaf30294a01b83efd07267e4c25' as tagId, 0 as indexTag from dual union select '7be39893b3e24668b7621a9542ad9406' as tagId, 1 as indexTag from dual union select '55ed385129f646b9892d0fe95bbcf908' as tagId, 2 as indexTag from dual union select '57c52bd450574ff9a70af4adbe38c926' as tagId, 3 as indexTag from dual union select '6e6bd2c882cb4d5a8c82030ce58f3322' as tagId, 4 as indexTag from dual union select 'bd98285f271d48e1930ed899cf039a49' as tagId, 5 as indexTag from dual union select 'cfb0cee7eb25489799d30d8c6b2342ee' as tagId, 6 as indexTag from dual ) t ), sales as( select pss.userid userId, pss.tag_id tagId, sum(pss.amount) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and pss.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) group by pss.userid, pss.tag_id), salesplan as ( select spi.plan_sale planSale, spi.flighy_name flighyName, spi.user_id userId, spi.tag_id tagId from SALE_PLAN_INFO spi where spi.execute_month=? and spi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and spi.user_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and spi.del_flag='1' ), visitinfo as ( select bi.userid userId, vi.tag_id tagId, vi.intend_degree intendDegree, vi.add_date addDate from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) ), visitintendStatistics as ( select v1.userId userId, v1.tagId tagId, v1.intendDegree visitIntent from visitinfo v1 where not exists ( select 'x' from visitinfo v2 where v1.userId = v2.userId and v1.tagId = v2.tagId and v1.addDate < v2.addDate ) ), visitedcount as ( select vi.userId userId,vi.tagId tagId,count(1) visitedNum from visitinfo vi group by vi.userId,vi.tagId ), visitplancount as ( select vp.buyer_userid userId,vpi.tag_id tagId,count(1) visitplancount from visited_plan vp left join visite_plan_intend vpi on vp.id = vpi.visited_plan_id where vp.visit_time >= to_date(?||'01','yyyyMMdd') and vp.visit_time < add_months(to_date(?||'01','yyyyMMdd'),1) and vp.visited_goal = '2' and vp.buyer_userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vpi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by vp.buyer_userid,vpi.tag_id ), tmpvisitcount as ( select bi.userid userId, vi.tag_id tagId, count(1) tmpvisitcount from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_type = '3' and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by bi.userid,vi.tag_id ) select uo.userId, tor.tagId, sp.flighyName flighyName, sp.planSale planSale, nvl(s.amount,0) amount, nvl(s.sellin,0) sellin, case when sp.planSale is null then null when s.amount is null then 0 when sp.planSale = 0 then null else floor(s.amount*100/sp.planSale) end as pase, vis.visitIntent visitIntent, nvl(vc.visitedNum,0) visitedNum, nvl(vpc.visitplancount,0)+nvl(tvc.tmpvisitcount,0) as visitPlanNum from userOrder uo join tagOrder tor on 1=1 left join salesplan sp on uo.userId = sp.userId and tor.tagId=sp.tagId left join sales s on uo.userId = s.userId and tor.tagId=s.tagId left join visitintendStatistics vis on uo.userId = vis.userId and tor.tagId=vis.tagId left join visitedcount vc on uo.userId = vc.userId and tor.tagId=vc.tagId left join visitplancount vpc on uo.userId = vpc.userId and tor.tagId=vpc.tagId left join tmpvisitcount tvc on uo.userId = tvc.userId and tor.tagId=tvc.tagId order by uo.indexUser,tor.indexTag 
DEBUG [2018-12-28 15:20:50,195] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 201812(String), 201812(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String)
DEBUG [2018-12-28 15:20:50,274] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 140
DEBUG [2018-12-28 15:20:50,274] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a83da0c]
DEBUG [2018-12-28 15:20:50,946] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:20:53,402] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:20:53,904] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:20:53,905] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:20:54,031] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:20:54,870] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:20:54,870] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:20:54,881] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225817","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港省平台","type":"3","typeText":"待拜访","userName":"香港省平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225830","custype":"3","latitude":"39.915707","longitude":"116.436452","shopName":"香港天联通讯市场","type":"3","typeText":"待拜访","userName":"香港天联通讯市场"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235597","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"huanghao02","type":"3","typeText":"待拜访","userName":"huanghao02"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"238867","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"lishinichi","type":"3","typeText":"待拜访","userName":"lishinichi"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"239034","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhengshitest","type":"3","typeText":"待拜访","userName":"zhengshitest"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"241246","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台*t1","type":"3","typeText":"待拜访","userName":"香港县平台*t1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"249090","custype":"3","latitude":"39.953141","longitude":"116.378161","shopName":"ZHANGW","type":"3","typeText":"待拜访","userName":"ZHANGW"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"250180","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chenyong","type":"3","typeText":"待拜访","userName":"chenyong"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"257350","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"ceshi04","type":"3","typeText":"待拜访","userName":"ceshi04"},{"conAddress":"香港香港特别行政区九龙城","conProvince":"香港","consCounty":"九龙城","cusUserId":"259800","custype":"3","latitude":"39.915751","longitude":"116.436903","shopName":"香港天联供货商","type":"3","typeText":"待拜访","userName":"香港天联供货商"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"259960","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"naliland","type":"3","typeText":"待拜访","userName":"naliland"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"278852","custype":"3","latitude":"39.953132","longitude":"116.378176","shopName":"13716409","type":"3","typeText":"待拜访","userName":"13716409"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280239","custype":"3","latitude":"39.953133","longitude":"116.378177","shopName":"测试店铺1258","type":"3","typeText":"待拜访","userName":"测试店铺1258"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280252","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangyuanqing","type":"3","typeText":"待拜访","userName":"zhangyuanqing"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280255","custype":"3","latitude":"40.095145","longitude":"116.296211","shopName":"天联福卡通讯店","type":"3","typeText":"待拜访","userName":"天联福卡通讯店"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280261","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangzhaohui","type":"3","typeText":"待拜访","userName":"zhangzhaohui"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280262","custype":"3","latitude":"39.915715","longitude":"116.436683","shopName":"HenryMA","type":"3","typeText":"待拜访","userName":"HenryMA"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280384","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chencheng","type":"3","typeText":"待拜访","userName":"chencheng"},{"conAddress":"香港香港特别行政区湾仔","conProvince":"香港","consCounty":"湾仔","cusUserId":"280385","custype":"3","latitude":"39.915719","longitude":"116.436944","shopName":"jefference3000","type":"3","typeText":"待拜访","userName":"jefference3000"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280387","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"cfdzhy","type":"3","typeText":"待拜访","userName":"cfdzhy"},{"conAddress":"香港香港特别行政区观塘","conProvince":"香港","consCounty":"观塘","cusUserId":"280388","custype":"3","latitude":"39.915939","longitude":"116.43776","shopName":"yanxiaof","type":"3","typeText":"待拜访","userName":"yanxiaof"},{"conAddress":"香港香港特别行政区大埔","conProvince":"香港","consCounty":"大埔","cusUserId":"280548","custype":"3","latitude":"39.915661","longitude":"116.436938","shopName":"huyanling","type":"3","typeText":"待拜访","userName":"huyanling"},{"conAddress":"香港香港特别行政区香港特别行政区","conProvince":"香港","consCounty":"香港特别行政区","cusUserId":"280811","custype":"3","latitude":"39.953182","longitude":"116.378298","shopName":"13kg丝-这","type":"3","typeText":"待拜访","userName":"13kg丝-这"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280840","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"测试账号HK","type":"3","typeText":"待拜访","userName":"测试账号HK"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283027","custype":"3","latitude":"39.915782","longitude":"116.436853","shopName":"香港天联供货商1","type":"3","typeText":"待拜访","userName":"香港天联供货商1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283034","custype":"3","latitude":"39.95382","longitude":"116.374779","shopName":"wuchuming","type":"3","typeText":"待拜访","userName":"wuchuming"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283492","custype":"3","latitude":"39.953263","longitude":"116.378074","shopName":"测试客户1","type":"3","typeText":"待拜访","userName":"测试客户1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283633","custype":"3","latitude":"35.604376","longitude":"103.243021","shopName":"张测试001","type":"3","typeText":"待拜访","userName":"张测试001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"284146","custype":"3","latitude":"40.065336","longitude":"116.375398","shopName":"运营商001","type":"3","typeText":"待拜访","userName":"运营商001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"285626","custype":"3","latitude":"39.915498","longitude":"116.436445","shopName":"正式测试客户3","type":"3","typeText":"待拜访","userName":"正式测试客户3"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"286036","custype":"3","latitude":"39.915957","longitude":"116.436748","shopName":"香港终端测试组","type":"3","typeText":"待拜访","userName":"香港终端测试组"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"286914","custype":"3","latitude":"0","longitude":"0","shopName":"香港测试数据","type":"3","typeText":"待拜访","userName":"香港测试数据"},{"conAddress":"香港香港特别行政区香港市区内八宝山街道办事处","conProvince":"香港","consCounty":"香港市区内","consTown":"八宝山街道办事处","cusUserId":"288962","custype":"3","latitude":"39.915865","longitude":"116.436495","shopName":"北京客户2","type":"3","typeText":"待拜访","userName":"北京客户2"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289011","custype":"3","latitude":"39.915832","longitude":"116.436957","shopName":"测试微信注册","type":"3","typeText":"待拜访","userName":"测试微信注册"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289272","custype":"3","latitude":"39.915738","longitude":"116.436701","shopName":"海淀区客户不要动","type":"3","typeText":"待拜访","userName":"海淀区客户不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289273","custype":"3","latitude":"39.915896","longitude":"116.43673","shopName":"测试数据不要动","type":"3","typeText":"待拜访","userName":"测试数据不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289275","custype":"3","latitude":"39.915769","longitude":"116.437027","shopName":"啊啊撒","type":"3","typeText":"待拜访","userName":"啊啊撒"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289340","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chengjj","type":"3","typeText":"待拜访","userName":"chengjj"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:20:54,882] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:20:54,883] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:20:54,883] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:20:54,926] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:20:54,926] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:20:54,937] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225817","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港省平台","type":"3","typeText":"待拜访","userName":"香港省平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225830","custype":"3","latitude":"39.915707","longitude":"116.436452","shopName":"香港天联通讯市场","type":"3","typeText":"待拜访","userName":"香港天联通讯市场"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235597","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"huanghao02","type":"3","typeText":"待拜访","userName":"huanghao02"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"238867","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"lishinichi","type":"3","typeText":"待拜访","userName":"lishinichi"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"239034","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhengshitest","type":"3","typeText":"待拜访","userName":"zhengshitest"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"241246","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台*t1","type":"3","typeText":"待拜访","userName":"香港县平台*t1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"249090","custype":"3","latitude":"39.953141","longitude":"116.378161","shopName":"ZHANGW","type":"3","typeText":"待拜访","userName":"ZHANGW"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"250180","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chenyong","type":"3","typeText":"待拜访","userName":"chenyong"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"257350","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"ceshi04","type":"3","typeText":"待拜访","userName":"ceshi04"},{"conAddress":"香港香港特别行政区九龙城","conProvince":"香港","consCounty":"九龙城","cusUserId":"259800","custype":"3","latitude":"39.915751","longitude":"116.436903","shopName":"香港天联供货商","type":"3","typeText":"待拜访","userName":"香港天联供货商"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"259960","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"naliland","type":"3","typeText":"待拜访","userName":"naliland"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"278852","custype":"3","latitude":"39.953132","longitude":"116.378176","shopName":"13716409","type":"3","typeText":"待拜访","userName":"13716409"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280239","custype":"3","latitude":"39.953133","longitude":"116.378177","shopName":"测试店铺1258","type":"3","typeText":"待拜访","userName":"测试店铺1258"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280252","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangyuanqing","type":"3","typeText":"待拜访","userName":"zhangyuanqing"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280255","custype":"3","latitude":"40.095145","longitude":"116.296211","shopName":"天联福卡通讯店","type":"3","typeText":"待拜访","userName":"天联福卡通讯店"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280261","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangzhaohui","type":"3","typeText":"待拜访","userName":"zhangzhaohui"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280262","custype":"3","latitude":"39.915715","longitude":"116.436683","shopName":"HenryMA","type":"3","typeText":"待拜访","userName":"HenryMA"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280384","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chencheng","type":"3","typeText":"待拜访","userName":"chencheng"},{"conAddress":"香港香港特别行政区湾仔","conProvince":"香港","consCounty":"湾仔","cusUserId":"280385","custype":"3","latitude":"39.915719","longitude":"116.436944","shopName":"jefference3000","type":"3","typeText":"待拜访","userName":"jefference3000"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280387","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"cfdzhy","type":"3","typeText":"待拜访","userName":"cfdzhy"},{"conAddress":"香港香港特别行政区观塘","conProvince":"香港","consCounty":"观塘","cusUserId":"280388","custype":"3","latitude":"39.915939","longitude":"116.43776","shopName":"yanxiaof","type":"3","typeText":"待拜访","userName":"yanxiaof"},{"conAddress":"香港香港特别行政区大埔","conProvince":"香港","consCounty":"大埔","cusUserId":"280548","custype":"3","latitude":"39.915661","longitude":"116.436938","shopName":"huyanling","type":"3","typeText":"待拜访","userName":"huyanling"},{"conAddress":"香港香港特别行政区香港特别行政区","conProvince":"香港","consCounty":"香港特别行政区","cusUserId":"280811","custype":"3","latitude":"39.953182","longitude":"116.378298","shopName":"13kg丝-这","type":"3","typeText":"待拜访","userName":"13kg丝-这"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280840","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"测试账号HK","type":"3","typeText":"待拜访","userName":"测试账号HK"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283027","custype":"3","latitude":"39.915782","longitude":"116.436853","shopName":"香港天联供货商1","type":"3","typeText":"待拜访","userName":"香港天联供货商1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283034","custype":"3","latitude":"39.95382","longitude":"116.374779","shopName":"wuchuming","type":"3","typeText":"待拜访","userName":"wuchuming"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283492","custype":"3","latitude":"39.953263","longitude":"116.378074","shopName":"测试客户1","type":"3","typeText":"待拜访","userName":"测试客户1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283633","custype":"3","latitude":"35.604376","longitude":"103.243021","shopName":"张测试001","type":"3","typeText":"待拜访","userName":"张测试001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"284146","custype":"3","latitude":"40.065336","longitude":"116.375398","shopName":"运营商001","type":"3","typeText":"待拜访","userName":"运营商001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"285626","custype":"3","latitude":"39.915498","longitude":"116.436445","shopName":"正式测试客户3","type":"3","typeText":"待拜访","userName":"正式测试客户3"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"286036","custype":"3","latitude":"39.915957","longitude":"116.436748","shopName":"香港终端测试组","type":"3","typeText":"待拜访","userName":"香港终端测试组"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"286914","custype":"3","latitude":"0","longitude":"0","shopName":"香港测试数据","type":"3","typeText":"待拜访","userName":"香港测试数据"},{"conAddress":"香港香港特别行政区香港市区内八宝山街道办事处","conProvince":"香港","consCounty":"香港市区内","consTown":"八宝山街道办事处","cusUserId":"288962","custype":"3","latitude":"39.915865","longitude":"116.436495","shopName":"北京客户2","type":"3","typeText":"待拜访","userName":"北京客户2"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289011","custype":"3","latitude":"39.915832","longitude":"116.436957","shopName":"测试微信注册","type":"3","typeText":"待拜访","userName":"测试微信注册"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289272","custype":"3","latitude":"39.915738","longitude":"116.436701","shopName":"海淀区客户不要动","type":"3","typeText":"待拜访","userName":"海淀区客户不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289273","custype":"3","latitude":"39.915896","longitude":"116.43673","shopName":"测试数据不要动","type":"3","typeText":"待拜访","userName":"测试数据不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289275","custype":"3","latitude":"39.915769","longitude":"116.437027","shopName":"啊啊撒","type":"3","typeText":"待拜访","userName":"啊啊撒"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289340","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chengjj","type":"3","typeText":"待拜访","userName":"chengjj"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:20:54,937] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:20:54,939] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:20:54,939] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:20:55,924] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectProductSalePlanHeader begin
DEBUG [2018-12-28 15:20:55,924] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:20:55,924] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f11de16] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:20:55,925] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@4581483d] will not be managed by Spring
DEBUG [2018-12-28 15:20:55,925] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with saleplaninfo as (select spi.tag_id from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.del_flag = '1' group by spi.tag_id) select s.TAG_ID tagId, tm.TAG_NAME tagName, nvl(tm.cxorder,'0') sellinFlag from saleplaninfo s inner join TAG_MANAGE tm on tm.TAG_ID = s.TAG_ID order by tm.display_seq nulls last, tm.tag_name 
DEBUG [2018-12-28 15:20:55,925] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String)
DEBUG [2018-12-28 15:20:55,993] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 7
DEBUG [2018-12-28 15:20:55,993] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f11de16]
INFO  [2018-12-28 15:20:56,121] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectSaleStatisticsDetail begin
INFO  [2018-12-28 15:20:56,122] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - productSalePlanQueryDto:{"cityList":[],"countyList":["3722"],"month":"201812","orderByColumn":"01","orderByType":"2","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceList":[],"tagId":"4227fcaf30294a01b83efd07267e4c25","tagIdList":["4227fcaf30294a01b83efd07267e4c25","7be39893b3e24668b7621a9542ad9406","55ed385129f646b9892d0fe95bbcf908","57c52bd450574ff9a70af4adbe38c926","6e6bd2c882cb4d5a8c82030ce58f3322","bd98285f271d48e1930ed899cf039a49","cfb0cee7eb25489799d30d8c6b2342ee"]}
DEBUG [2018-12-28 15:20:56,122] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:20:56,122] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a12c082] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:20:56,123] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@501809f0] will not be managed by Spring
DEBUG [2018-12-28 15:20:56,123] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select count(1) from(with saleplaninfo as ( select distinct spi.user_id user_id, spi.tag_id tag_id, spi.plan_sale plan_sale from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.tag_id = ? and spi.del_flag = '1' ), userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), logisticsSendInfo as( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id ), visitTimeInfo as( select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, case when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'') when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'') when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD') else to_char(vti.lastVisitTime,'yy.MM.DD') end as lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid left join saleplaninfo spi on bi.userid = spi.user_id LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join logisticsSendInfo lsi on bi.userid=lsi.userid left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by spi.plan_sale desc nulls last,u.username) 
DEBUG [2018-12-28 15:20:56,124] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 201812(String), 201812(String), 3722(String)
pagination sql : select * from ( select row_limit.*, rownum rownum_ from (with saleplaninfo as (
    select distinct
    spi.user_id user_id,
    spi.tag_id tag_id,
    spi.plan_sale plan_sale
    from SALE_PLAN_INFO spi
    where spi.execute_month = ?
    and spi.tag_id = ?
    and spi.del_flag = '1'
    ),
    userplan as (
    SELECT
    spi1.user_id user_id,
    nvl(sum(spi1.plan_sale),0) plan_sale
    FROM
    SALE_PLAN_INFO spi1
    WHERE
    spi1.execute_month = ?
    AND spi1.del_flag = '1'
    group by spi1.user_id
    ),
    salesgroup as(
    select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin
    from PRODUCT_SALE_STATISTICS pss
    where pss.statistics_month = ?
    and pss.del_flag = '1'
    group by pss.userid),
    logisticsSendInfo as(
    SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime
    FROM logistics_manage lm
    INNER JOIN order_info oi
    ON lm.reor_code = oi.order_code
    WHERE lm.logistics_status = '8'
    AND lm.logistics_type = '01'
    group by oi.customer_user_id
    ),
    visitTimeInfo as(
    select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime
    from visited_buyerinfo vb
    where vb.real_buyer_id is not null
    and vb.del_flag = '1'
    group by vb.real_buyer_id
    )
    select u.userid userId,
    u.username userName,
    cci.month_sales monthSales,
    case
    when cci.month_sales < 50 then
    'D'
    when cci.month_sales >= 50 and cci.month_sales < 100 then
    'C'
    when cci.month_sales >= 100 and cci.month_sales < 200 then
    'B'
    when cci.month_sales >= 200 and cci.month_sales < 500 then
    'A'
    when cci.month_sales >= 500 then
    'S'
    else
    'D'
    end as userLevel,
    case
    when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'')
    when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'')
    when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD')
    else to_char(vti.lastVisitTime,'yy.MM.DD')
    end as lastVisitDate,
    bi.delflag delflag
    from buyerinfo bi
    left join users u
    on bi.userid = u.userid
    left join saleplaninfo spi
    on bi.userid = spi.user_id
    LEFT JOIN userplan up ON bi.userid = up.user_id
    LEFT JOIN salesgroup sg ON bi.userid = sg.userid
    left join crm_company_info cci
    on u.userid = cci.user_id
    left join logisticsSendInfo lsi on bi.userid=lsi.userid
    left join visitTimeInfo vti on bi.userid=vti.userid
    where bi.buyer_type is not null
     
       
        and (
          bi.county in
            (
              ?
            ) 
        )
       
     
    AND (
    bi.delflag = '1'
    OR (
    bi.delflag = '0'
    AND (up.plan_sale > 0 or sg.amount>0)))
     
     
      order by spi.plan_sale desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0
DEBUG [2018-12-28 15:20:56,427] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select * from ( select row_limit.*, rownum rownum_ from (with saleplaninfo as ( select distinct spi.user_id user_id, spi.tag_id tag_id, spi.plan_sale plan_sale from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.tag_id = ? and spi.del_flag = '1' ), userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), logisticsSendInfo as( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id ), visitTimeInfo as( select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, case when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'') when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'') when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD') else to_char(vti.lastVisitTime,'yy.MM.DD') end as lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid left join saleplaninfo spi on bi.userid = spi.user_id LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join logisticsSendInfo lsi on bi.userid=lsi.userid left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by spi.plan_sale desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0 
DEBUG [2018-12-28 15:20:56,427] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 201812(String), 201812(String), 3722(String)
DEBUG [2018-12-28 15:20:56,711] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 20
DEBUG [2018-12-28 15:20:56,712] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a12c082]
DEBUG [2018-12-28 15:20:56,712] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:20:56,712] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a5f7d07] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:20:56,715] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@78f4a982] will not be managed by Spring
DEBUG [2018-12-28 15:20:56,716] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with userOrder as ( select t.userId userId, t.indexUser indexUser from ( select 278852 as userId, 0 as indexUser from dual union select 280251 as userId, 1 as indexUser from dual union select 280262 as userId, 2 as indexUser from dual union select 249090 as userId, 3 as indexUser from dual union select 257350 as userId, 4 as indexUser from dual union select 250180 as userId, 5 as indexUser from dual union select 235597 as userId, 6 as indexUser from dual union select 238867 as userId, 7 as indexUser from dual union select 259960 as userId, 8 as indexUser from dual union select 236127 as userId, 9 as indexUser from dual union select 283034 as userId, 10 as indexUser from dual union select 239034 as userId, 11 as indexUser from dual union select 289448 as userId, 12 as indexUser from dual union select 288962 as userId, 13 as indexUser from dual union select 289275 as userId, 14 as indexUser from dual union select 289157 as userId, 15 as indexUser from dual union select 280255 as userId, 16 as indexUser from dual union select 235601 as userId, 17 as indexUser from dual union select 283633 as userId, 18 as indexUser from dual union select 230671 as userId, 19 as indexUser from dual ) t ), tagOrder as ( select t.tagId tagId, t.indexTag indexTag from ( select '4227fcaf30294a01b83efd07267e4c25' as tagId, 0 as indexTag from dual union select '7be39893b3e24668b7621a9542ad9406' as tagId, 1 as indexTag from dual union select '55ed385129f646b9892d0fe95bbcf908' as tagId, 2 as indexTag from dual union select '57c52bd450574ff9a70af4adbe38c926' as tagId, 3 as indexTag from dual union select '6e6bd2c882cb4d5a8c82030ce58f3322' as tagId, 4 as indexTag from dual union select 'bd98285f271d48e1930ed899cf039a49' as tagId, 5 as indexTag from dual union select 'cfb0cee7eb25489799d30d8c6b2342ee' as tagId, 6 as indexTag from dual ) t ), sales as( select pss.userid userId, pss.tag_id tagId, sum(pss.amount) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and pss.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) group by pss.userid, pss.tag_id), salesplan as ( select spi.plan_sale planSale, spi.flighy_name flighyName, spi.user_id userId, spi.tag_id tagId from SALE_PLAN_INFO spi where spi.execute_month=? and spi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and spi.user_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and spi.del_flag='1' ), visitinfo as ( select bi.userid userId, vi.tag_id tagId, vi.intend_degree intendDegree, vi.add_date addDate from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) ), visitintendStatistics as ( select v1.userId userId, v1.tagId tagId, v1.intendDegree visitIntent from visitinfo v1 where not exists ( select 'x' from visitinfo v2 where v1.userId = v2.userId and v1.tagId = v2.tagId and v1.addDate < v2.addDate ) ), visitedcount as ( select vi.userId userId,vi.tagId tagId,count(1) visitedNum from visitinfo vi group by vi.userId,vi.tagId ), visitplancount as ( select vp.buyer_userid userId,vpi.tag_id tagId,count(1) visitplancount from visited_plan vp left join visite_plan_intend vpi on vp.id = vpi.visited_plan_id where vp.visit_time >= to_date(?||'01','yyyyMMdd') and vp.visit_time < add_months(to_date(?||'01','yyyyMMdd'),1) and vp.visited_goal = '2' and vp.buyer_userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vpi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by vp.buyer_userid,vpi.tag_id ), tmpvisitcount as ( select bi.userid userId, vi.tag_id tagId, count(1) tmpvisitcount from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_type = '3' and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by bi.userid,vi.tag_id ) select uo.userId, tor.tagId, sp.flighyName flighyName, sp.planSale planSale, nvl(s.amount,0) amount, nvl(s.sellin,0) sellin, case when sp.planSale is null then null when s.amount is null then 0 when sp.planSale = 0 then null else floor(s.amount*100/sp.planSale) end as pase, vis.visitIntent visitIntent, nvl(vc.visitedNum,0) visitedNum, nvl(vpc.visitplancount,0)+nvl(tvc.tmpvisitcount,0) as visitPlanNum from userOrder uo join tagOrder tor on 1=1 left join salesplan sp on uo.userId = sp.userId and tor.tagId=sp.tagId left join sales s on uo.userId = s.userId and tor.tagId=s.tagId left join visitintendStatistics vis on uo.userId = vis.userId and tor.tagId=vis.tagId left join visitedcount vc on uo.userId = vc.userId and tor.tagId=vc.tagId left join visitplancount vpc on uo.userId = vpc.userId and tor.tagId=vpc.tagId left join tmpvisitcount tvc on uo.userId = tvc.userId and tor.tagId=tvc.tagId order by uo.indexUser,tor.indexTag 
DEBUG [2018-12-28 15:20:56,716] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String)
DEBUG [2018-12-28 15:20:56,807] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 140
DEBUG [2018-12-28 15:20:56,807] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a5f7d07]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5542][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:60611<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5542 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5542 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5542 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5542 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5542 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5542 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5542 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5542 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5542 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5542 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 << "Date: Fri, 28 Dec 2018 07:20:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5542 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5542 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5542 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5542 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5542 << Date: Fri, 28 Dec 2018 07:20:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5542 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5542 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5542][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5542][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5542: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5542: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:20:59,717] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:21:00,219] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:21:00,220] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:21:00,956] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 ERROR [2018-12-28 15:21:05,976] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO  [2018-12-28 15:21:06,033] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:21:06,536] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:21:06,536] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:21:08,214  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:21:10,966] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:21:12,218] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectSaleStatisticsDetail begin
INFO  [2018-12-28 15:21:12,219] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - productSalePlanQueryDto:{"cityList":[],"countyList":["3722"],"month":"201812","orderByColumn":"90","orderByType":"2","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceList":[],"tagId":"4227fcaf30294a01b83efd07267e4c25","tagIdList":["4227fcaf30294a01b83efd07267e4c25","7be39893b3e24668b7621a9542ad9406","55ed385129f646b9892d0fe95bbcf908","57c52bd450574ff9a70af4adbe38c926","6e6bd2c882cb4d5a8c82030ce58f3322","bd98285f271d48e1930ed899cf039a49","cfb0cee7eb25489799d30d8c6b2342ee"]}
DEBUG [2018-12-28 15:21:12,219] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:12,219] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd2545e] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:12,220] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@75877194] will not be managed by Spring
DEBUG [2018-12-28 15:21:12,220] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select count(1) from(with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime desc nulls last,u.username) 
DEBUG [2018-12-28 15:21:12,221] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
INFO  [2018-12-28 15:21:12,350] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:21:12,852] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:21:12,853] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
pagination sql : select * from ( select row_limit.*, rownum rownum_ from (with userplan as (
    SELECT
    spi1.user_id user_id,
    nvl(sum(spi1.plan_sale),0) plan_sale
    FROM
    SALE_PLAN_INFO spi1
    WHERE
    spi1.execute_month = ?
    AND spi1.del_flag = '1'
    group by spi1.user_id
    ),
    salesgroup as(
    select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin
    from PRODUCT_SALE_STATISTICS pss
    where pss.statistics_month = ?
    and pss.del_flag = '1'
    group by pss.userid),

    visitTimeInfo as(
    select t.userid userid, max(t.lastVisitTime) lastVisitTime from (
    SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime
    FROM logistics_manage lm
    INNER JOIN order_info oi
    ON lm.reor_code = oi.order_code
    WHERE lm.logistics_status = '8'
    AND lm.logistics_type = '01'
    group by oi.customer_user_id
    union all
    select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime
    from visited_buyerinfo vb
    where vb.real_buyer_id is not null
    and vb.del_flag = '1'
    group by vb.real_buyer_id) t
    group by t.userid
    )
    select u.userid userId,
    u.username userName,
    cci.month_sales monthSales,
    case
    when cci.month_sales < 50 then
    'D'
    when cci.month_sales >= 50 and cci.month_sales < 100 then
    'C'
    when cci.month_sales >= 100 and cci.month_sales < 200 then
    'B'
    when cci.month_sales >= 200 and cci.month_sales < 500 then
    'A'
    when cci.month_sales >= 500 then
    'S'
    else
    'D'
    end as userLevel,
    to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate,
    bi.delflag delflag
    from buyerinfo bi
    left join users u on bi.userid = u.userid
    LEFT JOIN userplan up ON bi.userid = up.user_id
    LEFT JOIN salesgroup sg ON bi.userid = sg.userid
    left join crm_company_info cci on u.userid = cci.user_id
    left join visitTimeInfo vti on bi.userid=vti.userid
    where bi.buyer_type is not null
     
       
        and (
          bi.county in
            (
              ?
            ) 
        )
       
     
    AND (
    bi.delflag = '1'
    OR (
    bi.delflag = '0'
    AND (up.plan_sale > 0 or sg.amount>0)))
     
     
      order by vti.lastVisitTime desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0
DEBUG [2018-12-28 15:21:13,146] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select * from ( select row_limit.*, rownum rownum_ from (with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0 
DEBUG [2018-12-28 15:21:13,146] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
DEBUG [2018-12-28 15:21:14,041] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 20
DEBUG [2018-12-28 15:21:14,041] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd2545e]
DEBUG [2018-12-28 15:21:14,042] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:14,042] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b5edda5] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:14,051] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@479e1bb2] will not be managed by Spring
DEBUG [2018-12-28 15:21:14,052] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with userOrder as ( select t.userId userId, t.indexUser indexUser from ( select 288962 as userId, 0 as indexUser from dual union select 225821 as userId, 1 as indexUser from dual union select 280251 as userId, 2 as indexUser from dual union select 225830 as userId, 3 as indexUser from dual union select 235597 as userId, 4 as indexUser from dual union select 289281 as userId, 5 as indexUser from dual union select 283027 as userId, 6 as indexUser from dual union select 289382 as userId, 7 as indexUser from dual union select 289272 as userId, 8 as indexUser from dual union select 286914 as userId, 9 as indexUser from dual union select 289157 as userId, 10 as indexUser from dual union select 289275 as userId, 11 as indexUser from dual union select 289211 as userId, 12 as indexUser from dual union select 289273 as userId, 13 as indexUser from dual union select 280262 as userId, 14 as indexUser from dual union select 284146 as userId, 15 as indexUser from dual union select 283633 as userId, 16 as indexUser from dual union select 285626 as userId, 17 as indexUser from dual union select 283492 as userId, 18 as indexUser from dual union select 278852 as userId, 19 as indexUser from dual ) t ), tagOrder as ( select t.tagId tagId, t.indexTag indexTag from ( select '4227fcaf30294a01b83efd07267e4c25' as tagId, 0 as indexTag from dual union select '7be39893b3e24668b7621a9542ad9406' as tagId, 1 as indexTag from dual union select '55ed385129f646b9892d0fe95bbcf908' as tagId, 2 as indexTag from dual union select '57c52bd450574ff9a70af4adbe38c926' as tagId, 3 as indexTag from dual union select '6e6bd2c882cb4d5a8c82030ce58f3322' as tagId, 4 as indexTag from dual union select 'bd98285f271d48e1930ed899cf039a49' as tagId, 5 as indexTag from dual union select 'cfb0cee7eb25489799d30d8c6b2342ee' as tagId, 6 as indexTag from dual ) t ), sales as( select pss.userid userId, pss.tag_id tagId, sum(pss.amount) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and pss.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) group by pss.userid, pss.tag_id), salesplan as ( select spi.plan_sale planSale, spi.flighy_name flighyName, spi.user_id userId, spi.tag_id tagId from SALE_PLAN_INFO spi where spi.execute_month=? and spi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and spi.user_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and spi.del_flag='1' ), visitinfo as ( select bi.userid userId, vi.tag_id tagId, vi.intend_degree intendDegree, vi.add_date addDate from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) ), visitintendStatistics as ( select v1.userId userId, v1.tagId tagId, v1.intendDegree visitIntent from visitinfo v1 where not exists ( select 'x' from visitinfo v2 where v1.userId = v2.userId and v1.tagId = v2.tagId and v1.addDate < v2.addDate ) ), visitedcount as ( select vi.userId userId,vi.tagId tagId,count(1) visitedNum from visitinfo vi group by vi.userId,vi.tagId ), visitplancount as ( select vp.buyer_userid userId,vpi.tag_id tagId,count(1) visitplancount from visited_plan vp left join visite_plan_intend vpi on vp.id = vpi.visited_plan_id where vp.visit_time >= to_date(?||'01','yyyyMMdd') and vp.visit_time < add_months(to_date(?||'01','yyyyMMdd'),1) and vp.visited_goal = '2' and vp.buyer_userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vpi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by vp.buyer_userid,vpi.tag_id ), tmpvisitcount as ( select bi.userid userId, vi.tag_id tagId, count(1) tmpvisitcount from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_type = '3' and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by bi.userid,vi.tag_id ) select uo.userId, tor.tagId, sp.flighyName flighyName, sp.planSale planSale, nvl(s.amount,0) amount, nvl(s.sellin,0) sellin, case when sp.planSale is null then null when s.amount is null then 0 when sp.planSale = 0 then null else floor(s.amount*100/sp.planSale) end as pase, vis.visitIntent visitIntent, nvl(vc.visitedNum,0) visitedNum, nvl(vpc.visitplancount,0)+nvl(tvc.tmpvisitcount,0) as visitPlanNum from userOrder uo join tagOrder tor on 1=1 left join salesplan sp on uo.userId = sp.userId and tor.tagId=sp.tagId left join sales s on uo.userId = s.userId and tor.tagId=s.tagId left join visitintendStatistics vis on uo.userId = vis.userId and tor.tagId=vis.tagId left join visitedcount vc on uo.userId = vc.userId and tor.tagId=vc.tagId left join visitplancount vpc on uo.userId = vpc.userId and tor.tagId=vpc.tagId left join tmpvisitcount tvc on uo.userId = tvc.userId and tor.tagId=tvc.tagId order by uo.indexUser,tor.indexTag 
DEBUG [2018-12-28 15:21:14,053] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String)
DEBUG [2018-12-28 15:21:14,146] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 140
DEBUG [2018-12-28 15:21:14,146] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b5edda5]
INFO  [2018-12-28 15:21:18,668] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:21:19,170] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:21:19,170] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:21:20,973] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:21:22,128] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectSaleStatisticsDetail begin
INFO  [2018-12-28 15:21:22,128] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - productSalePlanQueryDto:{"cityList":[],"countyList":["3722"],"month":"201812","orderByColumn":"90","orderByType":"1","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceList":[],"tagId":"4227fcaf30294a01b83efd07267e4c25","tagIdList":["4227fcaf30294a01b83efd07267e4c25","7be39893b3e24668b7621a9542ad9406","55ed385129f646b9892d0fe95bbcf908","57c52bd450574ff9a70af4adbe38c926","6e6bd2c882cb4d5a8c82030ce58f3322","bd98285f271d48e1930ed899cf039a49","cfb0cee7eb25489799d30d8c6b2342ee"]}
DEBUG [2018-12-28 15:21:22,128] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:22,129] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@417496fe] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:22,130] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@153b6d30] will not be managed by Spring
DEBUG [2018-12-28 15:21:22,130] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select count(1) from(with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime asc nulls FIRST ,u.username) 
DEBUG [2018-12-28 15:21:22,131] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
pagination sql : select * from ( select row_limit.*, rownum rownum_ from (with userplan as (
    SELECT
    spi1.user_id user_id,
    nvl(sum(spi1.plan_sale),0) plan_sale
    FROM
    SALE_PLAN_INFO spi1
    WHERE
    spi1.execute_month = ?
    AND spi1.del_flag = '1'
    group by spi1.user_id
    ),
    salesgroup as(
    select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin
    from PRODUCT_SALE_STATISTICS pss
    where pss.statistics_month = ?
    and pss.del_flag = '1'
    group by pss.userid),

    visitTimeInfo as(
    select t.userid userid, max(t.lastVisitTime) lastVisitTime from (
    SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime
    FROM logistics_manage lm
    INNER JOIN order_info oi
    ON lm.reor_code = oi.order_code
    WHERE lm.logistics_status = '8'
    AND lm.logistics_type = '01'
    group by oi.customer_user_id
    union all
    select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime
    from visited_buyerinfo vb
    where vb.real_buyer_id is not null
    and vb.del_flag = '1'
    group by vb.real_buyer_id) t
    group by t.userid
    )
    select u.userid userId,
    u.username userName,
    cci.month_sales monthSales,
    case
    when cci.month_sales < 50 then
    'D'
    when cci.month_sales >= 50 and cci.month_sales < 100 then
    'C'
    when cci.month_sales >= 100 and cci.month_sales < 200 then
    'B'
    when cci.month_sales >= 200 and cci.month_sales < 500 then
    'A'
    when cci.month_sales >= 500 then
    'S'
    else
    'D'
    end as userLevel,
    to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate,
    bi.delflag delflag
    from buyerinfo bi
    left join users u on bi.userid = u.userid
    LEFT JOIN userplan up ON bi.userid = up.user_id
    LEFT JOIN salesgroup sg ON bi.userid = sg.userid
    left join crm_company_info cci on u.userid = cci.user_id
    left join visitTimeInfo vti on bi.userid=vti.userid
    where bi.buyer_type is not null
     
       
        and (
          bi.county in
            (
              ?
            ) 
        )
       
     
    AND (
    bi.delflag = '1'
    OR (
    bi.delflag = '0'
    AND (up.plan_sale > 0 or sg.amount>0)))
     
      order by vti.lastVisitTime asc nulls FIRST ,u.username ) row_limit where rownum <= 20 ) where rownum_ >0
DEBUG [2018-12-28 15:21:23,063] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select * from ( select row_limit.*, rownum rownum_ from (with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime asc nulls FIRST ,u.username ) row_limit where rownum <= 20 ) where rownum_ >0 
DEBUG [2018-12-28 15:21:23,063] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
DEBUG [2018-12-28 15:21:23,983] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 20
DEBUG [2018-12-28 15:21:23,983] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@417496fe]
DEBUG [2018-12-28 15:21:23,984] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:23,984] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c30b98] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:23,987] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@46d483cd] will not be managed by Spring
DEBUG [2018-12-28 15:21:23,987] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with userOrder as ( select t.userId userId, t.indexUser indexUser from ( select 257350 as userId, 0 as indexUser from dual union select 259960 as userId, 1 as indexUser from dual union select 239034 as userId, 2 as indexUser from dual union select 289448 as userId, 3 as indexUser from dual union select 225809 as userId, 4 as indexUser from dual union select 249090 as userId, 5 as indexUser from dual union select 230671 as userId, 6 as indexUser from dual union select 235601 as userId, 7 as indexUser from dual union select 236000 as userId, 8 as indexUser from dual union select 236127 as userId, 9 as indexUser from dual union select 241246 as userId, 10 as indexUser from dual union select 225817 as userId, 11 as indexUser from dual union select 280239 as userId, 12 as indexUser from dual union select 289303 as userId, 13 as indexUser from dual union select 238867 as userId, 14 as indexUser from dual union select 280255 as userId, 15 as indexUser from dual union select 225839 as userId, 16 as indexUser from dual union select 283034 as userId, 17 as indexUser from dual union select 250180 as userId, 18 as indexUser from dual union select 278852 as userId, 19 as indexUser from dual ) t ), tagOrder as ( select t.tagId tagId, t.indexTag indexTag from ( select '4227fcaf30294a01b83efd07267e4c25' as tagId, 0 as indexTag from dual union select '7be39893b3e24668b7621a9542ad9406' as tagId, 1 as indexTag from dual union select '55ed385129f646b9892d0fe95bbcf908' as tagId, 2 as indexTag from dual union select '57c52bd450574ff9a70af4adbe38c926' as tagId, 3 as indexTag from dual union select '6e6bd2c882cb4d5a8c82030ce58f3322' as tagId, 4 as indexTag from dual union select 'bd98285f271d48e1930ed899cf039a49' as tagId, 5 as indexTag from dual union select 'cfb0cee7eb25489799d30d8c6b2342ee' as tagId, 6 as indexTag from dual ) t ), sales as( select pss.userid userId, pss.tag_id tagId, sum(pss.amount) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and pss.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) group by pss.userid, pss.tag_id), salesplan as ( select spi.plan_sale planSale, spi.flighy_name flighyName, spi.user_id userId, spi.tag_id tagId from SALE_PLAN_INFO spi where spi.execute_month=? and spi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and spi.user_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and spi.del_flag='1' ), visitinfo as ( select bi.userid userId, vi.tag_id tagId, vi.intend_degree intendDegree, vi.add_date addDate from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) ), visitintendStatistics as ( select v1.userId userId, v1.tagId tagId, v1.intendDegree visitIntent from visitinfo v1 where not exists ( select 'x' from visitinfo v2 where v1.userId = v2.userId and v1.tagId = v2.tagId and v1.addDate < v2.addDate ) ), visitedcount as ( select vi.userId userId,vi.tagId tagId,count(1) visitedNum from visitinfo vi group by vi.userId,vi.tagId ), visitplancount as ( select vp.buyer_userid userId,vpi.tag_id tagId,count(1) visitplancount from visited_plan vp left join visite_plan_intend vpi on vp.id = vpi.visited_plan_id where vp.visit_time >= to_date(?||'01','yyyyMMdd') and vp.visit_time < add_months(to_date(?||'01','yyyyMMdd'),1) and vp.visited_goal = '2' and vp.buyer_userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vpi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by vp.buyer_userid,vpi.tag_id ), tmpvisitcount as ( select bi.userid userId, vi.tag_id tagId, count(1) tmpvisitcount from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_type = '3' and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by bi.userid,vi.tag_id ) select uo.userId, tor.tagId, sp.flighyName flighyName, sp.planSale planSale, nvl(s.amount,0) amount, nvl(s.sellin,0) sellin, case when sp.planSale is null then null when s.amount is null then 0 when sp.planSale = 0 then null else floor(s.amount*100/sp.planSale) end as pase, vis.visitIntent visitIntent, nvl(vc.visitedNum,0) visitedNum, nvl(vpc.visitplancount,0)+nvl(tvc.tmpvisitcount,0) as visitPlanNum from userOrder uo join tagOrder tor on 1=1 left join salesplan sp on uo.userId = sp.userId and tor.tagId=sp.tagId left join sales s on uo.userId = s.userId and tor.tagId=s.tagId left join visitintendStatistics vis on uo.userId = vis.userId and tor.tagId=vis.tagId left join visitedcount vc on uo.userId = vc.userId and tor.tagId=vc.tagId left join visitplancount vpc on uo.userId = vpc.userId and tor.tagId=vpc.tagId left join tmpvisitcount tvc on uo.userId = tvc.userId and tor.tagId=tvc.tagId order by uo.indexUser,tor.indexTag 
DEBUG [2018-12-28 15:21:23,988] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 201812(String), 201812(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 257350(String), 259960(String), 239034(String), 289448(String), 225809(String), 249090(String), 230671(String), 235601(String), 236000(String), 236127(String), 241246(String), 225817(String), 280239(String), 289303(String), 238867(String), 280255(String), 225839(String), 283034(String), 250180(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String)
INFO  [2018-12-28 15:21:24,040] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:21:24,068] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 140
DEBUG [2018-12-28 15:21:24,069] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c30b98]
INFO  [2018-12-28 15:21:24,989] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:21:25,491] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:21:25,491] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:21:28,004] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectProductSalePlanHeader begin
DEBUG [2018-12-28 15:21:28,004] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:28,004] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f5286fc] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:28,005] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@715a3596] will not be managed by Spring
DEBUG [2018-12-28 15:21:28,005] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with saleplaninfo as (select spi.tag_id from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.del_flag = '1' group by spi.tag_id) select s.TAG_ID tagId, tm.TAG_NAME tagName, nvl(tm.cxorder,'0') sellinFlag from saleplaninfo s inner join TAG_MANAGE tm on tm.TAG_ID = s.TAG_ID order by tm.display_seq nulls last, tm.tag_name 
DEBUG [2018-12-28 15:21:28,005] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String)
DEBUG [2018-12-28 15:21:28,071] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 7
DEBUG [2018-12-28 15:21:28,071] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f5286fc]
INFO  [2018-12-28 15:21:28,141] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectSaleStatisticsDetail begin
INFO  [2018-12-28 15:21:28,141] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - productSalePlanQueryDto:{"cityList":[],"countyList":["3722"],"month":"201812","orderByColumn":"01","orderByType":"2","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceList":[],"tagId":"4227fcaf30294a01b83efd07267e4c25","tagIdList":["4227fcaf30294a01b83efd07267e4c25","7be39893b3e24668b7621a9542ad9406","55ed385129f646b9892d0fe95bbcf908","57c52bd450574ff9a70af4adbe38c926","6e6bd2c882cb4d5a8c82030ce58f3322","bd98285f271d48e1930ed899cf039a49","cfb0cee7eb25489799d30d8c6b2342ee"]}
DEBUG [2018-12-28 15:21:28,141] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:28,142] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a1f3cf6] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:28,143] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@66556461] will not be managed by Spring
DEBUG [2018-12-28 15:21:28,143] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select count(1) from(with saleplaninfo as ( select distinct spi.user_id user_id, spi.tag_id tag_id, spi.plan_sale plan_sale from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.tag_id = ? and spi.del_flag = '1' ), userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), logisticsSendInfo as( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id ), visitTimeInfo as( select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, case when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'') when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'') when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD') else to_char(vti.lastVisitTime,'yy.MM.DD') end as lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid left join saleplaninfo spi on bi.userid = spi.user_id LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join logisticsSendInfo lsi on bi.userid=lsi.userid left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by spi.plan_sale desc nulls last,u.username) 
DEBUG [2018-12-28 15:21:28,144] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 201812(String), 201812(String), 3722(String)
pagination sql : select * from ( select row_limit.*, rownum rownum_ from (with saleplaninfo as (
    select distinct
    spi.user_id user_id,
    spi.tag_id tag_id,
    spi.plan_sale plan_sale
    from SALE_PLAN_INFO spi
    where spi.execute_month = ?
    and spi.tag_id = ?
    and spi.del_flag = '1'
    ),
    userplan as (
    SELECT
    spi1.user_id user_id,
    nvl(sum(spi1.plan_sale),0) plan_sale
    FROM
    SALE_PLAN_INFO spi1
    WHERE
    spi1.execute_month = ?
    AND spi1.del_flag = '1'
    group by spi1.user_id
    ),
    salesgroup as(
    select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin
    from PRODUCT_SALE_STATISTICS pss
    where pss.statistics_month = ?
    and pss.del_flag = '1'
    group by pss.userid),
    logisticsSendInfo as(
    SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime
    FROM logistics_manage lm
    INNER JOIN order_info oi
    ON lm.reor_code = oi.order_code
    WHERE lm.logistics_status = '8'
    AND lm.logistics_type = '01'
    group by oi.customer_user_id
    ),
    visitTimeInfo as(
    select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime
    from visited_buyerinfo vb
    where vb.real_buyer_id is not null
    and vb.del_flag = '1'
    group by vb.real_buyer_id
    )
    select u.userid userId,
    u.username userName,
    cci.month_sales monthSales,
    case
    when cci.month_sales < 50 then
    'D'
    when cci.month_sales >= 50 and cci.month_sales < 100 then
    'C'
    when cci.month_sales >= 100 and cci.month_sales < 200 then
    'B'
    when cci.month_sales >= 200 and cci.month_sales < 500 then
    'A'
    when cci.month_sales >= 500 then
    'S'
    else
    'D'
    end as userLevel,
    case
    when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'')
    when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'')
    when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD')
    else to_char(vti.lastVisitTime,'yy.MM.DD')
    end as lastVisitDate,
    bi.delflag delflag
    from buyerinfo bi
    left join users u
    on bi.userid = u.userid
    left join saleplaninfo spi
    on bi.userid = spi.user_id
    LEFT JOIN userplan up ON bi.userid = up.user_id
    LEFT JOIN salesgroup sg ON bi.userid = sg.userid
    left join crm_company_info cci
    on u.userid = cci.user_id
    left join logisticsSendInfo lsi on bi.userid=lsi.userid
    left join visitTimeInfo vti on bi.userid=vti.userid
    where bi.buyer_type is not null
     
       
        and (
          bi.county in
            (
              ?
            ) 
        )
       
     
    AND (
    bi.delflag = '1'
    OR (
    bi.delflag = '0'
    AND (up.plan_sale > 0 or sg.amount>0)))
     
     
      order by spi.plan_sale desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0
DEBUG [2018-12-28 15:21:28,440] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select * from ( select row_limit.*, rownum rownum_ from (with saleplaninfo as ( select distinct spi.user_id user_id, spi.tag_id tag_id, spi.plan_sale plan_sale from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.tag_id = ? and spi.del_flag = '1' ), userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), logisticsSendInfo as( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id ), visitTimeInfo as( select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, case when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'') when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'') when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD') else to_char(vti.lastVisitTime,'yy.MM.DD') end as lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid left join saleplaninfo spi on bi.userid = spi.user_id LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join logisticsSendInfo lsi on bi.userid=lsi.userid left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by spi.plan_sale desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0 
DEBUG [2018-12-28 15:21:28,441] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 201812(String), 201812(String), 3722(String)
DEBUG [2018-12-28 15:21:28,726] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 20
DEBUG [2018-12-28 15:21:28,726] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a1f3cf6]
DEBUG [2018-12-28 15:21:28,727] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:28,727] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@647f3e13] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:28,730] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@4f6e3d4a] will not be managed by Spring
DEBUG [2018-12-28 15:21:28,730] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with userOrder as ( select t.userId userId, t.indexUser indexUser from ( select 278852 as userId, 0 as indexUser from dual union select 280251 as userId, 1 as indexUser from dual union select 280262 as userId, 2 as indexUser from dual union select 249090 as userId, 3 as indexUser from dual union select 257350 as userId, 4 as indexUser from dual union select 250180 as userId, 5 as indexUser from dual union select 235597 as userId, 6 as indexUser from dual union select 238867 as userId, 7 as indexUser from dual union select 259960 as userId, 8 as indexUser from dual union select 236127 as userId, 9 as indexUser from dual union select 283034 as userId, 10 as indexUser from dual union select 239034 as userId, 11 as indexUser from dual union select 289448 as userId, 12 as indexUser from dual union select 288962 as userId, 13 as indexUser from dual union select 289275 as userId, 14 as indexUser from dual union select 289157 as userId, 15 as indexUser from dual union select 280255 as userId, 16 as indexUser from dual union select 235601 as userId, 17 as indexUser from dual union select 283633 as userId, 18 as indexUser from dual union select 230671 as userId, 19 as indexUser from dual ) t ), tagOrder as ( select t.tagId tagId, t.indexTag indexTag from ( select '4227fcaf30294a01b83efd07267e4c25' as tagId, 0 as indexTag from dual union select '7be39893b3e24668b7621a9542ad9406' as tagId, 1 as indexTag from dual union select '55ed385129f646b9892d0fe95bbcf908' as tagId, 2 as indexTag from dual union select '57c52bd450574ff9a70af4adbe38c926' as tagId, 3 as indexTag from dual union select '6e6bd2c882cb4d5a8c82030ce58f3322' as tagId, 4 as indexTag from dual union select 'bd98285f271d48e1930ed899cf039a49' as tagId, 5 as indexTag from dual union select 'cfb0cee7eb25489799d30d8c6b2342ee' as tagId, 6 as indexTag from dual ) t ), sales as( select pss.userid userId, pss.tag_id tagId, sum(pss.amount) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and pss.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) group by pss.userid, pss.tag_id), salesplan as ( select spi.plan_sale planSale, spi.flighy_name flighyName, spi.user_id userId, spi.tag_id tagId from SALE_PLAN_INFO spi where spi.execute_month=? and spi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and spi.user_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and spi.del_flag='1' ), visitinfo as ( select bi.userid userId, vi.tag_id tagId, vi.intend_degree intendDegree, vi.add_date addDate from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) ), visitintendStatistics as ( select v1.userId userId, v1.tagId tagId, v1.intendDegree visitIntent from visitinfo v1 where not exists ( select 'x' from visitinfo v2 where v1.userId = v2.userId and v1.tagId = v2.tagId and v1.addDate < v2.addDate ) ), visitedcount as ( select vi.userId userId,vi.tagId tagId,count(1) visitedNum from visitinfo vi group by vi.userId,vi.tagId ), visitplancount as ( select vp.buyer_userid userId,vpi.tag_id tagId,count(1) visitplancount from visited_plan vp left join visite_plan_intend vpi on vp.id = vpi.visited_plan_id where vp.visit_time >= to_date(?||'01','yyyyMMdd') and vp.visit_time < add_months(to_date(?||'01','yyyyMMdd'),1) and vp.visited_goal = '2' and vp.buyer_userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vpi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by vp.buyer_userid,vpi.tag_id ), tmpvisitcount as ( select bi.userid userId, vi.tag_id tagId, count(1) tmpvisitcount from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_type = '3' and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by bi.userid,vi.tag_id ) select uo.userId, tor.tagId, sp.flighyName flighyName, sp.planSale planSale, nvl(s.amount,0) amount, nvl(s.sellin,0) sellin, case when sp.planSale is null then null when s.amount is null then 0 when sp.planSale = 0 then null else floor(s.amount*100/sp.planSale) end as pase, vis.visitIntent visitIntent, nvl(vc.visitedNum,0) visitedNum, nvl(vpc.visitplancount,0)+nvl(tvc.tmpvisitcount,0) as visitPlanNum from userOrder uo join tagOrder tor on 1=1 left join salesplan sp on uo.userId = sp.userId and tor.tagId=sp.tagId left join sales s on uo.userId = s.userId and tor.tagId=s.tagId left join visitintendStatistics vis on uo.userId = vis.userId and tor.tagId=vis.tagId left join visitedcount vc on uo.userId = vc.userId and tor.tagId=vc.tagId left join visitplancount vpc on uo.userId = vpc.userId and tor.tagId=vpc.tagId left join tmpvisitcount tvc on uo.userId = tvc.userId and tor.tagId=tvc.tagId order by uo.indexUser,tor.indexTag 
DEBUG [2018-12-28 15:21:28,731] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String)
DEBUG [2018-12-28 15:21:28,823] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 140
DEBUG [2018-12-28 15:21:28,824] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@647f3e13]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5543][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:6342<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5543 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5543 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5543 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5543 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5543 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5543 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5543 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5543 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5543 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5543 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 << "Date: Fri, 28 Dec 2018 07:21:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5543 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5543 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5543 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5543 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5543 << Date: Fri, 28 Dec 2018 07:21:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5543 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5543 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5543][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5543][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5543: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5543: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:21:30,444] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectProductSalePlanHeader begin
DEBUG [2018-12-28 15:21:30,445] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:30,445] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78495712] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:30,445] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@8b3bad6] will not be managed by Spring
DEBUG [2018-12-28 15:21:30,446] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with saleplaninfo as (select spi.tag_id from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.del_flag = '1' group by spi.tag_id) select s.TAG_ID tagId, tm.TAG_NAME tagName, nvl(tm.cxorder,'0') sellinFlag from saleplaninfo s inner join TAG_MANAGE tm on tm.TAG_ID = s.TAG_ID order by tm.display_seq nulls last, tm.tag_name 
DEBUG [2018-12-28 15:21:30,446] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String)
DEBUG [2018-12-28 15:21:30,511] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 7
DEBUG [2018-12-28 15:21:30,512] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78495712]
INFO  [2018-12-28 15:21:30,610] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectSaleStatisticsDetail begin
INFO  [2018-12-28 15:21:30,611] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - productSalePlanQueryDto:{"cityList":[],"countyList":["3722"],"month":"201812","orderByColumn":"01","orderByType":"2","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceList":[],"tagId":"4227fcaf30294a01b83efd07267e4c25","tagIdList":["4227fcaf30294a01b83efd07267e4c25","7be39893b3e24668b7621a9542ad9406","55ed385129f646b9892d0fe95bbcf908","57c52bd450574ff9a70af4adbe38c926","6e6bd2c882cb4d5a8c82030ce58f3322","bd98285f271d48e1930ed899cf039a49","cfb0cee7eb25489799d30d8c6b2342ee"]}
DEBUG [2018-12-28 15:21:30,611] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:30,611] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cc73942] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:30,612] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@5e18e116] will not be managed by Spring
DEBUG [2018-12-28 15:21:30,612] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select count(1) from(with saleplaninfo as ( select distinct spi.user_id user_id, spi.tag_id tag_id, spi.plan_sale plan_sale from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.tag_id = ? and spi.del_flag = '1' ), userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), logisticsSendInfo as( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id ), visitTimeInfo as( select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, case when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'') when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'') when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD') else to_char(vti.lastVisitTime,'yy.MM.DD') end as lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid left join saleplaninfo spi on bi.userid = spi.user_id LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join logisticsSendInfo lsi on bi.userid=lsi.userid left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by spi.plan_sale desc nulls last,u.username) 
DEBUG [2018-12-28 15:21:30,613] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 201812(String), 201812(String), 3722(String)
pagination sql : select * from ( select row_limit.*, rownum rownum_ from (with saleplaninfo as (
    select distinct
    spi.user_id user_id,
    spi.tag_id tag_id,
    spi.plan_sale plan_sale
    from SALE_PLAN_INFO spi
    where spi.execute_month = ?
    and spi.tag_id = ?
    and spi.del_flag = '1'
    ),
    userplan as (
    SELECT
    spi1.user_id user_id,
    nvl(sum(spi1.plan_sale),0) plan_sale
    FROM
    SALE_PLAN_INFO spi1
    WHERE
    spi1.execute_month = ?
    AND spi1.del_flag = '1'
    group by spi1.user_id
    ),
    salesgroup as(
    select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin
    from PRODUCT_SALE_STATISTICS pss
    where pss.statistics_month = ?
    and pss.del_flag = '1'
    group by pss.userid),
    logisticsSendInfo as(
    SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime
    FROM logistics_manage lm
    INNER JOIN order_info oi
    ON lm.reor_code = oi.order_code
    WHERE lm.logistics_status = '8'
    AND lm.logistics_type = '01'
    group by oi.customer_user_id
    ),
    visitTimeInfo as(
    select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime
    from visited_buyerinfo vb
    where vb.real_buyer_id is not null
    and vb.del_flag = '1'
    group by vb.real_buyer_id
    )
    select u.userid userId,
    u.username userName,
    cci.month_sales monthSales,
    case
    when cci.month_sales < 50 then
    'D'
    when cci.month_sales >= 50 and cci.month_sales < 100 then
    'C'
    when cci.month_sales >= 100 and cci.month_sales < 200 then
    'B'
    when cci.month_sales >= 200 and cci.month_sales < 500 then
    'A'
    when cci.month_sales >= 500 then
    'S'
    else
    'D'
    end as userLevel,
    case
    when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'')
    when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'')
    when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD')
    else to_char(vti.lastVisitTime,'yy.MM.DD')
    end as lastVisitDate,
    bi.delflag delflag
    from buyerinfo bi
    left join users u
    on bi.userid = u.userid
    left join saleplaninfo spi
    on bi.userid = spi.user_id
    LEFT JOIN userplan up ON bi.userid = up.user_id
    LEFT JOIN salesgroup sg ON bi.userid = sg.userid
    left join crm_company_info cci
    on u.userid = cci.user_id
    left join logisticsSendInfo lsi on bi.userid=lsi.userid
    left join visitTimeInfo vti on bi.userid=vti.userid
    where bi.buyer_type is not null
     
       
        and (
          bi.county in
            (
              ?
            ) 
        )
       
     
    AND (
    bi.delflag = '1'
    OR (
    bi.delflag = '0'
    AND (up.plan_sale > 0 or sg.amount>0)))
     
     
      order by spi.plan_sale desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0
DEBUG [2018-12-28 15:21:30,912] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select * from ( select row_limit.*, rownum rownum_ from (with saleplaninfo as ( select distinct spi.user_id user_id, spi.tag_id tag_id, spi.plan_sale plan_sale from SALE_PLAN_INFO spi where spi.execute_month = ? and spi.tag_id = ? and spi.del_flag = '1' ), userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), logisticsSendInfo as( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastSendTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id ), visitTimeInfo as( select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, case when lsi.lastSendTime is null then nvl(to_char(vti.lastVisitTime,'yy.MM.DD'),'') when vti.lastVisitTime is null then nvl(to_char(lsi.lastSendTime,'yy.MM.DD'),'') when lsi.lastSendTime >= vti.lastVisitTime then to_char(lsi.lastSendTime,'yy.MM.DD') else to_char(vti.lastVisitTime,'yy.MM.DD') end as lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid left join saleplaninfo spi on bi.userid = spi.user_id LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join logisticsSendInfo lsi on bi.userid=lsi.userid left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by spi.plan_sale desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0 
DEBUG [2018-12-28 15:21:30,912] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 201812(String), 201812(String), 3722(String)
DEBUG [2018-12-28 15:21:30,983] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG [2018-12-28 15:21:31,202] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 20
DEBUG [2018-12-28 15:21:31,203] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cc73942]
DEBUG [2018-12-28 15:21:31,203] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:31,203] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3122ab27] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:31,206] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@435a1013] will not be managed by Spring
DEBUG [2018-12-28 15:21:31,207] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with userOrder as ( select t.userId userId, t.indexUser indexUser from ( select 278852 as userId, 0 as indexUser from dual union select 280251 as userId, 1 as indexUser from dual union select 280262 as userId, 2 as indexUser from dual union select 249090 as userId, 3 as indexUser from dual union select 257350 as userId, 4 as indexUser from dual union select 250180 as userId, 5 as indexUser from dual union select 235597 as userId, 6 as indexUser from dual union select 238867 as userId, 7 as indexUser from dual union select 259960 as userId, 8 as indexUser from dual union select 236127 as userId, 9 as indexUser from dual union select 283034 as userId, 10 as indexUser from dual union select 239034 as userId, 11 as indexUser from dual union select 289448 as userId, 12 as indexUser from dual union select 288962 as userId, 13 as indexUser from dual union select 289275 as userId, 14 as indexUser from dual union select 289157 as userId, 15 as indexUser from dual union select 280255 as userId, 16 as indexUser from dual union select 235601 as userId, 17 as indexUser from dual union select 283633 as userId, 18 as indexUser from dual union select 230671 as userId, 19 as indexUser from dual ) t ), tagOrder as ( select t.tagId tagId, t.indexTag indexTag from ( select '4227fcaf30294a01b83efd07267e4c25' as tagId, 0 as indexTag from dual union select '7be39893b3e24668b7621a9542ad9406' as tagId, 1 as indexTag from dual union select '55ed385129f646b9892d0fe95bbcf908' as tagId, 2 as indexTag from dual union select '57c52bd450574ff9a70af4adbe38c926' as tagId, 3 as indexTag from dual union select '6e6bd2c882cb4d5a8c82030ce58f3322' as tagId, 4 as indexTag from dual union select 'bd98285f271d48e1930ed899cf039a49' as tagId, 5 as indexTag from dual union select 'cfb0cee7eb25489799d30d8c6b2342ee' as tagId, 6 as indexTag from dual ) t ), sales as( select pss.userid userId, pss.tag_id tagId, sum(pss.amount) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and pss.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) group by pss.userid, pss.tag_id), salesplan as ( select spi.plan_sale planSale, spi.flighy_name flighyName, spi.user_id userId, spi.tag_id tagId from SALE_PLAN_INFO spi where spi.execute_month=? and spi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and spi.user_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and spi.del_flag='1' ), visitinfo as ( select bi.userid userId, vi.tag_id tagId, vi.intend_degree intendDegree, vi.add_date addDate from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) ), visitintendStatistics as ( select v1.userId userId, v1.tagId tagId, v1.intendDegree visitIntent from visitinfo v1 where not exists ( select 'x' from visitinfo v2 where v1.userId = v2.userId and v1.tagId = v2.tagId and v1.addDate < v2.addDate ) ), visitedcount as ( select vi.userId userId,vi.tagId tagId,count(1) visitedNum from visitinfo vi group by vi.userId,vi.tagId ), visitplancount as ( select vp.buyer_userid userId,vpi.tag_id tagId,count(1) visitplancount from visited_plan vp left join visite_plan_intend vpi on vp.id = vpi.visited_plan_id where vp.visit_time >= to_date(?||'01','yyyyMMdd') and vp.visit_time < add_months(to_date(?||'01','yyyyMMdd'),1) and vp.visited_goal = '2' and vp.buyer_userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vpi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by vp.buyer_userid,vpi.tag_id ), tmpvisitcount as ( select bi.userid userId, vi.tag_id tagId, count(1) tmpvisitcount from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_type = '3' and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by bi.userid,vi.tag_id ) select uo.userId, tor.tagId, sp.flighyName flighyName, sp.planSale planSale, nvl(s.amount,0) amount, nvl(s.sellin,0) sellin, case when sp.planSale is null then null when s.amount is null then 0 when sp.planSale = 0 then null else floor(s.amount*100/sp.planSale) end as pase, vis.visitIntent visitIntent, nvl(vc.visitedNum,0) visitedNum, nvl(vpc.visitplancount,0)+nvl(tvc.tmpvisitcount,0) as visitPlanNum from userOrder uo join tagOrder tor on 1=1 left join salesplan sp on uo.userId = sp.userId and tor.tagId=sp.tagId left join sales s on uo.userId = s.userId and tor.tagId=s.tagId left join visitintendStatistics vis on uo.userId = vis.userId and tor.tagId=vis.tagId left join visitedcount vc on uo.userId = vc.userId and tor.tagId=vc.tagId left join visitplancount vpc on uo.userId = vpc.userId and tor.tagId=vpc.tagId left join tmpvisitcount tvc on uo.userId = tvc.userId and tor.tagId=tvc.tagId order by uo.indexUser,tor.indexTag 
DEBUG [2018-12-28 15:21:31,208] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 278852(String), 280251(String), 280262(String), 249090(String), 257350(String), 250180(String), 235597(String), 238867(String), 259960(String), 236127(String), 283034(String), 239034(String), 289448(String), 288962(String), 289275(String), 289157(String), 280255(String), 235601(String), 283633(String), 230671(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String)
DEBUG [2018-12-28 15:21:31,289] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 140
DEBUG [2018-12-28 15:21:31,289] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3122ab27]
INFO  [2018-12-28 15:21:31,313] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:21:31,816] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:21:31,816] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:21:35,254] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectSaleStatisticsDetail begin
INFO  [2018-12-28 15:21:35,254] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - productSalePlanQueryDto:{"cityList":[],"countyList":["3722"],"month":"201812","orderByColumn":"90","orderByType":"2","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceList":[],"tagId":"4227fcaf30294a01b83efd07267e4c25","tagIdList":["4227fcaf30294a01b83efd07267e4c25","7be39893b3e24668b7621a9542ad9406","55ed385129f646b9892d0fe95bbcf908","57c52bd450574ff9a70af4adbe38c926","6e6bd2c882cb4d5a8c82030ce58f3322","bd98285f271d48e1930ed899cf039a49","cfb0cee7eb25489799d30d8c6b2342ee"]}
DEBUG [2018-12-28 15:21:35,254] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:35,254] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da9c8e7] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:35,255] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@16d4233] will not be managed by Spring
DEBUG [2018-12-28 15:21:35,256] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select count(1) from(with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime desc nulls last,u.username) 
DEBUG [2018-12-28 15:21:35,256] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
pagination sql : select * from ( select row_limit.*, rownum rownum_ from (with userplan as (
    SELECT
    spi1.user_id user_id,
    nvl(sum(spi1.plan_sale),0) plan_sale
    FROM
    SALE_PLAN_INFO spi1
    WHERE
    spi1.execute_month = ?
    AND spi1.del_flag = '1'
    group by spi1.user_id
    ),
    salesgroup as(
    select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin
    from PRODUCT_SALE_STATISTICS pss
    where pss.statistics_month = ?
    and pss.del_flag = '1'
    group by pss.userid),

    visitTimeInfo as(
    select t.userid userid, max(t.lastVisitTime) lastVisitTime from (
    SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime
    FROM logistics_manage lm
    INNER JOIN order_info oi
    ON lm.reor_code = oi.order_code
    WHERE lm.logistics_status = '8'
    AND lm.logistics_type = '01'
    group by oi.customer_user_id
    union all
    select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime
    from visited_buyerinfo vb
    where vb.real_buyer_id is not null
    and vb.del_flag = '1'
    group by vb.real_buyer_id) t
    group by t.userid
    )
    select u.userid userId,
    u.username userName,
    cci.month_sales monthSales,
    case
    when cci.month_sales < 50 then
    'D'
    when cci.month_sales >= 50 and cci.month_sales < 100 then
    'C'
    when cci.month_sales >= 100 and cci.month_sales < 200 then
    'B'
    when cci.month_sales >= 200 and cci.month_sales < 500 then
    'A'
    when cci.month_sales >= 500 then
    'S'
    else
    'D'
    end as userLevel,
    to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate,
    bi.delflag delflag
    from buyerinfo bi
    left join users u on bi.userid = u.userid
    LEFT JOIN userplan up ON bi.userid = up.user_id
    LEFT JOIN salesgroup sg ON bi.userid = sg.userid
    left join crm_company_info cci on u.userid = cci.user_id
    left join visitTimeInfo vti on bi.userid=vti.userid
    where bi.buyer_type is not null
     
       
        and (
          bi.county in
            (
              ?
            ) 
        )
       
     
    AND (
    bi.delflag = '1'
    OR (
    bi.delflag = '0'
    AND (up.plan_sale > 0 or sg.amount>0)))
     
     
      order by vti.lastVisitTime desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0
DEBUG [2018-12-28 15:21:36,179] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select * from ( select row_limit.*, rownum rownum_ from (with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0 
DEBUG [2018-12-28 15:21:36,180] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
DEBUG [2018-12-28 15:21:37,086] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 20
DEBUG [2018-12-28 15:21:37,086] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da9c8e7]
DEBUG [2018-12-28 15:21:37,086] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:37,087] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f7604e] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:37,089] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@6dd46716] will not be managed by Spring
DEBUG [2018-12-28 15:21:37,090] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with userOrder as ( select t.userId userId, t.indexUser indexUser from ( select 288962 as userId, 0 as indexUser from dual union select 225821 as userId, 1 as indexUser from dual union select 280251 as userId, 2 as indexUser from dual union select 225830 as userId, 3 as indexUser from dual union select 235597 as userId, 4 as indexUser from dual union select 289281 as userId, 5 as indexUser from dual union select 283027 as userId, 6 as indexUser from dual union select 289382 as userId, 7 as indexUser from dual union select 289272 as userId, 8 as indexUser from dual union select 286914 as userId, 9 as indexUser from dual union select 289157 as userId, 10 as indexUser from dual union select 289275 as userId, 11 as indexUser from dual union select 289211 as userId, 12 as indexUser from dual union select 289273 as userId, 13 as indexUser from dual union select 280262 as userId, 14 as indexUser from dual union select 284146 as userId, 15 as indexUser from dual union select 283633 as userId, 16 as indexUser from dual union select 285626 as userId, 17 as indexUser from dual union select 283492 as userId, 18 as indexUser from dual union select 278852 as userId, 19 as indexUser from dual ) t ), tagOrder as ( select t.tagId tagId, t.indexTag indexTag from ( select '4227fcaf30294a01b83efd07267e4c25' as tagId, 0 as indexTag from dual union select '7be39893b3e24668b7621a9542ad9406' as tagId, 1 as indexTag from dual union select '55ed385129f646b9892d0fe95bbcf908' as tagId, 2 as indexTag from dual union select '57c52bd450574ff9a70af4adbe38c926' as tagId, 3 as indexTag from dual union select '6e6bd2c882cb4d5a8c82030ce58f3322' as tagId, 4 as indexTag from dual union select 'bd98285f271d48e1930ed899cf039a49' as tagId, 5 as indexTag from dual union select 'cfb0cee7eb25489799d30d8c6b2342ee' as tagId, 6 as indexTag from dual ) t ), sales as( select pss.userid userId, pss.tag_id tagId, sum(pss.amount) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and pss.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) group by pss.userid, pss.tag_id), salesplan as ( select spi.plan_sale planSale, spi.flighy_name flighyName, spi.user_id userId, spi.tag_id tagId from SALE_PLAN_INFO spi where spi.execute_month=? and spi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and spi.user_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and spi.del_flag='1' ), visitinfo as ( select bi.userid userId, vi.tag_id tagId, vi.intend_degree intendDegree, vi.add_date addDate from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) ), visitintendStatistics as ( select v1.userId userId, v1.tagId tagId, v1.intendDegree visitIntent from visitinfo v1 where not exists ( select 'x' from visitinfo v2 where v1.userId = v2.userId and v1.tagId = v2.tagId and v1.addDate < v2.addDate ) ), visitedcount as ( select vi.userId userId,vi.tagId tagId,count(1) visitedNum from visitinfo vi group by vi.userId,vi.tagId ), visitplancount as ( select vp.buyer_userid userId,vpi.tag_id tagId,count(1) visitplancount from visited_plan vp left join visite_plan_intend vpi on vp.id = vpi.visited_plan_id where vp.visit_time >= to_date(?||'01','yyyyMMdd') and vp.visit_time < add_months(to_date(?||'01','yyyyMMdd'),1) and vp.visited_goal = '2' and vp.buyer_userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vpi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by vp.buyer_userid,vpi.tag_id ), tmpvisitcount as ( select bi.userid userId, vi.tag_id tagId, count(1) tmpvisitcount from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_type = '3' and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by bi.userid,vi.tag_id ) select uo.userId, tor.tagId, sp.flighyName flighyName, sp.planSale planSale, nvl(s.amount,0) amount, nvl(s.sellin,0) sellin, case when sp.planSale is null then null when s.amount is null then 0 when sp.planSale = 0 then null else floor(s.amount*100/sp.planSale) end as pase, vis.visitIntent visitIntent, nvl(vc.visitedNum,0) visitedNum, nvl(vpc.visitplancount,0)+nvl(tvc.tmpvisitcount,0) as visitPlanNum from userOrder uo join tagOrder tor on 1=1 left join salesplan sp on uo.userId = sp.userId and tor.tagId=sp.tagId left join sales s on uo.userId = s.userId and tor.tagId=s.tagId left join visitintendStatistics vis on uo.userId = vis.userId and tor.tagId=vis.tagId left join visitedcount vc on uo.userId = vc.userId and tor.tagId=vc.tagId left join visitplancount vpc on uo.userId = vpc.userId and tor.tagId=vpc.tagId left join tmpvisitcount tvc on uo.userId = tvc.userId and tor.tagId=tvc.tagId order by uo.indexUser,tor.indexTag 
DEBUG [2018-12-28 15:21:37,091] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String)
DEBUG [2018-12-28 15:21:37,185] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 140
DEBUG [2018-12-28 15:21:37,185] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f7604e]
INFO  [2018-12-28 15:21:37,629] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:21:38,132] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:21:38,132] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:21:38,223  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:21:40,992] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:21:43,954] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:21:44,456] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:21:44,456] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:21:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:21:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:21:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:21:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:21:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:21:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:21:46,067] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - AgentPlanServiceImpl selectSaleStatisticsDetail begin
INFO  [2018-12-28 15:21:46,067] cn.ihdou.crm.sellcount.service.impl.AgentPlanServiceImpl - productSalePlanQueryDto:{"cityList":[],"countyList":["3722"],"month":"201812","orderByColumn":"90","orderByType":"2","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceList":[],"tagId":"4227fcaf30294a01b83efd07267e4c25","tagIdList":["4227fcaf30294a01b83efd07267e4c25","7be39893b3e24668b7621a9542ad9406","55ed385129f646b9892d0fe95bbcf908","57c52bd450574ff9a70af4adbe38c926","6e6bd2c882cb4d5a8c82030ce58f3322","bd98285f271d48e1930ed899cf039a49","cfb0cee7eb25489799d30d8c6b2342ee"]}
DEBUG [2018-12-28 15:21:46,068] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:46,068] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18bd3939] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:46,069] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@237d11a8] will not be managed by Spring
DEBUG [2018-12-28 15:21:46,069] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select count(1) from(with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime desc nulls last,u.username) 
DEBUG [2018-12-28 15:21:46,069] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
DEBUG [2018-12-28 15:21:46,647] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:21:46,649] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 pagination sql : select * from ( select row_limit.*, rownum rownum_ from (with userplan as (
    SELECT
    spi1.user_id user_id,
    nvl(sum(spi1.plan_sale),0) plan_sale
    FROM
    SALE_PLAN_INFO spi1
    WHERE
    spi1.execute_month = ?
    AND spi1.del_flag = '1'
    group by spi1.user_id
    ),
    salesgroup as(
    select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin
    from PRODUCT_SALE_STATISTICS pss
    where pss.statistics_month = ?
    and pss.del_flag = '1'
    group by pss.userid),

    visitTimeInfo as(
    select t.userid userid, max(t.lastVisitTime) lastVisitTime from (
    SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime
    FROM logistics_manage lm
    INNER JOIN order_info oi
    ON lm.reor_code = oi.order_code
    WHERE lm.logistics_status = '8'
    AND lm.logistics_type = '01'
    group by oi.customer_user_id
    union all
    select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime
    from visited_buyerinfo vb
    where vb.real_buyer_id is not null
    and vb.del_flag = '1'
    group by vb.real_buyer_id) t
    group by t.userid
    )
    select u.userid userId,
    u.username userName,
    cci.month_sales monthSales,
    case
    when cci.month_sales < 50 then
    'D'
    when cci.month_sales >= 50 and cci.month_sales < 100 then
    'C'
    when cci.month_sales >= 100 and cci.month_sales < 200 then
    'B'
    when cci.month_sales >= 200 and cci.month_sales < 500 then
    'A'
    when cci.month_sales >= 500 then
    'S'
    else
    'D'
    end as userLevel,
    to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate,
    bi.delflag delflag
    from buyerinfo bi
    left join users u on bi.userid = u.userid
    LEFT JOIN userplan up ON bi.userid = up.user_id
    LEFT JOIN salesgroup sg ON bi.userid = sg.userid
    left join crm_company_info cci on u.userid = cci.user_id
    left join visitTimeInfo vti on bi.userid=vti.userid
    where bi.buyer_type is not null
     
       
        and (
          bi.county in
            (
              ?
            ) 
        )
       
     
    AND (
    bi.delflag = '1'
    OR (
    bi.delflag = '0'
    AND (up.plan_sale > 0 or sg.amount>0)))
     
     
      order by vti.lastVisitTime desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0
DEBUG [2018-12-28 15:21:46,995] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: select * from ( select row_limit.*, rownum rownum_ from (with userplan as ( SELECT spi1.user_id user_id, nvl(sum(spi1.plan_sale),0) plan_sale FROM SALE_PLAN_INFO spi1 WHERE spi1.execute_month = ? AND spi1.del_flag = '1' group by spi1.user_id ), salesgroup as( select pss.userid userid, nvl(sum(pss.amount),0) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.del_flag = '1' group by pss.userid), visitTimeInfo as( select t.userid userid, max(t.lastVisitTime) lastVisitTime from ( SELECT oi.customer_user_id userid, max(oi.confirm_time) lastVisitTime FROM logistics_manage lm INNER JOIN order_info oi ON lm.reor_code = oi.order_code WHERE lm.logistics_status = '8' AND lm.logistics_type = '01' group by oi.customer_user_id union all select vb.real_buyer_id userid, max(vb.visited_date) lastVisitTime from visited_buyerinfo vb where vb.real_buyer_id is not null and vb.del_flag = '1' group by vb.real_buyer_id) t group by t.userid ) select u.userid userId, u.username userName, cci.month_sales monthSales, case when cci.month_sales < 50 then 'D' when cci.month_sales >= 50 and cci.month_sales < 100 then 'C' when cci.month_sales >= 100 and cci.month_sales < 200 then 'B' when cci.month_sales >= 200 and cci.month_sales < 500 then 'A' when cci.month_sales >= 500 then 'S' else 'D' end as userLevel, to_char(vti.lastVisitTime,'yy.MM.DD') lastVisitDate, bi.delflag delflag from buyerinfo bi left join users u on bi.userid = u.userid LEFT JOIN userplan up ON bi.userid = up.user_id LEFT JOIN salesgroup sg ON bi.userid = sg.userid left join crm_company_info cci on u.userid = cci.user_id left join visitTimeInfo vti on bi.userid=vti.userid where bi.buyer_type is not null and ( bi.county in ( ? ) ) AND ( bi.delflag = '1' OR ( bi.delflag = '0' AND (up.plan_sale > 0 or sg.amount>0))) order by vti.lastVisitTime desc nulls last,u.username ) row_limit where rownum <= 20 ) where rownum_ >0 
DEBUG [2018-12-28 15:21:46,995] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 201812(String), 3722(String)
DEBUG [2018-12-28 15:21:47,890] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 20
DEBUG [2018-12-28 15:21:47,890] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18bd3939]
DEBUG [2018-12-28 15:21:47,891] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
DEBUG [2018-12-28 15:21:47,891] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5caf102b] was not registered for synchronization because synchronization is not active
DEBUG [2018-12-28 15:21:47,894] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@11cc6cd0] will not be managed by Spring
DEBUG [2018-12-28 15:21:47,894] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==>  Preparing: with userOrder as ( select t.userId userId, t.indexUser indexUser from ( select 288962 as userId, 0 as indexUser from dual union select 225821 as userId, 1 as indexUser from dual union select 280251 as userId, 2 as indexUser from dual union select 225830 as userId, 3 as indexUser from dual union select 235597 as userId, 4 as indexUser from dual union select 289281 as userId, 5 as indexUser from dual union select 283027 as userId, 6 as indexUser from dual union select 289382 as userId, 7 as indexUser from dual union select 289272 as userId, 8 as indexUser from dual union select 286914 as userId, 9 as indexUser from dual union select 289157 as userId, 10 as indexUser from dual union select 289275 as userId, 11 as indexUser from dual union select 289211 as userId, 12 as indexUser from dual union select 289273 as userId, 13 as indexUser from dual union select 280262 as userId, 14 as indexUser from dual union select 284146 as userId, 15 as indexUser from dual union select 283633 as userId, 16 as indexUser from dual union select 285626 as userId, 17 as indexUser from dual union select 283492 as userId, 18 as indexUser from dual union select 278852 as userId, 19 as indexUser from dual ) t ), tagOrder as ( select t.tagId tagId, t.indexTag indexTag from ( select '4227fcaf30294a01b83efd07267e4c25' as tagId, 0 as indexTag from dual union select '7be39893b3e24668b7621a9542ad9406' as tagId, 1 as indexTag from dual union select '55ed385129f646b9892d0fe95bbcf908' as tagId, 2 as indexTag from dual union select '57c52bd450574ff9a70af4adbe38c926' as tagId, 3 as indexTag from dual union select '6e6bd2c882cb4d5a8c82030ce58f3322' as tagId, 4 as indexTag from dual union select 'bd98285f271d48e1930ed899cf039a49' as tagId, 5 as indexTag from dual union select 'cfb0cee7eb25489799d30d8c6b2342ee' as tagId, 6 as indexTag from dual ) t ), sales as( select pss.userid userId, pss.tag_id tagId, sum(pss.amount) amount, sum(pss.sellin) sellin from PRODUCT_SALE_STATISTICS pss where pss.statistics_month = ? and pss.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and pss.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) group by pss.userid, pss.tag_id), salesplan as ( select spi.plan_sale planSale, spi.flighy_name flighyName, spi.user_id userId, spi.tag_id tagId from SALE_PLAN_INFO spi where spi.execute_month=? and spi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) and spi.user_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and spi.del_flag='1' ), visitinfo as ( select bi.userid userId, vi.tag_id tagId, vi.intend_degree intendDegree, vi.add_date addDate from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) ), visitintendStatistics as ( select v1.userId userId, v1.tagId tagId, v1.intendDegree visitIntent from visitinfo v1 where not exists ( select 'x' from visitinfo v2 where v1.userId = v2.userId and v1.tagId = v2.tagId and v1.addDate < v2.addDate ) ), visitedcount as ( select vi.userId userId,vi.tagId tagId,count(1) visitedNum from visitinfo vi group by vi.userId,vi.tagId ), visitplancount as ( select vp.buyer_userid userId,vpi.tag_id tagId,count(1) visitplancount from visited_plan vp left join visite_plan_intend vpi on vp.id = vpi.visited_plan_id where vp.visit_time >= to_date(?||'01','yyyyMMdd') and vp.visit_time < add_months(to_date(?||'01','yyyyMMdd'),1) and vp.visited_goal = '2' and vp.buyer_userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vpi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by vp.buyer_userid,vpi.tag_id ), tmpvisitcount as ( select bi.userid userId, vi.tag_id tagId, count(1) tmpvisitcount from visited_buyerinfo vb left join VISITED_INTEND vi on vb.visited_id=vi.visited_id left join buyerinfo bi on vb.real_buyer_id = bi.userid where vb.visited_date_end >= to_date(?||'01','yyyyMMdd') and vb.visited_date_end < add_months(to_date(?||'01','yyyyMMdd'),1) and vb.visited_type = '3' and vb.visited_goal = '2' and bi.userid in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) and vi.tag_id in ( ? , ? , ? , ? , ? , ? , ? ) group by bi.userid,vi.tag_id ) select uo.userId, tor.tagId, sp.flighyName flighyName, sp.planSale planSale, nvl(s.amount,0) amount, nvl(s.sellin,0) sellin, case when sp.planSale is null then null when s.amount is null then 0 when sp.planSale = 0 then null else floor(s.amount*100/sp.planSale) end as pase, vis.visitIntent visitIntent, nvl(vc.visitedNum,0) visitedNum, nvl(vpc.visitplancount,0)+nvl(tvc.tmpvisitcount,0) as visitPlanNum from userOrder uo join tagOrder tor on 1=1 left join salesplan sp on uo.userId = sp.userId and tor.tagId=sp.tagId left join sales s on uo.userId = s.userId and tor.tagId=s.tagId left join visitintendStatistics vis on uo.userId = vis.userId and tor.tagId=vis.tagId left join visitedcount vc on uo.userId = vc.userId and tor.tagId=vc.tagId left join visitplancount vpc on uo.userId = vpc.userId and tor.tagId=vpc.tagId left join tmpvisitcount tvc on uo.userId = tvc.userId and tor.tagId=tvc.tagId order by uo.indexUser,tor.indexTag 
DEBUG [2018-12-28 15:21:47,895] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - ==> Parameters: 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 201812(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String), 201812(String), 201812(String), 288962(String), 225821(String), 280251(String), 225830(String), 235597(String), 289281(String), 283027(String), 289382(String), 289272(String), 286914(String), 289157(String), 289275(String), 289211(String), 289273(String), 280262(String), 284146(String), 283633(String), 285626(String), 283492(String), 278852(String), 4227fcaf30294a01b83efd07267e4c25(String), 7be39893b3e24668b7621a9542ad9406(String), 55ed385129f646b9892d0fe95bbcf908(String), 57c52bd450574ff9a70af4adbe38c926(String), 6e6bd2c882cb4d5a8c82030ce58f3322(String), bd98285f271d48e1930ed899cf039a49(String), cfb0cee7eb25489799d30d8c6b2342ee(String)
DEBUG [2018-12-28 15:21:47,981] org.apache.ibatis.logging.jdbc.BaseJdbcLogger - <==      Total: 140
DEBUG [2018-12-28 15:21:47,981] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5caf102b]
INFO  [2018-12-28 15:21:50,271] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:21:50,773] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:21:50,773] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:21:51,001] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:21:54,049] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:21:56,589] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:21:57,091] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:21:57,091] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5544][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:12078<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5544 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5544 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5544 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5544 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5544 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5544 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5544 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5544 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5544 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5544 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 << "Date: Fri, 28 Dec 2018 07:21:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5544 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5544 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5544 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5544 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5544 << Date: Fri, 28 Dec 2018 07:21:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5544 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5544 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5544][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5544][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5544: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5544: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:21:59,551] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:21:59,554] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:22:01,007] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:22:02,909] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:22:03,411] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:22:03,411] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:22:05,976] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:22:08,232  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:22:09,224] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:22:09,727] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:22:09,727] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:22:11,016] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/buyerInformation/list
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - BuyerInforController getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - vo:{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"天创伟业保定","start_date":"","userName":""}
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInformationServiceImpl listBuyerInfoForPage START...
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - vo:[{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"天创伟业保定","start_date":"","userName":""}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync begin.
INFO  [2018-12-28 15:22:13,371] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync begin.
INFO  [2018-12-28 15:22:13,371] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 客户列表搜索筛选项BuyerInformationConditionVo：{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"isAdmin":"1","loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"天创伟业保定","start_date":"","userName":""}
INFO  [2018-12-28 15:22:13,372] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页信息pageVo:{"centerPage":0,"endPage":0,"inLastPageInteral":false,"lastPage":0,"messageForPage":10,"nextPage":0,"pageEndCount":0,"pageInterval":0,"pageIntervalNow":0,"pageNow":1,"pageStartCount":0,"startPage":0,"totalCount":0,"totalPage":0}
INFO  [2018-12-28 15:22:13,372] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数:select count(*) from ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  and b.shopname like '%天创伟业保定%'  order by addtime desc ) 
INFO  [2018-12-28 15:22:13,372] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录: SELECT * FROM (SELECT ROWNUM row_, t.* FROM ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  and b.shopname like '%天创伟业保定%'  order by addtime desc ) t ) WHERE row_ <=10 AND row_ >=1
DEBUG [2018-12-28 15:22:13,535] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数count:0
DEBUG [2018-12-28 15:22:13,536] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 客户列表list:[]
INFO  [2018-12-28 15:22:13,536] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页详情：{"list":[],"totalCount":0}
INFO  [2018-12-28 15:22:13,536] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - WorkOrderManageController getWorkOrderFlowForPage END...
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - validCaptchaCode end.
INFO  [2018-12-28 15:22:15,537] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:22:16,039] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:22:16,040] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/buyerInformation/list
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - BuyerInforController getBuyerInformationList begin.
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - vo:{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"","start_date":"","userName":"天创伟业保定"}
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - BuyerInformationServiceImpl listBuyerInfoForPage START...
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - vo:[{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"","start_date":"","userName":"天创伟业保定"}]
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer begin.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - para check and transfer end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync begin.
INFO  [2018-12-28 15:22:19,977] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync begin.
INFO  [2018-12-28 15:22:19,977] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 客户列表搜索筛选项BuyerInformationConditionVo：{"accessRight1":"","accessRight2":"","agentName":"","buyerSource":"","buyer_type":"","end_date":"","identityId":0,"isAdmin":"1","loginId":"cfbc0d15fc4840c3ac7d73716f063cd2","login_end_date":"","login_start_date":"","order_end_date":"","order_start_date":"","pageNo":"1","pageSize":"10","pri_mobile":"","shopName":"","start_date":"","userName":"天创伟业保定"}
INFO  [2018-12-28 15:22:19,977] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页信息pageVo:{"centerPage":0,"endPage":0,"inLastPageInteral":false,"lastPage":0,"messageForPage":10,"nextPage":0,"pageEndCount":0,"pageInterval":0,"pageIntervalNow":0,"pageNow":1,"pageStartCount":0,"startPage":0,"totalCount":0,"totalPage":0}
INFO  [2018-12-28 15:22:19,978] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数:select count(*) from ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  and u.username like '%天创伟业保定%'  order by addtime desc ) 
INFO  [2018-12-28 15:22:19,978] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录: SELECT * FROM (SELECT ROWNUM row_, t.* FROM ( select b.buyerid,  u.userId,  u.username,  b.shopname,  b.pri_mobile,  b.county countyId, (ai0.areaname  ||','  ||ai1.areaname  ||','  ||ai2.areaname || nvl2(ti.townname,',' ||ti.townname,'')) as area_text, to_char(b.addtime,'yyyy-mm-dd hh24:mi:ss') as addtime,  nvl(b.registerfrom,'自然流量') as registerfrom,  b.buyer_type,  b.buyersource,  substr(ds.contacts,1,instr(ds.contacts,ds.staff_number,-1)-2) agentName, to_char(login.logintime,'yyyy.mm.dd hh24:mi:ss') logintime, to_char(orders.ordertime,'yyyy.mm.dd hh24:mi:ss') ordertime  from buyerinfo b inner join users u on b.userid=u.userid and b.buyerstatus='02'  left join areainfo ai0 on ai0.areaid=b.province  left join areainfo ai1 on ai1.areaid=b.city  left join areainfo ai2 on ai2.areaid=b.county  left join towninfo ti on ti.townid=b.townid and ti.status='1' left join dis_service_area dsa on dsa.areaid=b.county and dsa.del_flag='1' left join distribution_station ds on ds.station_id=dsa.station_id and ds.del_flag='1' and ds.staff_id is not null left join last_time_login_info login on login.userid=b.userid left join last_time_order_info orders on orders.userid=b.userid where u.userstatus='1' and b.delflag='1'  and u.username like '%天创伟业保定%'  order by addtime desc ) t ) WHERE row_ <=10 AND row_ >=1
DEBUG [2018-12-28 15:22:20,243] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 查询记录数count:1
DEBUG [2018-12-28 15:22:20,356] cn.ihdou.crm.buyermanage.dao.impl.BuyerInformationDaoImpl - 客户列表list:[{"addTime":"2018-03-07 20:31:31","agentName":"魏磊","area_text":"河北,保定市,南市区,和平里街道办事处","buyerId":410136,"buyerSource":"03","buyer_type":"06","countyId":1125,"loginTime":"2018.12.27 15:07:16","orderTime":"2018.11.29 22:00:18","pri_mobile":"157338*****","registerFrom":"自然流量","shopName":"屖gk679774","userId":287864,"userName":"天创伟业保定"}]
INFO  [2018-12-28 15:22:20,356] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - 分页详情：{"list":[{"addTime":"2018-03-07 20:31:31","agentName":"魏磊","area_text":"河北,保定市,南市区,和平里街道办事处","buyerId":410136,"buyerSource":"03","buyer_type":"06","countyId":1125,"loginTime":"2018.12.27 15:07:16","orderTime":"2018.11.29 22:00:18","pri_mobile":"157338*****","registerFrom":"自然流量","shopName":"屖gk679774","userId":287864,"userName":"天创伟业保定"}],"totalCount":1}
INFO  [2018-12-28 15:22:20,357] cn.ihdou.crm.buyermanage.service.impl.BuyerInformationServiceImpl - getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - ..getBuyerInfoAsync end.
INFO : com.ihdou.api.member.service.impl.crm.buyermanage.BuyerInforServiceImpl - WorkOrderManageController getWorkOrderFlowForPage END...
INFO : com.ihdou.api.member.controller.crm.buyermanage.BuyerInforController - validCaptchaCode end.
DEBUG [2018-12-28 15:22:21,027] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:22:21,850] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:22:22,352] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:22:22,352] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:22:24,058] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:22:28,188] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:22:28,690] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:22:28,690] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5545][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:17816<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5545 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5545 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5545 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5545 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5545 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5545 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5545 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5545 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5545 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5545 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 << "Date: Fri, 28 Dec 2018 07:22:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5545 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5545 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5545 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5545 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5545 << Date: Fri, 28 Dec 2018 07:22:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5545 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5545 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5545][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5545][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5545: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5545: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:22:31,028] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:22:34,502] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:22:35,004] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:22:35,005] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:22:38,241  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:22:40,818] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:22:41,037] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:22:41,320] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:22:41,320] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:22:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:22:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:22:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:22:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:22:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:22:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:22:46,649] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:22:46,652] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:22:47,132] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:22:47,634] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:22:47,634] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:22:51,047] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:22:53,448] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:22:53,950] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:22:53,951] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:22:54,066] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5546][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:23550<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5546 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5546 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5546 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5546 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5546 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5546 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5546 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5546 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5546 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5546 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 << "Date: Fri, 28 Dec 2018 07:22:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 << "{"code":200,"msg":null,"content":null}"
DEBUG: org.apache.http.headers - http-outgoing-5546 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5546 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5546 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5546 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5546 << Date: Fri, 28 Dec 2018 07:22:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5546 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5546 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5546][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5546][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5546: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5546: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:22:59,554] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:22:59,556] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:22:59,765] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:23:00,267] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:23:00,267] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:23:01,056] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 ERROR [2018-12-28 15:23:05,977] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO  [2018-12-28 15:23:06,083] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:23:06,585] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:23:06,585] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:23:08,249  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:23:11,061] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:23:12,398] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:23:12,900] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:23:12,901] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:23:18,715] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:23:19,217] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:23:19,217] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:23:21,071] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:23:24,076] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:23:25,134] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:23:25,636] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:23:25,636] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:23:26,511  INFO [DubboServerHandler-192.168.102.37:20200-thread-42] (MtCartServiceImpl.java:113) - 调用加入购物车服务开始！{"active_id":"0","customer_user_id":"239034","num":1,"order_type":"01","source_url":"http://test7.ihdou.com/IHDouMall/frontbuyer/productmodel/detail/54500.html?couponSingleId=&type=","supply_area_id":"1501308","supply_id":"13981"}
2018-12-28 15:23:26,512  INFO [DubboServerHandler-192.168.102.37:20200-thread-42] (MtCartServiceImpl.java:122) - 获得产品信息开始！supply_area_id=1501308
2018-12-28 15:23:26,513 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-42] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name, si.id shopid, s.user_id userid, s.deliver_type, s.supply_type,si.shop_logo, s.province_id,s.supply_level,s.goods_type,s.city_id from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' where s.supply_status = '02' and s.del_flag = '1' ) select sa0.id supply_area_id, s.id supply_id, s.userid supply_userid,s.supply_name, s.shopid, s.deliver_type ,s.supply_type, s.province_id,s.city_id ,s.supply_level,s.goods_type, sa0.onshelftime add_time, sa0.priceretailonline product_price, pm.productname product_name,pm.productid product_id,pp.picturepath1,pp.picturepath2,pp.picturepath3,pp.picturepath4,pp.picturepath5,pp.mobile_img,pp.mobile_img1,pp.mobile_img2,pp.mobile_img3,pp.mobile_img4,pp.mobile_img5 ,sa0.aftersale,sa0.gifts,sa0.supplyproductid shop_product_id,sa0.pk_stordoc,sa0.is_contain_invoice,sa0.status, sa0.SALETYPE, sa0.IS_LIMITED isLimited, sa0.LIMITED_NUM limitedNum ,sa0.overplusnumber stock, pm.color,ul.sellerlevel,s.shop_logo,pb.brandname product_brand,pmo.modelname product_model,ps.sort_type sortType from supply_area0 sa0 inner join shop_product sp on sp.id = sa0.supplyproductid and sa0.isvalid = '01' and sa0.del_flag = '1' and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' inner join supplies s on s.id = sp.supplyid left join user_level ul on ul.userid = s.userid left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid left join product_brand pb on pb.brandid=pm.brandid left join product_model pmo on pm.productpattern=pmo.modelid left join product_sort ps on pm.sortid = ps.sortid where sa0.id = ? 
2018-12-28 15:23:26,513 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-42] (BaseJdbcLogger.java:139) - ==> Parameters: 1501308(BigDecimal)
2018-12-28 15:23:26,521 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-42] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:23:26,522  INFO [DubboServerHandler-192.168.102.37:20200-thread-42] (MtCartServiceImpl.java:124) - 获得产品信息结束！{"add_time":1487232117000,"city_id":"3721","color":"蓝色","deliver_type":"06","gifts":" ","goods_type":"2","is_contain_invoice":"0","mobile_img":"//product/20160406140130_1459922490554_l.jpg","mobile_img1":"//product/20160406140130_1459922490554_d.jpg","mobile_img2":"//product/20160406140130_1459922490570_d.jpg","mobile_img3":"//product/20160406140130_1459922490585_d.jpg","picturepath1":"/product/20160406140130_1459922490554.jpg","picturepath2":"/product/20160406140130_1459922490570.jpg","picturepath3":"/product/20160406140130_1459922490585.jpg","product_brand":"360","product_id":54500,"product_model":"F4高配版","product_name":"360 F4高配版 32G 蓝色 移动4G 原装","product_price":1.02,"province_id":"3586","saleType":"4","sellerlevel":0,"shop_product_id":500731,"sortType":"1","status":"1","stock":950,"supply_area_id":1501308,"supply_id":13981,"supply_level":"02","supply_name":"尟cN846228","supply_type":"22","supply_userid":259800}
2018-12-28 15:23:26,523 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-42] (BaseJdbcLogger.java:139) - ==>  Preparing: with seller as (select ts.id,ts.userid from tempsaler ts where ts.status='00' union all select s.id,s.user_id userid from supply s where s.del_flag='1' and s.supply_status='02') select su.userid from supply_area0 sa inner join shop_product sp on sa.supplyproductid=sp.id inner join seller su on su.id=sp.supplyid where sa.id = ? 
2018-12-28 15:23:26,523 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-42] (BaseJdbcLogger.java:139) - ==> Parameters: 1501308(BigDecimal)
2018-12-28 15:23:26,524 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-42] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:23:26,525 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-42] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name,s.deliver_type from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' where s.supply_status = '02' and s.del_flag = '1' union all select ts.id,ts.shopname supply_name,'04' deliver_type from tempsaler ts where ts.status = '00') select ca.id,ca.customer_id, cd.id cartDetailId,cd.supply_id,s.supply_name,s.deliver_type, cd.supply_area_id,sa0.supplyproductid shop_product_id, pp.picturepath1,pm.productid product_id,pm.productname product_name, cd.product_num,sa0.priceretailonline product_price,sa0.overplusnumber,sa0.aftersale,sa0.pk_stordoc, cd.order_type,cd.active_id from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supplies s on s.id = cd.supply_id inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid where ca.customer_id = ? 
2018-12-28 15:23:26,525 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-42] (BaseJdbcLogger.java:139) - ==> Parameters: 239034(String)
2018-12-28 15:23:26,543 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-42] (BaseJdbcLogger.java:139) - <==      Total: 3
2018-12-28 15:23:26,544  INFO [DubboServerHandler-192.168.102.37:20200-thread-42] (MtCartServiceImpl.java:209) - 查询该用户的购物车信息为：{"id":307694,"lstCartDetail":[{"active_id":0,"cart_id":307694,"deliver_type":"04","id":1165946,"maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/G71081395361200597.jpg","product_id":24284,"product_name":"三星 \tG7108 黑色 移动版","product_num":1,"product_price":609,"shopCartDetailId":1165946,"shop_product_id":200589,"stock":518,"supply_area_id":452869,"supply_id":10953,"supply_name":"屩yS541942"},{"active_id":0,"cart_id":307694,"deliver_type":"04","id":1163312,"maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/20160617094842723_722.jpg","product_id":24924,"product_name":"三星 9308I 黑色","product_num":1,"product_price":202,"shopCartDetailId":1163312,"shop_product_id":200584,"stock":4552,"supply_area_id":452864,"supply_id":10953,"supply_name":"屩yS541942"},{"active_id":0,"cart_id":307694,"deliver_type":"06","id":1623725,"maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/20160406140130_1459922490554.jpg","product_id":54500,"product_name":"360 F4高配版 32G 蓝色 移动4G 原装","product_num":4,"product_price":1.02,"shopCartDetailId":1623725,"shop_product_id":500731,"stock":950,"supply_area_id":1501308,"supply_id":13981,"supply_name":"尟cN846228"}],"userid":239034}
2018-12-28 15:23:26,544  INFO [DubboServerHandler-192.168.102.37:20200-thread-42] (MtCartServiceImpl.java:228) - 该产品已经存在于购物车，直接修改购物车数量!{"active_id":0,"cart_id":307694,"deliver_type":"06","id":1623725,"maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/20160406140130_1459922490554.jpg","product_id":54500,"product_name":"360 F4高配版 32G 蓝色 移动4G 原装","product_num":4,"product_price":1.02,"shopCartDetailId":1623725,"shop_product_id":500731,"stock":950,"supply_area_id":1501308,"supply_id":13981,"supply_name":"尟cN846228"}
2018-12-28 15:23:26,545 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-42] (BaseJdbcLogger.java:139) - ==>  Preparing: update ihd_cart_detail cd set cd.product_num = ?, cd.update_date=sysdate, cd.update_user=cd.customer_id where cd.id = ? 
2018-12-28 15:23:26,547 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-42] (BaseJdbcLogger.java:139) - ==> Parameters: 5(Integer), 1623725(String)
2018-12-28 15:23:26,649 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-42] (BaseJdbcLogger.java:139) - <==    Updates: 1
2018-12-28 15:23:26,655  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (MtCartQueryServiceImpl.java:76) - 查询买家的购物车明细信息开始！(已经按照供应商分组)customer_user_id=239034
2018-12-28 15:23:26,656 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name,s.deliver_type,s.supply_type,s.user_id supply_user_id, s.alias,s.province_id, s.city_id, s.area_id,ai.areaname province_name from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' left join areainfo ai on s.province_id = ai.areaid where s.supply_status = '02' and s.del_flag = '1' ) select ca.id,ca.customer_id, cd.id cartDetailId,cd.supply_id,s.supply_name,s.deliver_type,s.supply_type,s.supply_user_id,s.alias,s.province_id, s.city_id, s.area_id,s.province_name, cd.supply_area_id,sa0.supplyproductid shop_product_id,pp.picturepath1,pm.productid product_id,pm.productname product_name, cd.product_num,sa0.priceretailonline product_price,sa0.overplusnumber,sa0.is_contain_invoice, sa0.SALETYPE, sa0.IS_LIMITED, sa0.LIMITED_NUM, cd.order_type,cd.active_id,sa0.gifts,sa0.aftersale,sa0.pk_stordoc from ihd_cart ca inner join ihd_cart_detail cd on cd.cart_id = ca.id and cd.del_flag = '1' and ca.del_flag = '1' inner join supplies s on s.id = cd.supply_id inner join supply_area0 sa0 on sa0.id = cd.supply_area_id inner join shop_product sp on sa0.supplyproductid = sp.id and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid where ca.customer_id = ? order by cd.id desc 
2018-12-28 15:23:26,656 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - ==> Parameters: 239034(String)
2018-12-28 15:23:26,674 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - <==      Total: 3
2018-12-28 15:23:26,675  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (MtCartQueryServiceImpl.java:78) - 查询买家的购物车明细信息结束！(已经按照供应商分组)[{"alias":"香港特别行政区仓","area_id":629274,"city_id":3721,"deliver_type":"06","id":307694,"lstCartDetail":[{"active_id":0,"cart_id":307694,"deliver_type":"06","gifts":" ","id":1623725,"is_contain_invoice":"0","maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/20160406140130_1459922490554.jpg","product_id":54500,"product_name":"360 F4高配版 32G 蓝色 移动4G 原装","product_num":5,"product_price":1.02,"saleType":"4","shopCartDetailId":1623725,"shop_product_id":500731,"stock":950,"supply_area_id":1501308,"supply_id":13981,"supply_name":"尟cN846228","supply_user_id":259800}],"province_id":3586,"province_name":"香港","supply_id":13981,"supply_name":"尟cN846228","supply_type":"22","userid":239034},{"alias":"本地供货商","area_id":3722,"city_id":3721,"deliver_type":"04","id":307694,"lstCartDetail":[{"active_id":0,"cart_id":307694,"deliver_type":"04","gifts":"无","id":1165946,"is_contain_invoice":"0","maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/G71081395361200597.jpg","product_id":24284,"product_name":"三星 \tG7108 黑色 移动版","product_num":1,"product_price":609,"saleType":"2","shopCartDetailId":1165946,"shop_product_id":200589,"stock":518,"supply_area_id":452869,"supply_id":10953,"supply_name":"屩yS541942","supply_user_id":225809},{"active_id":0,"cart_id":307694,"deliver_type":"04","gifts":"手机膜","id":1163312,"is_contain_invoice":"0","maxbuy":0,"minbuy":0,"order_type":"01","picturepath1":"/product/20160617094842723_722.jpg","product_id":24924,"product_name":"三星 9308I 黑色","product_num":1,"product_price":202,"saleType":"2","shopCartDetailId":1163312,"shop_product_id":200584,"stock":4552,"supply_area_id":452864,"supply_id":10953,"supply_name":"屩yS541942","supply_user_id":225809}],"province_id":3586,"province_name":"香港","supply_id":10953,"supply_name":"屩yS541942","supply_type":"20","userid":239034}]
2018-12-28 15:23:26,675 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name, si.id shopid, s.user_id userid, s.deliver_type, s.supply_type,si.shop_logo, s.province_id,s.supply_level,s.goods_type,s.city_id from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' where s.supply_status = '02' and s.del_flag = '1' ) select sa0.id supply_area_id, s.id supply_id, s.userid supply_userid,s.supply_name, s.shopid, s.deliver_type ,s.supply_type, s.province_id,s.city_id ,s.supply_level,s.goods_type, sa0.onshelftime add_time, sa0.priceretailonline product_price, pm.productname product_name,pm.productid product_id,pp.picturepath1,pp.picturepath2,pp.picturepath3,pp.picturepath4,pp.picturepath5,pp.mobile_img,pp.mobile_img1,pp.mobile_img2,pp.mobile_img3,pp.mobile_img4,pp.mobile_img5 ,sa0.aftersale,sa0.gifts,sa0.supplyproductid shop_product_id,sa0.pk_stordoc,sa0.is_contain_invoice,sa0.status, sa0.SALETYPE, sa0.IS_LIMITED isLimited, sa0.LIMITED_NUM limitedNum ,sa0.overplusnumber stock, pm.color,ul.sellerlevel,s.shop_logo,pb.brandname product_brand,pmo.modelname product_model,ps.sort_type sortType from supply_area0 sa0 inner join shop_product sp on sp.id = sa0.supplyproductid and sa0.isvalid = '01' and sa0.del_flag = '1' and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' inner join supplies s on s.id = sp.supplyid left join user_level ul on ul.userid = s.userid left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid left join product_brand pb on pb.brandid=pm.brandid left join product_model pmo on pm.productpattern=pmo.modelid left join product_sort ps on pm.sortid = ps.sortid where sa0.id = ? 
2018-12-28 15:23:26,676 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - ==> Parameters: 1501308(BigDecimal)
2018-12-28 15:23:26,682 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:23:26,683  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (MtCartQueryServiceImpl.java:107) - 卖家或者买家所在区域参与佣金减免活动开始参数customer_user_id=239034supply_id=%s13981,product_id=%s54500,product_price=%s1.02
2018-12-28 15:23:26,683  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:104) - 商品价格重新定义开始参数userid:"239034",spplyuserid:"13981",productid:"54500",product_price:1.02
2018-12-28 15:23:26,683  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:106) - 查询卖家信息开始参数[13981]
2018-12-28 15:23:26,683  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (SupplyDaoImpl.java:42) - 根据供应商id获得供应商信息[SELECT * FROM SUPPLY WHERE ID = '13981' AND DEL_FLAG = '1']
2018-12-28 15:23:26,687  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:108) - 查询卖家信息的结果是:[{"add_date":"2016-07-18 19:22:11","add_user":"259800","area_id":629274,"city_id":3721,"corp_code":"130225199201282947","corpcard_pic":"/supply/information/20160718194554168_118.jpg,/supply/information/20160718194559973_955.jpg","corporation":"赵嘉敏","deliver_type":"06","goods_type":"2","id":13981,"license_pic":"/supply/information/20160718194606090_877.jpg","manage_mode":"01","name":"尟cN846228","organ_pic":"/supply/information/20160718194614586_937.jpg","pri_mobile":"130514*****","pri_name":"赵嘉敏","province_id":3586,"regcode":"6554645","sales_mode":"01","supply_addr":"韩国结婚都是","supply_level":"02","supply_status":"02","supply_type":"22","tax_pic":"/supply/information/20160718194610578_494.jpg","taxcode":"46546","update_date":"2018-08-24 14:04:44","update_user":"254014","user_id":259800}]
2018-12-28 15:23:26,688  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:119) - 查询买家信息开始参数[239034]
2018-12-28 15:23:26,693  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:121) - 查询买家信息结果是:[{"addtime":"2016-01-07 15:44:43","approvetime":"2016-03-24 21:59:12","approveuser":150,"areaid":3722,"buyer_type":"03","buyerid":356044,"buyersource":"03","buyerstatus":"02","city":3721,"companyname":"岝HV201323","county":3722,"customer_code":"239034","delflag":"1","ismultiples":"1","mobile":"17746528729","pri_mobile":"177465*****","province":3586,"shopname":"zhengshitest","shortcompanyname":"zhengshitest","telephone":"17746528729","userid":239034}]
2018-12-28 15:23:26,693 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - ==>  Preparing: SELECT * from PRODUCT_MAIN pm where pm.PRODUCTID = ? 
2018-12-28 15:23:26,693 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - ==> Parameters: 54500(BigDecimal)
2018-12-28 15:23:26,695 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:23:26,696  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:138) - 调用基准规则接口查询供应商基准规则,参数为:[[{"productId":"54500","supplyId":"13981"}]]
2018-12-28 15:23:26,710  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:140) - 调用基准规则接口查询供应商基准规则,结果为[[{"isExistRule":"01","itemId":"54500","minMoney":10,"priceType":"01","productId":54500,"pubTime":"2018-12-27 11:29:00","ruleId":"e82bf8c981e4431ca05bff270fadf047","ruleKey":"01_05_04_02_13981_54500","ruleStatus":"02","ruleType":"05","ruleWay":"04","salesMode":"01","supplyId":13981}]]
2018-12-28 15:23:26,710  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:148) - 查出基准规则判断其规则类型入参[{"isExistRule":"01","itemId":"54500","minMoney":10,"priceType":"01","productId":54500,"pubTime":"2018-12-27 11:29:00","ruleId":"e82bf8c981e4431ca05bff270fadf047","ruleKey":"01_05_04_02_13981_54500","ruleStatus":"02","ruleType":"05","ruleWay":"04","salesMode":"01","supplyId":13981}]
2018-12-28 15:23:26,711  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:178) - 查询基准规则计算出基准加价/佣金结果[10]
2018-12-28 15:23:26,711  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:241) - 查询加价佣金活动开始，参数[areaid ="3722",supplyId ="13981",lastArea =true]
2018-12-28 15:23:26,717  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:243) - 查询加价佣金活动结束，结果[[]]
2018-12-28 15:23:26,717  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:181) - 商品最终销售价格加价为[{extra=10, discount=1}]
2018-12-28 15:23:26,718  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (MtCartQueryServiceImpl.java:120) - 卖家或者买家所在区域参与佣金减免活动结束，此时商品价格:price=11.02
2018-12-28 15:23:26,718 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - ==>  Preparing: with supplies as (select s.id,case when si.shopname is not null then si.shopname else s.name end supply_name, si.id shopid, s.user_id userid, s.deliver_type, s.supply_type,si.shop_logo, s.province_id,s.supply_level,s.goods_type,s.city_id from supply s left join shop_info si on si.selleruserid = s.user_id and si.del_flag = '1' where s.supply_status = '02' and s.del_flag = '1' ) select sa0.id supply_area_id, s.id supply_id, s.userid supply_userid,s.supply_name, s.shopid, s.deliver_type ,s.supply_type, s.province_id,s.city_id ,s.supply_level,s.goods_type, sa0.onshelftime add_time, sa0.priceretailonline product_price, pm.productname product_name,pm.productid product_id,pp.picturepath1,pp.picturepath2,pp.picturepath3,pp.picturepath4,pp.picturepath5,pp.mobile_img,pp.mobile_img1,pp.mobile_img2,pp.mobile_img3,pp.mobile_img4,pp.mobile_img5 ,sa0.aftersale,sa0.gifts,sa0.supplyproductid shop_product_id,sa0.pk_stordoc,sa0.is_contain_invoice,sa0.status, sa0.SALETYPE, sa0.IS_LIMITED isLimited, sa0.LIMITED_NUM limitedNum ,sa0.overplusnumber stock, pm.color,ul.sellerlevel,s.shop_logo,pb.brandname product_brand,pmo.modelname product_model,ps.sort_type sortType from supply_area0 sa0 inner join shop_product sp on sp.id = sa0.supplyproductid and sa0.isvalid = '01' and sa0.del_flag = '1' and sp.isvalid = '01' and sp.del_flag = '1' inner join product_main pm on pm.productid = sp.productid and pm.del_flag = '1' inner join supplies s on s.id = sp.supplyid left join user_level ul on ul.userid = s.userid left join product_pic_relation ppr on pm.productid = ppr.product_id left join product_picture pp on pp.pictureid = ppr.pictureid left join product_brand pb on pb.brandid=pm.brandid left join product_model pmo on pm.productpattern=pmo.modelid left join product_sort ps on pm.sortid = ps.sortid where sa0.id = ? 
2018-12-28 15:23:26,718 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - ==> Parameters: 452869(BigDecimal)
2018-12-28 15:23:26,724 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:23:26,725  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (MtCartQueryServiceImpl.java:107) - 卖家或者买家所在区域参与佣金减免活动开始参数customer_user_id=239034supply_id=%s10953,product_id=%s24284,product_price=%s609
2018-12-28 15:23:26,725  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:104) - 商品价格重新定义开始参数userid:"239034",spplyuserid:"10953",productid:"24284",product_price:609
2018-12-28 15:23:26,725  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:106) - 查询卖家信息开始参数[10953]
2018-12-28 15:23:26,726  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (SupplyDaoImpl.java:42) - 根据供应商id获得供应商信息[SELECT * FROM SUPPLY WHERE ID = '10953' AND DEL_FLAG = '1']
2018-12-28 15:23:26,728  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:108) - 查询卖家信息的结果是:[{"add_date":"2015-10-28 16:06:42","add_user":"225809","area_id":3722,"city_id":3721,"corp_code":"130225199201282947","corpcard_pic":"/supply/information/20160718195740153_445.jpg,/supply/information/20160718195742799_602.jpg","corporation":"赵嘉敏","deliver_type":"04","goods_type":"4","id":10953,"license_pic":"/supply/information/20160718195745286_428.jpg","manage_mode":"01","name":"屩yS541942","organ_pic":"/supply/information/20160718195750535_513.jpg","pri_mobile":"136212*****","pri_name":"赵嘉敏","province_id":3586,"regcode":"123456","sales_mode":"01","supply_addr":"测试路","supply_status":"02","supply_type":"20","tax_pic":"/supply/information/20160718195748110_247.jpg","taxcode":"123456","update_date":"2016-07-18 19:59:36","update_user":"254014","user_id":225809}]
2018-12-28 15:23:26,728  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:119) - 查询买家信息开始参数[239034]
2018-12-28 15:23:26,731  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:121) - 查询买家信息结果是:[{"addtime":"2016-01-07 15:44:43","approvetime":"2016-03-24 21:59:12","approveuser":150,"areaid":3722,"buyer_type":"03","buyerid":356044,"buyersource":"03","buyerstatus":"02","city":3721,"companyname":"岝HV201323","county":3722,"customer_code":"239034","delflag":"1","ismultiples":"1","mobile":"17746528729","pri_mobile":"177465*****","province":3586,"shopname":"zhengshitest","shortcompanyname":"zhengshitest","telephone":"17746528729","userid":239034}]
2018-12-28 15:23:26,732 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - ==>  Preparing: SELECT * from PRODUCT_MAIN pm where pm.PRODUCTID = ? 
2018-12-28 15:23:26,732 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - ==> Parameters: 24284(BigDecimal)
2018-12-28 15:23:26,734 DEBUG [DubboServerHandler-192.168.102.37:20200-thread-43] (BaseJdbcLogger.java:139) - <==      Total: 1
2018-12-28 15:23:26,734  INFO [DubboServerHandler-192.168.102.37:20200-thread-43] (OrderQueryServiceImpl.java:138) - 调用基准规则接口查询供应商基准规则,参数为:[[{"productId":"24284","supplyId":"10953"}]]
2018-12-28 15:23:26,753 ERROR [DubboServerHandler-192.168.102.37:20200-thread-43] (ExceptionFilter.java:87) -  [DUBBO] Got unchecked and undeclared exception which called by 192.168.102.37. service: cn.ihdou.oms.cart.service.IMtCartQueryService, method: queryTLCartByUserIdGroupBySupply, exception: java.lang.NullPointerException: null, dubbo version: 2.5.3, current host: 192.168.102.37
java.lang.NullPointerException
	at com.ihdou.pricerule.service.impl.PriceRuleQueryServiceImpl.getPriceRuleDetailInfo(PriceRuleQueryServiceImpl.java:178)
	at com.ihdou.pricerule.service.impl.PriceRuleQueryServiceImpl.getPriceRuleLs(PriceRuleQueryServiceImpl.java:162)
	at com.alibaba.dubbo.common.bytecode.Wrapper32.invokeMethod(Wrapper32.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:60)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:112)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:91)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:108)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:84)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:82)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:722)
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5547][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:29280<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5547 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5547 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5547 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5547 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5547 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5547 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5547 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5547 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5547 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5547 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 << "Date: Fri, 28 Dec 2018 07:23:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5547 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5547 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5547 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5547 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5547 << Date: Fri, 28 Dec 2018 07:23:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5547 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5547 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5547][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5547][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5547: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5547: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:23:31,078] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:23:31,447] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:23:31,949] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:23:31,949] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:23:37,762] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
2018-12-28 15:23:38,258  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:23:38,264] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:23:38,264] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:23:41,089] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:23:44,091] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:23:44,593] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:23:44,593] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:23:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:23:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:23:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:23:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:23:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:23:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:23:46,652] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:23:46,655] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:23:50,406] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:23:50,908] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:23:50,909] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:23:51,096] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:23:54,086] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:23:56,722] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:23:57,224] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:23:57,225] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5548][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:35014<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5548 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5548 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5548 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5548 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5548 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5548 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5548 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5548 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5548 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5548 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 << "Date: Fri, 28 Dec 2018 07:23:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5548 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5548 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5548 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5548 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5548 << Date: Fri, 28 Dec 2018 07:23:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5548 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5548 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5548][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5548][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5548: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5548: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:23:59,556] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:23:59,558] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:24:01,099] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:24:03,043] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:24:03,545] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:24:03,546] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:24:05,978] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:24:08,267  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:24:09,361] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:24:09,863] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:24:09,863] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:24:11,106] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/taggroupmanage/getDictionaryList.do
INFO : com.ihdou.api.member.controller.crm.customertag.TagGroupManageApiController - TagGroupManageApiController getDictionaryList start
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - TagGroupManageApiServiceImpl listDictionaryCate START...
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - dictionaryVo : [com.ihdou.saasMgr.baseService.dict.model.DictionaryVo@45a2c59e] 
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - list = [{"dicName":"计划","dicName2":"","dicValue":"1","dicValue2":""},{"dicName":"推送","dicName2":"","dicValue":"2","dicValue2":""},{"dicName":"临时","dicName2":"","dicValue":"3","dicValue2":""}]
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - TagGroupManageApiServiceImpl listDictionaryCate END...
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - TagGroupManageApiServiceImpl listDictionaryCate START...
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - dictionaryVo : [com.ihdou.saasMgr.baseService.dict.model.DictionaryVo@45a2c59e] 
INFO  [2018-12-28 15:24:13,828] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - BuyerVisiteServiceImpl getVisitHistoryInfo begin
INFO  [2018-12-28 15:24:13,828] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - 入参vo：{"agentId":"e59ef26cf282403ca7d7fdc982c8d3c0","cityLi":[],"countyLi":["3722"],"flag":"1","nation":"","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceLi":[],"tagList":"","visitedGoalString":"","visitedState":"","visitedTypeString":""}
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - list = [{"dicName":"销量计划沟通","dicName2":"","dicValue":"1","dicValue2":""},{"dicName":"销量计划执行偏差沟通","dicName2":"","dicValue":"2","dicValue2":""},{"dicName":"沉默客户挽回","dicName2":"","dicValue":"3","dicValue2":""}]
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - TagGroupManageApiServiceImpl listDictionaryCate END...
INFO  [2018-12-28 15:24:13,853] cn.ihdou.crm.customertag.dao.impl.CustomerTagDaoImpl - 根据标签组名称获取标签列表sql: select tm.tag_name, tm.display_seq,tm.tag_id,tm.tag_group_id, tm.sales_capacity_type salesCapacityType from tag_manage tm  where tm.tag_group_id in (select tag_group_id  from tag_group_manage tgm   where tgm.tag_group_name = '渠道规划标签'   and tgm.del_flag = '1')   and tm.del_flag = '1'   order by tm.display_seq asc 
INFO  [2018-12-28 15:24:13,855] cn.ihdou.ihdou.common.dao.impl.DictionaryDaoImpl - 获取渠道Text&sql  SELECT tm.tag_id key, tm.tag_name value  FROM tag_manage tm  INNER JOIN TAG_GROUP_MANAGE tgm    ON tgm.tag_group_id = tm.tag_group_id  where tm.del_flag = '1'   AND tgm.del_flag = '1'   AND tgm.tag_group_state = '02'   AND tgm.tag_group_name = '渠道规划标签'
INFO  [2018-12-28 15:24:13,857] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取用户拜访记录(crm1.5)WITH VBI AS (SELECT VI.VISITED_ID ID,         LISTAGG(VI.TAG_ID, ',') WITHIN GROUP(ORDER BY VI.TAG_ID) TAGIDLIST,		 listagg(vi.visited_sales_goal, ',') within group(order by vi.tag_id) goalList    FROM VISITED_INTEND VI, VISITED_BUYERINFO VB   WHERE VB.VISITED_ID = VI.VISITED_ID and add_months(sysdate, -3)< vb.VISITED_DATE     AND VB.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VI.VISITED_ID),VPVP AS (SELECT VPI.VISITED_PLAN_ID ID,         LISTAGG(VPI.TAG_ID, ',') WITHIN GROUP(ORDER BY VPI.TAG_ID) TAGIDLIST,		 listagg(vpi.visited_sales_goal, ',') within group(order by vpi.tag_id) goalList    FROM VISITE_PLAN_INTEND VPI, VISITED_PLAN VP   WHERE VP.ID = VPI.VISITED_PLAN_ID  and add_months(sysdate, -3)< vp.add_time     AND VP.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VPI.VISITED_PLAN_ID),TEMP AS (SELECT DISTINCT TO_CHAR(BI.SHOPNAME) SHOPNAME,                  AREA1.AREANAME || '' || AREA2.AREANAME || '' ||                  AREA3.AREANAME || '' || TI.TOWNNAME || '' ||                  BI.COMPANYADDRESS COMPANYADRESS,                  VP.VISITED_TYPE VISITEDTYPE,                  '1' VISITSTATE,                  VP.VISITED_GOAL VISITEDGOAL,                  TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,                  NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,                  VB.VISITED_DATE SORTTIME2,                  VP.ID VISITEDPLANID,                  VB.VISITED_ID VISITEDID,                  TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,                  VPVP.TAGIDLIST TAGIDLIST,                  vpvp.goalList goalList,                  VP.BUYER_USERID REALBUYERID,                  VP.UNREAL_BUYER_ID UNREALBUYERID,                  TO_CHAR(BI.LONGITUDE) LONGITUDE,                  TO_CHAR(BI.LATITUDE) LATITUDE,                  TO_CHAR(BI.USERID) CUSTOMERID,                  bi.PRI_MOBILE phone,                  '3' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN BUYERINFO BI      ON VP.BUYER_USERID = BI.USERID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NOT NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT TO_CHAR(BI.SHOPNAME) SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || BI.COMPANYADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(BI.LONGITUDE) LONGITUDE,         TO_CHAR(BI.LATITUDE) LATITUDE,         TO_CHAR(BI.USERID) CUSTOMERID,         bi.PRI_MOBILE phone,         '3' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN BUYERINFO BI      ON VB.REAL_BUYER_ID = BI.USERID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NOT NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VP.VISITED_TYPE VISITEDTYPE,         '1' VISITSTATE,         VP.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VP.ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VPVP.TAGIDLIST TAGIDLIST,         vpvp.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VP.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VB.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) ))   select visitState,       shopname,       companyAdress,       visitedType,       visitedGoal,       visitedPlanId,       visitedTime,       tagIdList,       goalList,       realBuyerId,       unRealBuyerId,       visitedId,       longitude,       latitude,       customerId,       customerType  from temp  where 1=1  and add_months(sysdate, -3)< SORTTIME   order by  sortTime  desc  nulls last,shopname
INFO  [2018-12-28 15:24:13,857] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取用户拜访记录(crm1.5)分页查询&sql  SELECT * FROM (SELECT ROWNUM row_, t.* FROM (WITH VBI AS (SELECT VI.VISITED_ID ID,         LISTAGG(VI.TAG_ID, ',') WITHIN GROUP(ORDER BY VI.TAG_ID) TAGIDLIST,		 listagg(vi.visited_sales_goal, ',') within group(order by vi.tag_id) goalList    FROM VISITED_INTEND VI, VISITED_BUYERINFO VB   WHERE VB.VISITED_ID = VI.VISITED_ID and add_months(sysdate, -3)< vb.VISITED_DATE     AND VB.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VI.VISITED_ID),VPVP AS (SELECT VPI.VISITED_PLAN_ID ID,         LISTAGG(VPI.TAG_ID, ',') WITHIN GROUP(ORDER BY VPI.TAG_ID) TAGIDLIST,		 listagg(vpi.visited_sales_goal, ',') within group(order by vpi.tag_id) goalList    FROM VISITE_PLAN_INTEND VPI, VISITED_PLAN VP   WHERE VP.ID = VPI.VISITED_PLAN_ID  and add_months(sysdate, -3)< vp.add_time     AND VP.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VPI.VISITED_PLAN_ID),TEMP AS (SELECT DISTINCT TO_CHAR(BI.SHOPNAME) SHOPNAME,                  AREA1.AREANAME || '' || AREA2.AREANAME || '' ||                  AREA3.AREANAME || '' || TI.TOWNNAME || '' ||                  BI.COMPANYADDRESS COMPANYADRESS,                  VP.VISITED_TYPE VISITEDTYPE,                  '1' VISITSTATE,                  VP.VISITED_GOAL VISITEDGOAL,                  TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,                  NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,                  VB.VISITED_DATE SORTTIME2,                  VP.ID VISITEDPLANID,                  VB.VISITED_ID VISITEDID,                  TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,                  VPVP.TAGIDLIST TAGIDLIST,                  vpvp.goalList goalList,                  VP.BUYER_USERID REALBUYERID,                  VP.UNREAL_BUYER_ID UNREALBUYERID,                  TO_CHAR(BI.LONGITUDE) LONGITUDE,                  TO_CHAR(BI.LATITUDE) LATITUDE,                  TO_CHAR(BI.USERID) CUSTOMERID,                  bi.PRI_MOBILE phone,                  '3' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN BUYERINFO BI      ON VP.BUYER_USERID = BI.USERID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NOT NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT TO_CHAR(BI.SHOPNAME) SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || BI.COMPANYADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(BI.LONGITUDE) LONGITUDE,         TO_CHAR(BI.LATITUDE) LATITUDE,         TO_CHAR(BI.USERID) CUSTOMERID,         bi.PRI_MOBILE phone,         '3' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN BUYERINFO BI      ON VB.REAL_BUYER_ID = BI.USERID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NOT NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VP.VISITED_TYPE VISITEDTYPE,         '1' VISITSTATE,         VP.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VP.ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VPVP.TAGIDLIST TAGIDLIST,         vpvp.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VP.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VB.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) ))   select visitState,       shopname,       companyAdress,       visitedType,       visitedGoal,       visitedPlanId,       visitedTime,       tagIdList,       goalList,       realBuyerId,       unRealBuyerId,       visitedId,       longitude,       latitude,       customerId,       customerType  from temp  where 1=1  and add_months(sysdate, -3)< SORTTIME   order by  sortTime  desc  nulls last,shopname) t ) WHERE row_ <=20 AND row_ >=1
INFO  [2018-12-28 15:24:15,680] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:24:16,182] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:24:16,182] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:24:21,116] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:24:21,996] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:24:22,498] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:24:22,499] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:24:24,095] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:24:28,315] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:24:28,817] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:24:28,817] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5549][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:40728<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5549 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5549 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5549 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5549 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5549 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5549 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5549 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5549 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5549 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5549 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 << "Date: Fri, 28 Dec 2018 07:24:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5549 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5549 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5549 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5549 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5549 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5549 << Date: Fri, 28 Dec 2018 07:24:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5549][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5549][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5549: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5549: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:24:31,126] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:24:34,628] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:24:35,130] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:24:35,131] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:24:38,283  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:24:38,613] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - BuyerVisiteServiceImpl getVisitHistoryInfo begin
INFO  [2018-12-28 15:24:38,614] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - 入参vo：{"agentId":"e59ef26cf282403ca7d7fdc982c8d3c0","cityLi":[],"countyLi":["3722"],"flag":"1","nation":"","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceLi":[],"queryString":"152","tagList":"","visitedGoalString":"","visitedState":"","visitedTypeString":""}
INFO  [2018-12-28 15:24:38,624] cn.ihdou.ihdou.common.dao.impl.DictionaryDaoImpl - 获取渠道Text&sql  SELECT tm.tag_id key, tm.tag_name value  FROM tag_manage tm  INNER JOIN TAG_GROUP_MANAGE tgm    ON tgm.tag_group_id = tm.tag_group_id  where tm.del_flag = '1'   AND tgm.del_flag = '1'   AND tgm.tag_group_state = '02'   AND tgm.tag_group_name = '渠道规划标签'
INFO  [2018-12-28 15:24:38,626] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取用户拜访记录(crm1.5)WITH VBI AS (SELECT VI.VISITED_ID ID,         LISTAGG(VI.TAG_ID, ',') WITHIN GROUP(ORDER BY VI.TAG_ID) TAGIDLIST,		 listagg(vi.visited_sales_goal, ',') within group(order by vi.tag_id) goalList    FROM VISITED_INTEND VI, VISITED_BUYERINFO VB   WHERE VB.VISITED_ID = VI.VISITED_ID and add_months(sysdate, -3)< vb.VISITED_DATE     AND VB.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VI.VISITED_ID),VPVP AS (SELECT VPI.VISITED_PLAN_ID ID,         LISTAGG(VPI.TAG_ID, ',') WITHIN GROUP(ORDER BY VPI.TAG_ID) TAGIDLIST,		 listagg(vpi.visited_sales_goal, ',') within group(order by vpi.tag_id) goalList    FROM VISITE_PLAN_INTEND VPI, VISITED_PLAN VP   WHERE VP.ID = VPI.VISITED_PLAN_ID  and add_months(sysdate, -3)< vp.add_time     AND VP.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VPI.VISITED_PLAN_ID),TEMP AS (SELECT DISTINCT TO_CHAR(BI.SHOPNAME) SHOPNAME,                  AREA1.AREANAME || '' || AREA2.AREANAME || '' ||                  AREA3.AREANAME || '' || TI.TOWNNAME || '' ||                  BI.COMPANYADDRESS COMPANYADRESS,                  VP.VISITED_TYPE VISITEDTYPE,                  '1' VISITSTATE,                  VP.VISITED_GOAL VISITEDGOAL,                  TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,                  NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,                  VB.VISITED_DATE SORTTIME2,                  VP.ID VISITEDPLANID,                  VB.VISITED_ID VISITEDID,                  TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,                  VPVP.TAGIDLIST TAGIDLIST,                  vpvp.goalList goalList,                  VP.BUYER_USERID REALBUYERID,                  VP.UNREAL_BUYER_ID UNREALBUYERID,                  TO_CHAR(BI.LONGITUDE) LONGITUDE,                  TO_CHAR(BI.LATITUDE) LATITUDE,                  TO_CHAR(BI.USERID) CUSTOMERID,                  bi.PRI_MOBILE phone,                  '3' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN BUYERINFO BI      ON VP.BUYER_USERID = BI.USERID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NOT NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT TO_CHAR(BI.SHOPNAME) SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || BI.COMPANYADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(BI.LONGITUDE) LONGITUDE,         TO_CHAR(BI.LATITUDE) LATITUDE,         TO_CHAR(BI.USERID) CUSTOMERID,         bi.PRI_MOBILE phone,         '3' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN BUYERINFO BI      ON VB.REAL_BUYER_ID = BI.USERID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NOT NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VP.VISITED_TYPE VISITEDTYPE,         '1' VISITSTATE,         VP.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VP.ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VPVP.TAGIDLIST TAGIDLIST,         vpvp.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VP.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VB.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) ))   select visitState,       shopname,       companyAdress,       visitedType,       visitedGoal,       visitedPlanId,       visitedTime,       tagIdList,       goalList,       realBuyerId,       unRealBuyerId,       visitedId,       longitude,       latitude,       customerId,       customerType  from temp  where 1=1  and add_months(sysdate, -3)< SORTTIME  and (shopname like '%152%' or phone like '%152%')  order by  sortTime  desc  nulls last,shopname
INFO  [2018-12-28 15:24:38,626] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取用户拜访记录(crm1.5)分页查询&sql  SELECT * FROM (SELECT ROWNUM row_, t.* FROM (WITH VBI AS (SELECT VI.VISITED_ID ID,         LISTAGG(VI.TAG_ID, ',') WITHIN GROUP(ORDER BY VI.TAG_ID) TAGIDLIST,		 listagg(vi.visited_sales_goal, ',') within group(order by vi.tag_id) goalList    FROM VISITED_INTEND VI, VISITED_BUYERINFO VB   WHERE VB.VISITED_ID = VI.VISITED_ID and add_months(sysdate, -3)< vb.VISITED_DATE     AND VB.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VI.VISITED_ID),VPVP AS (SELECT VPI.VISITED_PLAN_ID ID,         LISTAGG(VPI.TAG_ID, ',') WITHIN GROUP(ORDER BY VPI.TAG_ID) TAGIDLIST,		 listagg(vpi.visited_sales_goal, ',') within group(order by vpi.tag_id) goalList    FROM VISITE_PLAN_INTEND VPI, VISITED_PLAN VP   WHERE VP.ID = VPI.VISITED_PLAN_ID  and add_months(sysdate, -3)< vp.add_time     AND VP.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VPI.VISITED_PLAN_ID),TEMP AS (SELECT DISTINCT TO_CHAR(BI.SHOPNAME) SHOPNAME,                  AREA1.AREANAME || '' || AREA2.AREANAME || '' ||                  AREA3.AREANAME || '' || TI.TOWNNAME || '' ||                  BI.COMPANYADDRESS COMPANYADRESS,                  VP.VISITED_TYPE VISITEDTYPE,                  '1' VISITSTATE,                  VP.VISITED_GOAL VISITEDGOAL,                  TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,                  NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,                  VB.VISITED_DATE SORTTIME2,                  VP.ID VISITEDPLANID,                  VB.VISITED_ID VISITEDID,                  TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,                  VPVP.TAGIDLIST TAGIDLIST,                  vpvp.goalList goalList,                  VP.BUYER_USERID REALBUYERID,                  VP.UNREAL_BUYER_ID UNREALBUYERID,                  TO_CHAR(BI.LONGITUDE) LONGITUDE,                  TO_CHAR(BI.LATITUDE) LATITUDE,                  TO_CHAR(BI.USERID) CUSTOMERID,                  bi.PRI_MOBILE phone,                  '3' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN BUYERINFO BI      ON VP.BUYER_USERID = BI.USERID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NOT NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT TO_CHAR(BI.SHOPNAME) SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || BI.COMPANYADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(BI.LONGITUDE) LONGITUDE,         TO_CHAR(BI.LATITUDE) LATITUDE,         TO_CHAR(BI.USERID) CUSTOMERID,         bi.PRI_MOBILE phone,         '3' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN BUYERINFO BI      ON VB.REAL_BUYER_ID = BI.USERID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NOT NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VP.VISITED_TYPE VISITEDTYPE,         '1' VISITSTATE,         VP.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VP.ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VPVP.TAGIDLIST TAGIDLIST,         vpvp.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VP.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VB.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) ))   select visitState,       shopname,       companyAdress,       visitedType,       visitedGoal,       visitedPlanId,       visitedTime,       tagIdList,       goalList,       realBuyerId,       unRealBuyerId,       visitedId,       longitude,       latitude,       customerId,       customerType  from temp  where 1=1  and add_months(sysdate, -3)< SORTTIME  and (shopname like '%152%' or phone like '%152%')  order by  sortTime  desc  nulls last,shopname) t ) WHERE row_ <=20 AND row_ >=1
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:24:40,945] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:24:41,134] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:24:41,447] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:24:41,447] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:24:43,088] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:24:43,088] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:24:43,105] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225817","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港省平台","type":"3","typeText":"待拜访","userName":"香港省平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225830","custype":"3","latitude":"39.915707","longitude":"116.436452","shopName":"香港天联通讯市场","type":"3","typeText":"待拜访","userName":"香港天联通讯市场"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235597","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"huanghao02","type":"3","typeText":"待拜访","userName":"huanghao02"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"238867","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"lishinichi","type":"3","typeText":"待拜访","userName":"lishinichi"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"239034","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhengshitest","type":"3","typeText":"待拜访","userName":"zhengshitest"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"241246","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台*t1","type":"3","typeText":"待拜访","userName":"香港县平台*t1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"249090","custype":"3","latitude":"39.953141","longitude":"116.378161","shopName":"ZHANGW","type":"3","typeText":"待拜访","userName":"ZHANGW"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"250180","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chenyong","type":"3","typeText":"待拜访","userName":"chenyong"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"257350","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"ceshi04","type":"3","typeText":"待拜访","userName":"ceshi04"},{"conAddress":"香港香港特别行政区九龙城","conProvince":"香港","consCounty":"九龙城","cusUserId":"259800","custype":"3","latitude":"39.915751","longitude":"116.436903","shopName":"香港天联供货商","type":"3","typeText":"待拜访","userName":"香港天联供货商"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"259960","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"naliland","type":"3","typeText":"待拜访","userName":"naliland"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"278852","custype":"3","latitude":"39.953132","longitude":"116.378176","shopName":"13716409","type":"3","typeText":"待拜访","userName":"13716409"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280239","custype":"3","latitude":"39.953133","longitude":"116.378177","shopName":"测试店铺1258","type":"3","typeText":"待拜访","userName":"测试店铺1258"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280252","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangyuanqing","type":"3","typeText":"待拜访","userName":"zhangyuanqing"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280255","custype":"3","latitude":"40.095145","longitude":"116.296211","shopName":"天联福卡通讯店","type":"3","typeText":"待拜访","userName":"天联福卡通讯店"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280261","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangzhaohui","type":"3","typeText":"待拜访","userName":"zhangzhaohui"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280262","custype":"3","latitude":"39.915715","longitude":"116.436683","shopName":"HenryMA","type":"3","typeText":"待拜访","userName":"HenryMA"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280384","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chencheng","type":"3","typeText":"待拜访","userName":"chencheng"},{"conAddress":"香港香港特别行政区湾仔","conProvince":"香港","consCounty":"湾仔","cusUserId":"280385","custype":"3","latitude":"39.915719","longitude":"116.436944","shopName":"jefference3000","type":"3","typeText":"待拜访","userName":"jefference3000"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280387","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"cfdzhy","type":"3","typeText":"待拜访","userName":"cfdzhy"},{"conAddress":"香港香港特别行政区观塘","conProvince":"香港","consCounty":"观塘","cusUserId":"280388","custype":"3","latitude":"39.915939","longitude":"116.43776","shopName":"yanxiaof","type":"3","typeText":"待拜访","userName":"yanxiaof"},{"conAddress":"香港香港特别行政区大埔","conProvince":"香港","consCounty":"大埔","cusUserId":"280548","custype":"3","latitude":"39.915661","longitude":"116.436938","shopName":"huyanling","type":"3","typeText":"待拜访","userName":"huyanling"},{"conAddress":"香港香港特别行政区香港特别行政区","conProvince":"香港","consCounty":"香港特别行政区","cusUserId":"280811","custype":"3","latitude":"39.953182","longitude":"116.378298","shopName":"13kg丝-这","type":"3","typeText":"待拜访","userName":"13kg丝-这"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280840","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"测试账号HK","type":"3","typeText":"待拜访","userName":"测试账号HK"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283027","custype":"3","latitude":"39.915782","longitude":"116.436853","shopName":"香港天联供货商1","type":"3","typeText":"待拜访","userName":"香港天联供货商1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283034","custype":"3","latitude":"39.95382","longitude":"116.374779","shopName":"wuchuming","type":"3","typeText":"待拜访","userName":"wuchuming"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283492","custype":"3","latitude":"39.953263","longitude":"116.378074","shopName":"测试客户1","type":"3","typeText":"待拜访","userName":"测试客户1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283633","custype":"3","latitude":"35.604376","longitude":"103.243021","shopName":"张测试001","type":"3","typeText":"待拜访","userName":"张测试001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"284146","custype":"3","latitude":"40.065336","longitude":"116.375398","shopName":"运营商001","type":"3","typeText":"待拜访","userName":"运营商001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"285626","custype":"3","latitude":"39.915498","longitude":"116.436445","shopName":"正式测试客户3","type":"3","typeText":"待拜访","userName":"正式测试客户3"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"286036","custype":"3","latitude":"39.915957","longitude":"116.436748","shopName":"香港终端测试组","type":"3","typeText":"待拜访","userName":"香港终端测试组"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"286914","custype":"3","latitude":"0","longitude":"0","shopName":"香港测试数据","type":"3","typeText":"待拜访","userName":"香港测试数据"},{"conAddress":"香港香港特别行政区香港市区内八宝山街道办事处","conProvince":"香港","consCounty":"香港市区内","consTown":"八宝山街道办事处","cusUserId":"288962","custype":"3","latitude":"39.915865","longitude":"116.436495","shopName":"北京客户2","type":"3","typeText":"待拜访","userName":"北京客户2"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289011","custype":"3","latitude":"39.915832","longitude":"116.436957","shopName":"测试微信注册","type":"3","typeText":"待拜访","userName":"测试微信注册"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289272","custype":"3","latitude":"39.915738","longitude":"116.436701","shopName":"海淀区客户不要动","type":"3","typeText":"待拜访","userName":"海淀区客户不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289273","custype":"3","latitude":"39.915896","longitude":"116.43673","shopName":"测试数据不要动","type":"3","typeText":"待拜访","userName":"测试数据不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289275","custype":"3","latitude":"39.915769","longitude":"116.437027","shopName":"啊啊撒","type":"3","typeText":"待拜访","userName":"啊啊撒"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289340","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chengjj","type":"3","typeText":"待拜访","userName":"chengjj"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:24:43,105] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:24:43,107] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:24:43,107] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:24:43,143] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:24:43,143] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:24:43,154] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225817","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港省平台","type":"3","typeText":"待拜访","userName":"香港省平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225830","custype":"3","latitude":"39.915707","longitude":"116.436452","shopName":"香港天联通讯市场","type":"3","typeText":"待拜访","userName":"香港天联通讯市场"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235597","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"huanghao02","type":"3","typeText":"待拜访","userName":"huanghao02"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"238867","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"lishinichi","type":"3","typeText":"待拜访","userName":"lishinichi"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"239034","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhengshitest","type":"3","typeText":"待拜访","userName":"zhengshitest"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"241246","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台*t1","type":"3","typeText":"待拜访","userName":"香港县平台*t1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"249090","custype":"3","latitude":"39.953141","longitude":"116.378161","shopName":"ZHANGW","type":"3","typeText":"待拜访","userName":"ZHANGW"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"250180","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chenyong","type":"3","typeText":"待拜访","userName":"chenyong"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"257350","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"ceshi04","type":"3","typeText":"待拜访","userName":"ceshi04"},{"conAddress":"香港香港特别行政区九龙城","conProvince":"香港","consCounty":"九龙城","cusUserId":"259800","custype":"3","latitude":"39.915751","longitude":"116.436903","shopName":"香港天联供货商","type":"3","typeText":"待拜访","userName":"香港天联供货商"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"259960","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"naliland","type":"3","typeText":"待拜访","userName":"naliland"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"278852","custype":"3","latitude":"39.953132","longitude":"116.378176","shopName":"13716409","type":"3","typeText":"待拜访","userName":"13716409"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280239","custype":"3","latitude":"39.953133","longitude":"116.378177","shopName":"测试店铺1258","type":"3","typeText":"待拜访","userName":"测试店铺1258"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280252","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangyuanqing","type":"3","typeText":"待拜访","userName":"zhangyuanqing"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280255","custype":"3","latitude":"40.095145","longitude":"116.296211","shopName":"天联福卡通讯店","type":"3","typeText":"待拜访","userName":"天联福卡通讯店"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280261","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangzhaohui","type":"3","typeText":"待拜访","userName":"zhangzhaohui"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280262","custype":"3","latitude":"39.915715","longitude":"116.436683","shopName":"HenryMA","type":"3","typeText":"待拜访","userName":"HenryMA"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280384","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chencheng","type":"3","typeText":"待拜访","userName":"chencheng"},{"conAddress":"香港香港特别行政区湾仔","conProvince":"香港","consCounty":"湾仔","cusUserId":"280385","custype":"3","latitude":"39.915719","longitude":"116.436944","shopName":"jefference3000","type":"3","typeText":"待拜访","userName":"jefference3000"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280387","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"cfdzhy","type":"3","typeText":"待拜访","userName":"cfdzhy"},{"conAddress":"香港香港特别行政区观塘","conProvince":"香港","consCounty":"观塘","cusUserId":"280388","custype":"3","latitude":"39.915939","longitude":"116.43776","shopName":"yanxiaof","type":"3","typeText":"待拜访","userName":"yanxiaof"},{"conAddress":"香港香港特别行政区大埔","conProvince":"香港","consCounty":"大埔","cusUserId":"280548","custype":"3","latitude":"39.915661","longitude":"116.436938","shopName":"huyanling","type":"3","typeText":"待拜访","userName":"huyanling"},{"conAddress":"香港香港特别行政区香港特别行政区","conProvince":"香港","consCounty":"香港特别行政区","cusUserId":"280811","custype":"3","latitude":"39.953182","longitude":"116.378298","shopName":"13kg丝-这","type":"3","typeText":"待拜访","userName":"13kg丝-这"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280840","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"测试账号HK","type":"3","typeText":"待拜访","userName":"测试账号HK"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283027","custype":"3","latitude":"39.915782","longitude":"116.436853","shopName":"香港天联供货商1","type":"3","typeText":"待拜访","userName":"香港天联供货商1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283034","custype":"3","latitude":"39.95382","longitude":"116.374779","shopName":"wuchuming","type":"3","typeText":"待拜访","userName":"wuchuming"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283492","custype":"3","latitude":"39.953263","longitude":"116.378074","shopName":"测试客户1","type":"3","typeText":"待拜访","userName":"测试客户1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283633","custype":"3","latitude":"35.604376","longitude":"103.243021","shopName":"张测试001","type":"3","typeText":"待拜访","userName":"张测试001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"284146","custype":"3","latitude":"40.065336","longitude":"116.375398","shopName":"运营商001","type":"3","typeText":"待拜访","userName":"运营商001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"285626","custype":"3","latitude":"39.915498","longitude":"116.436445","shopName":"正式测试客户3","type":"3","typeText":"待拜访","userName":"正式测试客户3"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"286036","custype":"3","latitude":"39.915957","longitude":"116.436748","shopName":"香港终端测试组","type":"3","typeText":"待拜访","userName":"香港终端测试组"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"286914","custype":"3","latitude":"0","longitude":"0","shopName":"香港测试数据","type":"3","typeText":"待拜访","userName":"香港测试数据"},{"conAddress":"香港香港特别行政区香港市区内八宝山街道办事处","conProvince":"香港","consCounty":"香港市区内","consTown":"八宝山街道办事处","cusUserId":"288962","custype":"3","latitude":"39.915865","longitude":"116.436495","shopName":"北京客户2","type":"3","typeText":"待拜访","userName":"北京客户2"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289011","custype":"3","latitude":"39.915832","longitude":"116.436957","shopName":"测试微信注册","type":"3","typeText":"待拜访","userName":"测试微信注册"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289272","custype":"3","latitude":"39.915738","longitude":"116.436701","shopName":"海淀区客户不要动","type":"3","typeText":"待拜访","userName":"海淀区客户不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289273","custype":"3","latitude":"39.915896","longitude":"116.43673","shopName":"测试数据不要动","type":"3","typeText":"待拜访","userName":"测试数据不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289275","custype":"3","latitude":"39.915769","longitude":"116.437027","shopName":"啊啊撒","type":"3","typeText":"待拜访","userName":"啊啊撒"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289340","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chengjj","type":"3","typeText":"待拜访","userName":"chengjj"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:24:43,154] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:24:43,155] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:24:43,156] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:24:44,206] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - BuyerVisiteServiceImpl getVisitHistoryInfo begin
INFO  [2018-12-28 15:24:44,207] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - 入参vo：{"agentId":"e59ef26cf282403ca7d7fdc982c8d3c0","cityLi":[],"countyLi":["3722"],"flag":"1","nation":"","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceLi":[],"queryString":"","tagList":"","visitedGoalString":"","visitedState":"","visitedTypeString":""}
INFO  [2018-12-28 15:24:44,216] cn.ihdou.ihdou.common.dao.impl.DictionaryDaoImpl - 获取渠道Text&sql  SELECT tm.tag_id key, tm.tag_name value  FROM tag_manage tm  INNER JOIN TAG_GROUP_MANAGE tgm    ON tgm.tag_group_id = tm.tag_group_id  where tm.del_flag = '1'   AND tgm.del_flag = '1'   AND tgm.tag_group_state = '02'   AND tgm.tag_group_name = '渠道规划标签'
INFO  [2018-12-28 15:24:44,219] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取用户拜访记录(crm1.5)WITH VBI AS (SELECT VI.VISITED_ID ID,         LISTAGG(VI.TAG_ID, ',') WITHIN GROUP(ORDER BY VI.TAG_ID) TAGIDLIST,		 listagg(vi.visited_sales_goal, ',') within group(order by vi.tag_id) goalList    FROM VISITED_INTEND VI, VISITED_BUYERINFO VB   WHERE VB.VISITED_ID = VI.VISITED_ID and add_months(sysdate, -3)< vb.VISITED_DATE     AND VB.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VI.VISITED_ID),VPVP AS (SELECT VPI.VISITED_PLAN_ID ID,         LISTAGG(VPI.TAG_ID, ',') WITHIN GROUP(ORDER BY VPI.TAG_ID) TAGIDLIST,		 listagg(vpi.visited_sales_goal, ',') within group(order by vpi.tag_id) goalList    FROM VISITE_PLAN_INTEND VPI, VISITED_PLAN VP   WHERE VP.ID = VPI.VISITED_PLAN_ID  and add_months(sysdate, -3)< vp.add_time     AND VP.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VPI.VISITED_PLAN_ID),TEMP AS (SELECT DISTINCT TO_CHAR(BI.SHOPNAME) SHOPNAME,                  AREA1.AREANAME || '' || AREA2.AREANAME || '' ||                  AREA3.AREANAME || '' || TI.TOWNNAME || '' ||                  BI.COMPANYADDRESS COMPANYADRESS,                  VP.VISITED_TYPE VISITEDTYPE,                  '1' VISITSTATE,                  VP.VISITED_GOAL VISITEDGOAL,                  TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,                  NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,                  VB.VISITED_DATE SORTTIME2,                  VP.ID VISITEDPLANID,                  VB.VISITED_ID VISITEDID,                  TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,                  VPVP.TAGIDLIST TAGIDLIST,                  vpvp.goalList goalList,                  VP.BUYER_USERID REALBUYERID,                  VP.UNREAL_BUYER_ID UNREALBUYERID,                  TO_CHAR(BI.LONGITUDE) LONGITUDE,                  TO_CHAR(BI.LATITUDE) LATITUDE,                  TO_CHAR(BI.USERID) CUSTOMERID,                  bi.PRI_MOBILE phone,                  '3' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN BUYERINFO BI      ON VP.BUYER_USERID = BI.USERID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NOT NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT TO_CHAR(BI.SHOPNAME) SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || BI.COMPANYADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(BI.LONGITUDE) LONGITUDE,         TO_CHAR(BI.LATITUDE) LATITUDE,         TO_CHAR(BI.USERID) CUSTOMERID,         bi.PRI_MOBILE phone,         '3' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN BUYERINFO BI      ON VB.REAL_BUYER_ID = BI.USERID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NOT NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VP.VISITED_TYPE VISITEDTYPE,         '1' VISITSTATE,         VP.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VP.ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VPVP.TAGIDLIST TAGIDLIST,         vpvp.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VP.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VB.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) ))   select visitState,       shopname,       companyAdress,       visitedType,       visitedGoal,       visitedPlanId,       visitedTime,       tagIdList,       goalList,       realBuyerId,       unRealBuyerId,       visitedId,       longitude,       latitude,       customerId,       customerType  from temp  where 1=1  and add_months(sysdate, -3)< SORTTIME   order by  sortTime  desc  nulls last,shopname
INFO  [2018-12-28 15:24:44,219] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取用户拜访记录(crm1.5)分页查询&sql  SELECT * FROM (SELECT ROWNUM row_, t.* FROM (WITH VBI AS (SELECT VI.VISITED_ID ID,         LISTAGG(VI.TAG_ID, ',') WITHIN GROUP(ORDER BY VI.TAG_ID) TAGIDLIST,		 listagg(vi.visited_sales_goal, ',') within group(order by vi.tag_id) goalList    FROM VISITED_INTEND VI, VISITED_BUYERINFO VB   WHERE VB.VISITED_ID = VI.VISITED_ID and add_months(sysdate, -3)< vb.VISITED_DATE     AND VB.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VI.VISITED_ID),VPVP AS (SELECT VPI.VISITED_PLAN_ID ID,         LISTAGG(VPI.TAG_ID, ',') WITHIN GROUP(ORDER BY VPI.TAG_ID) TAGIDLIST,		 listagg(vpi.visited_sales_goal, ',') within group(order by vpi.tag_id) goalList    FROM VISITE_PLAN_INTEND VPI, VISITED_PLAN VP   WHERE VP.ID = VPI.VISITED_PLAN_ID  and add_months(sysdate, -3)< vp.add_time     AND VP.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VPI.VISITED_PLAN_ID),TEMP AS (SELECT DISTINCT TO_CHAR(BI.SHOPNAME) SHOPNAME,                  AREA1.AREANAME || '' || AREA2.AREANAME || '' ||                  AREA3.AREANAME || '' || TI.TOWNNAME || '' ||                  BI.COMPANYADDRESS COMPANYADRESS,                  VP.VISITED_TYPE VISITEDTYPE,                  '1' VISITSTATE,                  VP.VISITED_GOAL VISITEDGOAL,                  TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,                  NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,                  VB.VISITED_DATE SORTTIME2,                  VP.ID VISITEDPLANID,                  VB.VISITED_ID VISITEDID,                  TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,                  VPVP.TAGIDLIST TAGIDLIST,                  vpvp.goalList goalList,                  VP.BUYER_USERID REALBUYERID,                  VP.UNREAL_BUYER_ID UNREALBUYERID,                  TO_CHAR(BI.LONGITUDE) LONGITUDE,                  TO_CHAR(BI.LATITUDE) LATITUDE,                  TO_CHAR(BI.USERID) CUSTOMERID,                  bi.PRI_MOBILE phone,                  '3' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN BUYERINFO BI      ON VP.BUYER_USERID = BI.USERID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NOT NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT TO_CHAR(BI.SHOPNAME) SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || BI.COMPANYADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(BI.LONGITUDE) LONGITUDE,         TO_CHAR(BI.LATITUDE) LATITUDE,         TO_CHAR(BI.USERID) CUSTOMERID,         bi.PRI_MOBILE phone,         '3' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN BUYERINFO BI      ON VB.REAL_BUYER_ID = BI.USERID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NOT NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VP.VISITED_TYPE VISITEDTYPE,         '1' VISITSTATE,         VP.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VP.ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VPVP.TAGIDLIST TAGIDLIST,         vpvp.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VP.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VB.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) ))   select visitState,       shopname,       companyAdress,       visitedType,       visitedGoal,       visitedPlanId,       visitedTime,       tagIdList,       goalList,       realBuyerId,       unRealBuyerId,       visitedId,       longitude,       latitude,       customerId,       customerType  from temp  where 1=1  and add_months(sysdate, -3)< SORTTIME   order by  sortTime  desc  nulls last,shopname) t ) WHERE row_ <=20 AND row_ >=1
2018-12-28 15:24:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:24:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:24:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:24:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:24:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:24:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:24:46,380] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:24:46,380] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:24:46,390] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225817","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港省平台","type":"3","typeText":"待拜访","userName":"香港省平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225830","custype":"3","latitude":"39.915707","longitude":"116.436452","shopName":"香港天联通讯市场","type":"3","typeText":"待拜访","userName":"香港天联通讯市场"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235597","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"huanghao02","type":"3","typeText":"待拜访","userName":"huanghao02"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"238867","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"lishinichi","type":"3","typeText":"待拜访","userName":"lishinichi"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"239034","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhengshitest","type":"3","typeText":"待拜访","userName":"zhengshitest"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"241246","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台*t1","type":"3","typeText":"待拜访","userName":"香港县平台*t1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"249090","custype":"3","latitude":"39.953141","longitude":"116.378161","shopName":"ZHANGW","type":"3","typeText":"待拜访","userName":"ZHANGW"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"250180","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chenyong","type":"3","typeText":"待拜访","userName":"chenyong"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"257350","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"ceshi04","type":"3","typeText":"待拜访","userName":"ceshi04"},{"conAddress":"香港香港特别行政区九龙城","conProvince":"香港","consCounty":"九龙城","cusUserId":"259800","custype":"3","latitude":"39.915751","longitude":"116.436903","shopName":"香港天联供货商","type":"3","typeText":"待拜访","userName":"香港天联供货商"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"259960","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"naliland","type":"3","typeText":"待拜访","userName":"naliland"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"278852","custype":"3","latitude":"39.953132","longitude":"116.378176","shopName":"13716409","type":"3","typeText":"待拜访","userName":"13716409"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280239","custype":"3","latitude":"39.953133","longitude":"116.378177","shopName":"测试店铺1258","type":"3","typeText":"待拜访","userName":"测试店铺1258"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280252","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangyuanqing","type":"3","typeText":"待拜访","userName":"zhangyuanqing"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280255","custype":"3","latitude":"40.095145","longitude":"116.296211","shopName":"天联福卡通讯店","type":"3","typeText":"待拜访","userName":"天联福卡通讯店"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280261","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangzhaohui","type":"3","typeText":"待拜访","userName":"zhangzhaohui"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280262","custype":"3","latitude":"39.915715","longitude":"116.436683","shopName":"HenryMA","type":"3","typeText":"待拜访","userName":"HenryMA"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280384","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chencheng","type":"3","typeText":"待拜访","userName":"chencheng"},{"conAddress":"香港香港特别行政区湾仔","conProvince":"香港","consCounty":"湾仔","cusUserId":"280385","custype":"3","latitude":"39.915719","longitude":"116.436944","shopName":"jefference3000","type":"3","typeText":"待拜访","userName":"jefference3000"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280387","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"cfdzhy","type":"3","typeText":"待拜访","userName":"cfdzhy"},{"conAddress":"香港香港特别行政区观塘","conProvince":"香港","consCounty":"观塘","cusUserId":"280388","custype":"3","latitude":"39.915939","longitude":"116.43776","shopName":"yanxiaof","type":"3","typeText":"待拜访","userName":"yanxiaof"},{"conAddress":"香港香港特别行政区大埔","conProvince":"香港","consCounty":"大埔","cusUserId":"280548","custype":"3","latitude":"39.915661","longitude":"116.436938","shopName":"huyanling","type":"3","typeText":"待拜访","userName":"huyanling"},{"conAddress":"香港香港特别行政区香港特别行政区","conProvince":"香港","consCounty":"香港特别行政区","cusUserId":"280811","custype":"3","latitude":"39.953182","longitude":"116.378298","shopName":"13kg丝-这","type":"3","typeText":"待拜访","userName":"13kg丝-这"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280840","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"测试账号HK","type":"3","typeText":"待拜访","userName":"测试账号HK"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283027","custype":"3","latitude":"39.915782","longitude":"116.436853","shopName":"香港天联供货商1","type":"3","typeText":"待拜访","userName":"香港天联供货商1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283034","custype":"3","latitude":"39.95382","longitude":"116.374779","shopName":"wuchuming","type":"3","typeText":"待拜访","userName":"wuchuming"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283492","custype":"3","latitude":"39.953263","longitude":"116.378074","shopName":"测试客户1","type":"3","typeText":"待拜访","userName":"测试客户1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283633","custype":"3","latitude":"35.604376","longitude":"103.243021","shopName":"张测试001","type":"3","typeText":"待拜访","userName":"张测试001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"284146","custype":"3","latitude":"40.065336","longitude":"116.375398","shopName":"运营商001","type":"3","typeText":"待拜访","userName":"运营商001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"285626","custype":"3","latitude":"39.915498","longitude":"116.436445","shopName":"正式测试客户3","type":"3","typeText":"待拜访","userName":"正式测试客户3"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"286036","custype":"3","latitude":"39.915957","longitude":"116.436748","shopName":"香港终端测试组","type":"3","typeText":"待拜访","userName":"香港终端测试组"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"286914","custype":"3","latitude":"0","longitude":"0","shopName":"香港测试数据","type":"3","typeText":"待拜访","userName":"香港测试数据"},{"conAddress":"香港香港特别行政区香港市区内八宝山街道办事处","conProvince":"香港","consCounty":"香港市区内","consTown":"八宝山街道办事处","cusUserId":"288962","custype":"3","latitude":"39.915865","longitude":"116.436495","shopName":"北京客户2","type":"3","typeText":"待拜访","userName":"北京客户2"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289011","custype":"3","latitude":"39.915832","longitude":"116.436957","shopName":"测试微信注册","type":"3","typeText":"待拜访","userName":"测试微信注册"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289272","custype":"3","latitude":"39.915738","longitude":"116.436701","shopName":"海淀区客户不要动","type":"3","typeText":"待拜访","userName":"海淀区客户不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289273","custype":"3","latitude":"39.915896","longitude":"116.43673","shopName":"测试数据不要动","type":"3","typeText":"待拜访","userName":"测试数据不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289275","custype":"3","latitude":"39.915769","longitude":"116.437027","shopName":"啊啊撒","type":"3","typeText":"待拜访","userName":"啊啊撒"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289340","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chengjj","type":"3","typeText":"待拜访","userName":"chengjj"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:24:46,390] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:24:46,391] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:24:46,392] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:24:46,429] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:24:46,430] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:24:46,439] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225817","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港省平台","type":"3","typeText":"待拜访","userName":"香港省平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225830","custype":"3","latitude":"39.915707","longitude":"116.436452","shopName":"香港天联通讯市场","type":"3","typeText":"待拜访","userName":"香港天联通讯市场"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235597","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"huanghao02","type":"3","typeText":"待拜访","userName":"huanghao02"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"238867","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"lishinichi","type":"3","typeText":"待拜访","userName":"lishinichi"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"239034","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhengshitest","type":"3","typeText":"待拜访","userName":"zhengshitest"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"241246","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台*t1","type":"3","typeText":"待拜访","userName":"香港县平台*t1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"249090","custype":"3","latitude":"39.953141","longitude":"116.378161","shopName":"ZHANGW","type":"3","typeText":"待拜访","userName":"ZHANGW"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"250180","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chenyong","type":"3","typeText":"待拜访","userName":"chenyong"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"257350","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"ceshi04","type":"3","typeText":"待拜访","userName":"ceshi04"},{"conAddress":"香港香港特别行政区九龙城","conProvince":"香港","consCounty":"九龙城","cusUserId":"259800","custype":"3","latitude":"39.915751","longitude":"116.436903","shopName":"香港天联供货商","type":"3","typeText":"待拜访","userName":"香港天联供货商"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"259960","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"naliland","type":"3","typeText":"待拜访","userName":"naliland"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"278852","custype":"3","latitude":"39.953132","longitude":"116.378176","shopName":"13716409","type":"3","typeText":"待拜访","userName":"13716409"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280239","custype":"3","latitude":"39.953133","longitude":"116.378177","shopName":"测试店铺1258","type":"3","typeText":"待拜访","userName":"测试店铺1258"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280252","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangyuanqing","type":"3","typeText":"待拜访","userName":"zhangyuanqing"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280255","custype":"3","latitude":"40.095145","longitude":"116.296211","shopName":"天联福卡通讯店","type":"3","typeText":"待拜访","userName":"天联福卡通讯店"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280261","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangzhaohui","type":"3","typeText":"待拜访","userName":"zhangzhaohui"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280262","custype":"3","latitude":"39.915715","longitude":"116.436683","shopName":"HenryMA","type":"3","typeText":"待拜访","userName":"HenryMA"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280384","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chencheng","type":"3","typeText":"待拜访","userName":"chencheng"},{"conAddress":"香港香港特别行政区湾仔","conProvince":"香港","consCounty":"湾仔","cusUserId":"280385","custype":"3","latitude":"39.915719","longitude":"116.436944","shopName":"jefference3000","type":"3","typeText":"待拜访","userName":"jefference3000"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280387","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"cfdzhy","type":"3","typeText":"待拜访","userName":"cfdzhy"},{"conAddress":"香港香港特别行政区观塘","conProvince":"香港","consCounty":"观塘","cusUserId":"280388","custype":"3","latitude":"39.915939","longitude":"116.43776","shopName":"yanxiaof","type":"3","typeText":"待拜访","userName":"yanxiaof"},{"conAddress":"香港香港特别行政区大埔","conProvince":"香港","consCounty":"大埔","cusUserId":"280548","custype":"3","latitude":"39.915661","longitude":"116.436938","shopName":"huyanling","type":"3","typeText":"待拜访","userName":"huyanling"},{"conAddress":"香港香港特别行政区香港特别行政区","conProvince":"香港","consCounty":"香港特别行政区","cusUserId":"280811","custype":"3","latitude":"39.953182","longitude":"116.378298","shopName":"13kg丝-这","type":"3","typeText":"待拜访","userName":"13kg丝-这"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280840","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"测试账号HK","type":"3","typeText":"待拜访","userName":"测试账号HK"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283027","custype":"3","latitude":"39.915782","longitude":"116.436853","shopName":"香港天联供货商1","type":"3","typeText":"待拜访","userName":"香港天联供货商1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283034","custype":"3","latitude":"39.95382","longitude":"116.374779","shopName":"wuchuming","type":"3","typeText":"待拜访","userName":"wuchuming"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283492","custype":"3","latitude":"39.953263","longitude":"116.378074","shopName":"测试客户1","type":"3","typeText":"待拜访","userName":"测试客户1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283633","custype":"3","latitude":"35.604376","longitude":"103.243021","shopName":"张测试001","type":"3","typeText":"待拜访","userName":"张测试001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"284146","custype":"3","latitude":"40.065336","longitude":"116.375398","shopName":"运营商001","type":"3","typeText":"待拜访","userName":"运营商001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"285626","custype":"3","latitude":"39.915498","longitude":"116.436445","shopName":"正式测试客户3","type":"3","typeText":"待拜访","userName":"正式测试客户3"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"286036","custype":"3","latitude":"39.915957","longitude":"116.436748","shopName":"香港终端测试组","type":"3","typeText":"待拜访","userName":"香港终端测试组"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"286914","custype":"3","latitude":"0","longitude":"0","shopName":"香港测试数据","type":"3","typeText":"待拜访","userName":"香港测试数据"},{"conAddress":"香港香港特别行政区香港市区内八宝山街道办事处","conProvince":"香港","consCounty":"香港市区内","consTown":"八宝山街道办事处","cusUserId":"288962","custype":"3","latitude":"39.915865","longitude":"116.436495","shopName":"北京客户2","type":"3","typeText":"待拜访","userName":"北京客户2"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289011","custype":"3","latitude":"39.915832","longitude":"116.436957","shopName":"测试微信注册","type":"3","typeText":"待拜访","userName":"测试微信注册"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289272","custype":"3","latitude":"39.915738","longitude":"116.436701","shopName":"海淀区客户不要动","type":"3","typeText":"待拜访","userName":"海淀区客户不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289273","custype":"3","latitude":"39.915896","longitude":"116.43673","shopName":"测试数据不要动","type":"3","typeText":"待拜访","userName":"测试数据不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289275","custype":"3","latitude":"39.915769","longitude":"116.437027","shopName":"啊啊撒","type":"3","typeText":"待拜访","userName":"啊啊撒"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289340","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chengjj","type":"3","typeText":"待拜访","userName":"chengjj"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:24:46,439] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:24:46,441] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:24:46,441] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
DEBUG [2018-12-28 15:24:46,655] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:24:46,657] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:24:47,267] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:24:47,769] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:24:47,769] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:24:51,143] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:24:53,581] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/taggroupmanage/getDictionaryList.do
INFO : com.ihdou.api.member.controller.crm.customertag.TagGroupManageApiController - TagGroupManageApiController getDictionaryList start
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - TagGroupManageApiServiceImpl listDictionaryCate START...
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - dictionaryVo : [com.ihdou.saasMgr.baseService.dict.model.DictionaryVo@3212fae0] 
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - list = [{"dicName":"计划","dicName2":"","dicValue":"1","dicValue2":""},{"dicName":"推送","dicName2":"","dicValue":"2","dicValue2":""},{"dicName":"临时","dicName2":"","dicValue":"3","dicValue2":""}]
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - TagGroupManageApiServiceImpl listDictionaryCate END...
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - TagGroupManageApiServiceImpl listDictionaryCate START...
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - dictionaryVo : [com.ihdou.saasMgr.baseService.dict.model.DictionaryVo@3212fae0] 
INFO  [2018-12-28 15:24:53,720] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - BuyerVisiteServiceImpl getVisitHistoryInfo begin
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - list = [{"dicName":"销量计划沟通","dicName2":"","dicValue":"1","dicValue2":""},{"dicName":"销量计划执行偏差沟通","dicName2":"","dicValue":"2","dicValue2":""},{"dicName":"沉默客户挽回","dicName2":"","dicValue":"3","dicValue2":""}]
INFO  [2018-12-28 15:24:53,720] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - 入参vo：{"agentId":"e59ef26cf282403ca7d7fdc982c8d3c0","cityLi":[],"countyLi":["3722"],"flag":"1","nation":"","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceLi":[],"tagList":"","visitedGoalString":"","visitedState":"","visitedTypeString":""}
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - TagGroupManageApiServiceImpl listDictionaryCate END...
INFO  [2018-12-28 15:24:53,726] cn.ihdou.crm.customertag.dao.impl.CustomerTagDaoImpl - 根据标签组名称获取标签列表sql: select tm.tag_name, tm.display_seq,tm.tag_id,tm.tag_group_id, tm.sales_capacity_type salesCapacityType from tag_manage tm  where tm.tag_group_id in (select tag_group_id  from tag_group_manage tgm   where tgm.tag_group_name = '渠道规划标签'   and tgm.del_flag = '1')   and tm.del_flag = '1'   order by tm.display_seq asc 
INFO  [2018-12-28 15:24:53,729] cn.ihdou.ihdou.common.dao.impl.DictionaryDaoImpl - 获取渠道Text&sql  SELECT tm.tag_id key, tm.tag_name value  FROM tag_manage tm  INNER JOIN TAG_GROUP_MANAGE tgm    ON tgm.tag_group_id = tm.tag_group_id  where tm.del_flag = '1'   AND tgm.del_flag = '1'   AND tgm.tag_group_state = '02'   AND tgm.tag_group_name = '渠道规划标签'
INFO  [2018-12-28 15:24:53,731] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取用户拜访记录(crm1.5)WITH VBI AS (SELECT VI.VISITED_ID ID,         LISTAGG(VI.TAG_ID, ',') WITHIN GROUP(ORDER BY VI.TAG_ID) TAGIDLIST,		 listagg(vi.visited_sales_goal, ',') within group(order by vi.tag_id) goalList    FROM VISITED_INTEND VI, VISITED_BUYERINFO VB   WHERE VB.VISITED_ID = VI.VISITED_ID and add_months(sysdate, -3)< vb.VISITED_DATE     AND VB.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VI.VISITED_ID),VPVP AS (SELECT VPI.VISITED_PLAN_ID ID,         LISTAGG(VPI.TAG_ID, ',') WITHIN GROUP(ORDER BY VPI.TAG_ID) TAGIDLIST,		 listagg(vpi.visited_sales_goal, ',') within group(order by vpi.tag_id) goalList    FROM VISITE_PLAN_INTEND VPI, VISITED_PLAN VP   WHERE VP.ID = VPI.VISITED_PLAN_ID  and add_months(sysdate, -3)< vp.add_time     AND VP.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VPI.VISITED_PLAN_ID),TEMP AS (SELECT DISTINCT TO_CHAR(BI.SHOPNAME) SHOPNAME,                  AREA1.AREANAME || '' || AREA2.AREANAME || '' ||                  AREA3.AREANAME || '' || TI.TOWNNAME || '' ||                  BI.COMPANYADDRESS COMPANYADRESS,                  VP.VISITED_TYPE VISITEDTYPE,                  '1' VISITSTATE,                  VP.VISITED_GOAL VISITEDGOAL,                  TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,                  NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,                  VB.VISITED_DATE SORTTIME2,                  VP.ID VISITEDPLANID,                  VB.VISITED_ID VISITEDID,                  TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,                  VPVP.TAGIDLIST TAGIDLIST,                  vpvp.goalList goalList,                  VP.BUYER_USERID REALBUYERID,                  VP.UNREAL_BUYER_ID UNREALBUYERID,                  TO_CHAR(BI.LONGITUDE) LONGITUDE,                  TO_CHAR(BI.LATITUDE) LATITUDE,                  TO_CHAR(BI.USERID) CUSTOMERID,                  bi.PRI_MOBILE phone,                  '3' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN BUYERINFO BI      ON VP.BUYER_USERID = BI.USERID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NOT NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT TO_CHAR(BI.SHOPNAME) SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || BI.COMPANYADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(BI.LONGITUDE) LONGITUDE,         TO_CHAR(BI.LATITUDE) LATITUDE,         TO_CHAR(BI.USERID) CUSTOMERID,         bi.PRI_MOBILE phone,         '3' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN BUYERINFO BI      ON VB.REAL_BUYER_ID = BI.USERID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NOT NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VP.VISITED_TYPE VISITEDTYPE,         '1' VISITSTATE,         VP.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VP.ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VPVP.TAGIDLIST TAGIDLIST,         vpvp.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VP.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VB.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) ))   select visitState,       shopname,       companyAdress,       visitedType,       visitedGoal,       visitedPlanId,       visitedTime,       tagIdList,       goalList,       realBuyerId,       unRealBuyerId,       visitedId,       longitude,       latitude,       customerId,       customerType  from temp  where 1=1  and add_months(sysdate, -3)< SORTTIME   order by  sortTime  desc  nulls last,shopname
INFO  [2018-12-28 15:24:53,731] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取用户拜访记录(crm1.5)分页查询&sql  SELECT * FROM (SELECT ROWNUM row_, t.* FROM (WITH VBI AS (SELECT VI.VISITED_ID ID,         LISTAGG(VI.TAG_ID, ',') WITHIN GROUP(ORDER BY VI.TAG_ID) TAGIDLIST,		 listagg(vi.visited_sales_goal, ',') within group(order by vi.tag_id) goalList    FROM VISITED_INTEND VI, VISITED_BUYERINFO VB   WHERE VB.VISITED_ID = VI.VISITED_ID and add_months(sysdate, -3)< vb.VISITED_DATE     AND VB.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VI.VISITED_ID),VPVP AS (SELECT VPI.VISITED_PLAN_ID ID,         LISTAGG(VPI.TAG_ID, ',') WITHIN GROUP(ORDER BY VPI.TAG_ID) TAGIDLIST,		 listagg(vpi.visited_sales_goal, ',') within group(order by vpi.tag_id) goalList    FROM VISITE_PLAN_INTEND VPI, VISITED_PLAN VP   WHERE VP.ID = VPI.VISITED_PLAN_ID  and add_months(sysdate, -3)< vp.add_time     AND VP.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VPI.VISITED_PLAN_ID),TEMP AS (SELECT DISTINCT TO_CHAR(BI.SHOPNAME) SHOPNAME,                  AREA1.AREANAME || '' || AREA2.AREANAME || '' ||                  AREA3.AREANAME || '' || TI.TOWNNAME || '' ||                  BI.COMPANYADDRESS COMPANYADRESS,                  VP.VISITED_TYPE VISITEDTYPE,                  '1' VISITSTATE,                  VP.VISITED_GOAL VISITEDGOAL,                  TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,                  NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,                  VB.VISITED_DATE SORTTIME2,                  VP.ID VISITEDPLANID,                  VB.VISITED_ID VISITEDID,                  TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,                  VPVP.TAGIDLIST TAGIDLIST,                  vpvp.goalList goalList,                  VP.BUYER_USERID REALBUYERID,                  VP.UNREAL_BUYER_ID UNREALBUYERID,                  TO_CHAR(BI.LONGITUDE) LONGITUDE,                  TO_CHAR(BI.LATITUDE) LATITUDE,                  TO_CHAR(BI.USERID) CUSTOMERID,                  bi.PRI_MOBILE phone,                  '3' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN BUYERINFO BI      ON VP.BUYER_USERID = BI.USERID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NOT NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT TO_CHAR(BI.SHOPNAME) SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || BI.COMPANYADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(BI.LONGITUDE) LONGITUDE,         TO_CHAR(BI.LATITUDE) LATITUDE,         TO_CHAR(BI.USERID) CUSTOMERID,         bi.PRI_MOBILE phone,         '3' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN BUYERINFO BI      ON VB.REAL_BUYER_ID = BI.USERID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NOT NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VP.VISITED_TYPE VISITEDTYPE,         '1' VISITSTATE,         VP.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VP.ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VPVP.TAGIDLIST TAGIDLIST,         vpvp.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VP.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VB.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) ))   select visitState,       shopname,       companyAdress,       visitedType,       visitedGoal,       visitedPlanId,       visitedTime,       tagIdList,       goalList,       realBuyerId,       unRealBuyerId,       visitedId,       longitude,       latitude,       customerId,       customerType  from temp  where 1=1  and add_months(sysdate, -3)< SORTTIME   order by  sortTime  desc  nulls last,shopname) t ) WHERE row_ <=20 AND row_ >=1
INFO  [2018-12-28 15:24:54,084] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:24:54,084] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:24:54,118] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5550][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:46476<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5550 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5550 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5550 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5550 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5550 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5550 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5550 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5550 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5550 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5550 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 << "Date: Fri, 28 Dec 2018 07:24:58 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 << "26[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5550 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5550 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5550 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5550 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5550 << Date: Fri, 28 Dec 2018 07:24:58 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5550 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5550 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5550][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5550][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5550: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5550: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:24:59,559] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:24:59,561] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:24:59,894] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:25:00,396] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:25:00,396] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:25:01,149] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 ERROR [2018-12-28 15:25:05,978] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO : com.ihdou.saasMgr.filter.HdxTokenFilter - HdxTokenFilter doFilter url:/IHDouApiMember/taggroupmanage/getDictionaryList.do
INFO : com.ihdou.api.member.controller.crm.customertag.TagGroupManageApiController - TagGroupManageApiController getDictionaryList start
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - TagGroupManageApiServiceImpl listDictionaryCate START...
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - dictionaryVo : [com.ihdou.saasMgr.baseService.dict.model.DictionaryVo@35c67546] 
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - list = [{"dicName":"计划","dicName2":"","dicValue":"1","dicValue2":""},{"dicName":"推送","dicName2":"","dicValue":"2","dicValue2":""},{"dicName":"临时","dicName2":"","dicValue":"3","dicValue2":""}]
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - TagGroupManageApiServiceImpl listDictionaryCate END...
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - TagGroupManageApiServiceImpl listDictionaryCate START...
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - dictionaryVo : [com.ihdou.saasMgr.baseService.dict.model.DictionaryVo@35c67546] 
INFO  [2018-12-28 15:25:06,191] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - BuyerVisiteServiceImpl getVisitHistoryInfo begin
INFO  [2018-12-28 15:25:06,192] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - 入参vo：{"agentId":"e59ef26cf282403ca7d7fdc982c8d3c0","cityLi":[],"countyLi":["3722"],"flag":"1","nation":"","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceLi":[],"tagList":"","visitedGoalString":"","visitedState":"","visitedTypeString":""}
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - list = [{"dicName":"销量计划沟通","dicName2":"","dicValue":"1","dicValue2":""},{"dicName":"销量计划执行偏差沟通","dicName2":"","dicValue":"2","dicValue2":""},{"dicName":"沉默客户挽回","dicName2":"","dicValue":"3","dicValue2":""}]
INFO : com.ihdou.api.member.service.impl.crm.customertag.TagGroupManageApiServiceImpl - TagGroupManageApiServiceImpl listDictionaryCate END...
INFO  [2018-12-28 15:25:06,203] cn.ihdou.crm.customertag.dao.impl.CustomerTagDaoImpl - 根据标签组名称获取标签列表sql: select tm.tag_name, tm.display_seq,tm.tag_id,tm.tag_group_id, tm.sales_capacity_type salesCapacityType from tag_manage tm  where tm.tag_group_id in (select tag_group_id  from tag_group_manage tgm   where tgm.tag_group_name = '渠道规划标签'   and tgm.del_flag = '1')   and tm.del_flag = '1'   order by tm.display_seq asc 
INFO  [2018-12-28 15:25:06,208] cn.ihdou.ihdou.common.dao.impl.DictionaryDaoImpl - 获取渠道Text&sql  SELECT tm.tag_id key, tm.tag_name value  FROM tag_manage tm  INNER JOIN TAG_GROUP_MANAGE tgm    ON tgm.tag_group_id = tm.tag_group_id  where tm.del_flag = '1'   AND tgm.del_flag = '1'   AND tgm.tag_group_state = '02'   AND tgm.tag_group_name = '渠道规划标签'
INFO  [2018-12-28 15:25:06,210] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取用户拜访记录(crm1.5)WITH VBI AS (SELECT VI.VISITED_ID ID,         LISTAGG(VI.TAG_ID, ',') WITHIN GROUP(ORDER BY VI.TAG_ID) TAGIDLIST,		 listagg(vi.visited_sales_goal, ',') within group(order by vi.tag_id) goalList    FROM VISITED_INTEND VI, VISITED_BUYERINFO VB   WHERE VB.VISITED_ID = VI.VISITED_ID and add_months(sysdate, -3)< vb.VISITED_DATE     AND VB.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VI.VISITED_ID),VPVP AS (SELECT VPI.VISITED_PLAN_ID ID,         LISTAGG(VPI.TAG_ID, ',') WITHIN GROUP(ORDER BY VPI.TAG_ID) TAGIDLIST,		 listagg(vpi.visited_sales_goal, ',') within group(order by vpi.tag_id) goalList    FROM VISITE_PLAN_INTEND VPI, VISITED_PLAN VP   WHERE VP.ID = VPI.VISITED_PLAN_ID  and add_months(sysdate, -3)< vp.add_time     AND VP.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VPI.VISITED_PLAN_ID),TEMP AS (SELECT DISTINCT TO_CHAR(BI.SHOPNAME) SHOPNAME,                  AREA1.AREANAME || '' || AREA2.AREANAME || '' ||                  AREA3.AREANAME || '' || TI.TOWNNAME || '' ||                  BI.COMPANYADDRESS COMPANYADRESS,                  VP.VISITED_TYPE VISITEDTYPE,                  '1' VISITSTATE,                  VP.VISITED_GOAL VISITEDGOAL,                  TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,                  NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,                  VB.VISITED_DATE SORTTIME2,                  VP.ID VISITEDPLANID,                  VB.VISITED_ID VISITEDID,                  TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,                  VPVP.TAGIDLIST TAGIDLIST,                  vpvp.goalList goalList,                  VP.BUYER_USERID REALBUYERID,                  VP.UNREAL_BUYER_ID UNREALBUYERID,                  TO_CHAR(BI.LONGITUDE) LONGITUDE,                  TO_CHAR(BI.LATITUDE) LATITUDE,                  TO_CHAR(BI.USERID) CUSTOMERID,                  bi.PRI_MOBILE phone,                  '3' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN BUYERINFO BI      ON VP.BUYER_USERID = BI.USERID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NOT NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT TO_CHAR(BI.SHOPNAME) SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || BI.COMPANYADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(BI.LONGITUDE) LONGITUDE,         TO_CHAR(BI.LATITUDE) LATITUDE,         TO_CHAR(BI.USERID) CUSTOMERID,         bi.PRI_MOBILE phone,         '3' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN BUYERINFO BI      ON VB.REAL_BUYER_ID = BI.USERID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NOT NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VP.VISITED_TYPE VISITEDTYPE,         '1' VISITSTATE,         VP.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VP.ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VPVP.TAGIDLIST TAGIDLIST,         vpvp.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VP.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VB.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) ))   select visitState,       shopname,       companyAdress,       visitedType,       visitedGoal,       visitedPlanId,       visitedTime,       tagIdList,       goalList,       realBuyerId,       unRealBuyerId,       visitedId,       longitude,       latitude,       customerId,       customerType  from temp  where 1=1  and add_months(sysdate, -3)< SORTTIME   order by  sortTime  desc  nulls last,shopname
INFO  [2018-12-28 15:25:06,210] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取用户拜访记录(crm1.5)分页查询&sql  SELECT * FROM (SELECT ROWNUM row_, t.* FROM (WITH VBI AS (SELECT VI.VISITED_ID ID,         LISTAGG(VI.TAG_ID, ',') WITHIN GROUP(ORDER BY VI.TAG_ID) TAGIDLIST,		 listagg(vi.visited_sales_goal, ',') within group(order by vi.tag_id) goalList    FROM VISITED_INTEND VI, VISITED_BUYERINFO VB   WHERE VB.VISITED_ID = VI.VISITED_ID and add_months(sysdate, -3)< vb.VISITED_DATE     AND VB.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VI.VISITED_ID),VPVP AS (SELECT VPI.VISITED_PLAN_ID ID,         LISTAGG(VPI.TAG_ID, ',') WITHIN GROUP(ORDER BY VPI.TAG_ID) TAGIDLIST,		 listagg(vpi.visited_sales_goal, ',') within group(order by vpi.tag_id) goalList    FROM VISITE_PLAN_INTEND VPI, VISITED_PLAN VP   WHERE VP.ID = VPI.VISITED_PLAN_ID  and add_months(sysdate, -3)< vp.add_time     AND VP.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VPI.VISITED_PLAN_ID),TEMP AS (SELECT DISTINCT TO_CHAR(BI.SHOPNAME) SHOPNAME,                  AREA1.AREANAME || '' || AREA2.AREANAME || '' ||                  AREA3.AREANAME || '' || TI.TOWNNAME || '' ||                  BI.COMPANYADDRESS COMPANYADRESS,                  VP.VISITED_TYPE VISITEDTYPE,                  '1' VISITSTATE,                  VP.VISITED_GOAL VISITEDGOAL,                  TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,                  NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,                  VB.VISITED_DATE SORTTIME2,                  VP.ID VISITEDPLANID,                  VB.VISITED_ID VISITEDID,                  TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,                  VPVP.TAGIDLIST TAGIDLIST,                  vpvp.goalList goalList,                  VP.BUYER_USERID REALBUYERID,                  VP.UNREAL_BUYER_ID UNREALBUYERID,                  TO_CHAR(BI.LONGITUDE) LONGITUDE,                  TO_CHAR(BI.LATITUDE) LATITUDE,                  TO_CHAR(BI.USERID) CUSTOMERID,                  bi.PRI_MOBILE phone,                  '3' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN BUYERINFO BI      ON VP.BUYER_USERID = BI.USERID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NOT NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT TO_CHAR(BI.SHOPNAME) SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || BI.COMPANYADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(BI.LONGITUDE) LONGITUDE,         TO_CHAR(BI.LATITUDE) LATITUDE,         TO_CHAR(BI.USERID) CUSTOMERID,         bi.PRI_MOBILE phone,         '3' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN BUYERINFO BI      ON VB.REAL_BUYER_ID = BI.USERID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NOT NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VP.VISITED_TYPE VISITEDTYPE,         '1' VISITSTATE,         VP.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VP.ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VPVP.TAGIDLIST TAGIDLIST,         vpvp.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VP.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VB.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) ))   select visitState,       shopname,       companyAdress,       visitedType,       visitedGoal,       visitedPlanId,       visitedTime,       tagIdList,       goalList,       realBuyerId,       unRealBuyerId,       visitedId,       longitude,       latitude,       customerId,       customerType  from temp  where 1=1  and add_months(sysdate, -3)< SORTTIME   order by  sortTime  desc  nulls last,shopname) t ) WHERE row_ <=20 AND row_ >=1
INFO  [2018-12-28 15:25:06,212] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:25:06,714] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:25:06,715] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:25:08,292  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:25:11,157] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:25:12,566] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:25:13,068] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:25:13,068] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:25:13,549] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:25:13,549] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:25:13,561] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225817","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港省平台","type":"3","typeText":"待拜访","userName":"香港省平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225830","custype":"3","latitude":"39.915707","longitude":"116.436452","shopName":"香港天联通讯市场","type":"3","typeText":"待拜访","userName":"香港天联通讯市场"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235597","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"huanghao02","type":"3","typeText":"待拜访","userName":"huanghao02"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"238867","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"lishinichi","type":"3","typeText":"待拜访","userName":"lishinichi"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"239034","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhengshitest","type":"3","typeText":"待拜访","userName":"zhengshitest"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"241246","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台*t1","type":"3","typeText":"待拜访","userName":"香港县平台*t1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"249090","custype":"3","latitude":"39.953141","longitude":"116.378161","shopName":"ZHANGW","type":"3","typeText":"待拜访","userName":"ZHANGW"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"250180","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chenyong","type":"3","typeText":"待拜访","userName":"chenyong"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"257350","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"ceshi04","type":"3","typeText":"待拜访","userName":"ceshi04"},{"conAddress":"香港香港特别行政区九龙城","conProvince":"香港","consCounty":"九龙城","cusUserId":"259800","custype":"3","latitude":"39.915751","longitude":"116.436903","shopName":"香港天联供货商","type":"3","typeText":"待拜访","userName":"香港天联供货商"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"259960","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"naliland","type":"3","typeText":"待拜访","userName":"naliland"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"278852","custype":"3","latitude":"39.953132","longitude":"116.378176","shopName":"13716409","type":"3","typeText":"待拜访","userName":"13716409"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280239","custype":"3","latitude":"39.953133","longitude":"116.378177","shopName":"测试店铺1258","type":"3","typeText":"待拜访","userName":"测试店铺1258"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280252","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangyuanqing","type":"3","typeText":"待拜访","userName":"zhangyuanqing"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280255","custype":"3","latitude":"40.095145","longitude":"116.296211","shopName":"天联福卡通讯店","type":"3","typeText":"待拜访","userName":"天联福卡通讯店"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280261","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangzhaohui","type":"3","typeText":"待拜访","userName":"zhangzhaohui"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280262","custype":"3","latitude":"39.915715","longitude":"116.436683","shopName":"HenryMA","type":"3","typeText":"待拜访","userName":"HenryMA"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280384","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chencheng","type":"3","typeText":"待拜访","userName":"chencheng"},{"conAddress":"香港香港特别行政区湾仔","conProvince":"香港","consCounty":"湾仔","cusUserId":"280385","custype":"3","latitude":"39.915719","longitude":"116.436944","shopName":"jefference3000","type":"3","typeText":"待拜访","userName":"jefference3000"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280387","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"cfdzhy","type":"3","typeText":"待拜访","userName":"cfdzhy"},{"conAddress":"香港香港特别行政区观塘","conProvince":"香港","consCounty":"观塘","cusUserId":"280388","custype":"3","latitude":"39.915939","longitude":"116.43776","shopName":"yanxiaof","type":"3","typeText":"待拜访","userName":"yanxiaof"},{"conAddress":"香港香港特别行政区大埔","conProvince":"香港","consCounty":"大埔","cusUserId":"280548","custype":"3","latitude":"39.915661","longitude":"116.436938","shopName":"huyanling","type":"3","typeText":"待拜访","userName":"huyanling"},{"conAddress":"香港香港特别行政区香港特别行政区","conProvince":"香港","consCounty":"香港特别行政区","cusUserId":"280811","custype":"3","latitude":"39.953182","longitude":"116.378298","shopName":"13kg丝-这","type":"3","typeText":"待拜访","userName":"13kg丝-这"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280840","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"测试账号HK","type":"3","typeText":"待拜访","userName":"测试账号HK"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283027","custype":"3","latitude":"39.915782","longitude":"116.436853","shopName":"香港天联供货商1","type":"3","typeText":"待拜访","userName":"香港天联供货商1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283034","custype":"3","latitude":"39.95382","longitude":"116.374779","shopName":"wuchuming","type":"3","typeText":"待拜访","userName":"wuchuming"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283492","custype":"3","latitude":"39.953263","longitude":"116.378074","shopName":"测试客户1","type":"3","typeText":"待拜访","userName":"测试客户1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283633","custype":"3","latitude":"35.604376","longitude":"103.243021","shopName":"张测试001","type":"3","typeText":"待拜访","userName":"张测试001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"284146","custype":"3","latitude":"40.065336","longitude":"116.375398","shopName":"运营商001","type":"3","typeText":"待拜访","userName":"运营商001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"285626","custype":"3","latitude":"39.915498","longitude":"116.436445","shopName":"正式测试客户3","type":"3","typeText":"待拜访","userName":"正式测试客户3"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"286036","custype":"3","latitude":"39.915957","longitude":"116.436748","shopName":"香港终端测试组","type":"3","typeText":"待拜访","userName":"香港终端测试组"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"286914","custype":"3","latitude":"0","longitude":"0","shopName":"香港测试数据","type":"3","typeText":"待拜访","userName":"香港测试数据"},{"conAddress":"香港香港特别行政区香港市区内八宝山街道办事处","conProvince":"香港","consCounty":"香港市区内","consTown":"八宝山街道办事处","cusUserId":"288962","custype":"3","latitude":"39.915865","longitude":"116.436495","shopName":"北京客户2","type":"3","typeText":"待拜访","userName":"北京客户2"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289011","custype":"3","latitude":"39.915832","longitude":"116.436957","shopName":"测试微信注册","type":"3","typeText":"待拜访","userName":"测试微信注册"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289272","custype":"3","latitude":"39.915738","longitude":"116.436701","shopName":"海淀区客户不要动","type":"3","typeText":"待拜访","userName":"海淀区客户不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289273","custype":"3","latitude":"39.915896","longitude":"116.43673","shopName":"测试数据不要动","type":"3","typeText":"待拜访","userName":"测试数据不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289275","custype":"3","latitude":"39.915769","longitude":"116.437027","shopName":"啊啊撒","type":"3","typeText":"待拜访","userName":"啊啊撒"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289340","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chengjj","type":"3","typeText":"待拜访","userName":"chengjj"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:25:13,561] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:25:13,563] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:25:13,563] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:25:13,593] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit begin.
INFO  [2018-12-28 15:25:13,593] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 正式用户拜访计划sql:(select  distinct concat(vb.real_buyer_id,'') cusUserId,bi.shopname as shopName, us.username as userName,ai1.areaname conProvince,ai2.areaname consCity,ai3.areaname consCounty,t.townname consTown,bi.address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype, '3' as type from VISITED_BUYERINFO vb inner join buyerinfo bi on vb.real_buyer_id = bi.userid left join users us on us.userid = vb.real_buyer_id left join areainfo ai1 on ai1.areaid = bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where vb.real_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1'  and  TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'  and vb.operation_type is null) union  （select distinct concat(vp.buyer_userid,'') cusUserId, bi.shopname  as shopName, us.username as userName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown,  bi.address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  bi.address) conAddress, concat(bi.longitude,'') longitude, concat(bi.latitude,'') latitude, '3' as custype,  '3' as type from VISITED_PLAN vp inner join buyerinfo bi on vp.buyer_userid = bi.userid left join users us on us.userid=vp.buyer_userid left join areainfo ai1 on ai1.areaid =bi.province left join areainfo ai2 on ai2.areaid = bi.city left join areainfo ai3 on ai3.areaid = bi.county left join towninfo t on t.townid = bi.townid and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.buyer_userid not in ( select vb.real_buyer_id from VISITED_BUYERINFO vb where vb.real_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss')between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:25:13,603] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访真实用户计划 :[{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225809","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台","type":"3","typeText":"待拜访","userName":"香港县平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225817","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港省平台","type":"3","typeText":"待拜访","userName":"香港省平台"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225830","custype":"3","latitude":"39.915707","longitude":"116.436452","shopName":"香港天联通讯市场","type":"3","typeText":"待拜访","userName":"香港天联通讯市场"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"225839","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港直供大客户","type":"3","typeText":"待拜访","userName":"香港直供大客户"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"230671","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"新加坡零售","type":"3","typeText":"待拜访","userName":"新加坡零售"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235597","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"huanghao02","type":"3","typeText":"待拜访","userName":"huanghao02"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"235601","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"家居1234","type":"3","typeText":"待拜访","userName":"家居1234"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236000","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港零售终端测试","type":"3","typeText":"待拜访","userName":"香港零售终端测试"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"236127","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"waptest001","type":"3","typeText":"待拜访","userName":"waptest001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"238867","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"lishinichi","type":"3","typeText":"待拜访","userName":"lishinichi"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"239034","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhengshitest","type":"3","typeText":"待拜访","userName":"zhengshitest"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"241246","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"香港县平台*t1","type":"3","typeText":"待拜访","userName":"香港县平台*t1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"249090","custype":"3","latitude":"39.953141","longitude":"116.378161","shopName":"ZHANGW","type":"3","typeText":"待拜访","userName":"ZHANGW"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"250180","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chenyong","type":"3","typeText":"待拜访","userName":"chenyong"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"257350","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"ceshi04","type":"3","typeText":"待拜访","userName":"ceshi04"},{"conAddress":"香港香港特别行政区九龙城","conProvince":"香港","consCounty":"九龙城","cusUserId":"259800","custype":"3","latitude":"39.915751","longitude":"116.436903","shopName":"香港天联供货商","type":"3","typeText":"待拜访","userName":"香港天联供货商"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"259960","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"naliland","type":"3","typeText":"待拜访","userName":"naliland"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"278852","custype":"3","latitude":"39.953132","longitude":"116.378176","shopName":"13716409","type":"3","typeText":"待拜访","userName":"13716409"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280239","custype":"3","latitude":"39.953133","longitude":"116.378177","shopName":"测试店铺1258","type":"3","typeText":"待拜访","userName":"测试店铺1258"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280252","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangyuanqing","type":"3","typeText":"待拜访","userName":"zhangyuanqing"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280255","custype":"3","latitude":"40.095145","longitude":"116.296211","shopName":"天联福卡通讯店","type":"3","typeText":"待拜访","userName":"天联福卡通讯店"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280261","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"zhangzhaohui","type":"3","typeText":"待拜访","userName":"zhangzhaohui"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"280262","custype":"3","latitude":"39.915715","longitude":"116.436683","shopName":"HenryMA","type":"3","typeText":"待拜访","userName":"HenryMA"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280384","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chencheng","type":"3","typeText":"待拜访","userName":"chencheng"},{"conAddress":"香港香港特别行政区湾仔","conProvince":"香港","consCounty":"湾仔","cusUserId":"280385","custype":"3","latitude":"39.915719","longitude":"116.436944","shopName":"jefference3000","type":"3","typeText":"待拜访","userName":"jefference3000"},{"conAddress":"香港香港特别行政区东区","conProvince":"香港","consCounty":"东区","cusUserId":"280387","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"cfdzhy","type":"3","typeText":"待拜访","userName":"cfdzhy"},{"conAddress":"香港香港特别行政区观塘","conProvince":"香港","consCounty":"观塘","cusUserId":"280388","custype":"3","latitude":"39.915939","longitude":"116.43776","shopName":"yanxiaof","type":"3","typeText":"待拜访","userName":"yanxiaof"},{"conAddress":"香港香港特别行政区大埔","conProvince":"香港","consCounty":"大埔","cusUserId":"280548","custype":"3","latitude":"39.915661","longitude":"116.436938","shopName":"huyanling","type":"3","typeText":"待拜访","userName":"huyanling"},{"conAddress":"香港香港特别行政区香港特别行政区","conProvince":"香港","consCounty":"香港特别行政区","cusUserId":"280811","custype":"3","latitude":"39.953182","longitude":"116.378298","shopName":"13kg丝-这","type":"3","typeText":"待拜访","userName":"13kg丝-这"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"280840","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"测试账号HK","type":"3","typeText":"待拜访","userName":"测试账号HK"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283027","custype":"3","latitude":"39.915782","longitude":"116.436853","shopName":"香港天联供货商1","type":"3","typeText":"待拜访","userName":"香港天联供货商1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283034","custype":"3","latitude":"39.95382","longitude":"116.374779","shopName":"wuchuming","type":"3","typeText":"待拜访","userName":"wuchuming"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283492","custype":"3","latitude":"39.953263","longitude":"116.378074","shopName":"测试客户1","type":"3","typeText":"待拜访","userName":"测试客户1"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"283633","custype":"3","latitude":"35.604376","longitude":"103.243021","shopName":"张测试001","type":"3","typeText":"待拜访","userName":"张测试001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"284146","custype":"3","latitude":"40.065336","longitude":"116.375398","shopName":"运营商001","type":"3","typeText":"待拜访","userName":"运营商001"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"285626","custype":"3","latitude":"39.915498","longitude":"116.436445","shopName":"正式测试客户3","type":"3","typeText":"待拜访","userName":"正式测试客户3"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"286036","custype":"3","latitude":"39.915957","longitude":"116.436748","shopName":"香港终端测试组","type":"3","typeText":"待拜访","userName":"香港终端测试组"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"286914","custype":"3","latitude":"0","longitude":"0","shopName":"香港测试数据","type":"3","typeText":"待拜访","userName":"香港测试数据"},{"conAddress":"香港香港特别行政区香港市区内八宝山街道办事处","conProvince":"香港","consCounty":"香港市区内","consTown":"八宝山街道办事处","cusUserId":"288962","custype":"3","latitude":"39.915865","longitude":"116.436495","shopName":"北京客户2","type":"3","typeText":"待拜访","userName":"北京客户2"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289011","custype":"3","latitude":"39.915832","longitude":"116.436957","shopName":"测试微信注册","type":"3","typeText":"待拜访","userName":"测试微信注册"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289272","custype":"3","latitude":"39.915738","longitude":"116.436701","shopName":"海淀区客户不要动","type":"3","typeText":"待拜访","userName":"海淀区客户不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289273","custype":"3","latitude":"39.915896","longitude":"116.43673","shopName":"测试数据不要动","type":"3","typeText":"待拜访","userName":"测试数据不要动"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289275","custype":"3","latitude":"39.915769","longitude":"116.437027","shopName":"啊啊撒","type":"3","typeText":"待拜访","userName":"啊啊撒"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289281","custype":"3","latitude":"39.915918","longitude":"116.437408","shopName":"玩儿玩儿","type":"3","typeText":"待拜访","userName":"玩儿玩儿"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289303","custype":"3","latitude":"39.953142","longitude":"116.378133","shopName":"还比较快路","type":"3","typeText":"待拜访","userName":"还比较快路"},{"conAddress":"香港香港特别行政区北区","conProvince":"香港","consCounty":"北区","cusUserId":"289340","custype":"3","latitude":"22.276284","longitude":"114.163825","shopName":"chengjj","type":"3","typeText":"待拜访","userName":"chengjj"},{"conAddress":"香港香港特别行政区油尖旺","conProvince":"香港","consCounty":"油尖旺","cusUserId":"289341","custype":"3","latitude":"0","longitude":"0","shopName":"yuuko123","type":"3","typeText":"待拜访","userName":"yuuko123"},{"conAddress":"香港香港特别行政区香港市区内","conProvince":"香港","consCounty":"香港市区内","cusUserId":"289382","custype":"3","latitude":"39.915798611111114","longitude":"116.43647433810764","shopName":"测试地址","type":"3","typeText":"待拜访","userName":"测试地址"}]
INFO  [2018-12-28 15:25:13,603] cn.ihdou.buyermanage.dao.impl.BuyerQueryDaoImpl - 潜在用户拜访计划sql: (select distinct vb.unreal_buyer_id cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname || ai3.areaname || t.townname || ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_BUYERINFO vb inner join unregistered_buyerinfo ub on vb.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid = ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where vb.unreal_buyer_id is not null and vb.visited_date_end is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vb.del_flag = '1' and TO_CHAR(vb.visited_date, 'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate, 'yyyy-mm-dd') || ' 00:00:00' and to_char(sysdate, 'yyyy-mm-dd') || ' 23:59:59' and vb.operation_type is null) union  (select distinct vp.UNREAL_BUYER_ID cusUserId, ub.shop_name shopName, ai1.areaname conProvince, ai2.areaname consCity, ai3.areaname consCounty, t.townname consTown, ub.shop_address, (ai1.areaname || ai2.areaname ||  ai3.areaname || t.townname ||  ub.shop_address) conAddress, concat(ub.longitude,'') longitude, concat(ub.latitude,'') latitude, '2' as custype, '3' as type from VISITED_PLAN vp inner join unregistered_buyerinfo ub on vp.unreal_buyer_id = ub.buyer_id left join areainfo ai1 on ai1.areaid =ub.province_id left join areainfo ai2 on ai2.areaid = ub.city_id left join areainfo ai3 on ai3.areaid = ub.area_id left join towninfo t on t.townid = ub.town_id and t.status = '1' where 1=1 and vp.VISITED_FLG='0' and TO_CHAR(vp.visit_time,'yyyy-mm-dd hh24:mi:ss') <= to_char(sysdate,'yyyy-mm-dd')||' 23:59:59' and vp.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and vp.unreal_buyer_id not in ( select vb.unreal_buyer_id from VISITED_BUYERINFO vb where vb.unreal_buyer_id is not null and vb.operation_type is null and vb.agent_staff_id='e59ef26cf282403ca7d7fdc982c8d3c0' and TO_CHAR(vb.visited_date,'yyyy-mm-dd hh24:mi:ss') between TO_CHAR(sysdate,'yyyy-mm-dd')||' 00:00:00' and to_char(sysdate,'yyyy-mm-dd')||' 23:59:59'))
INFO  [2018-12-28 15:25:13,605] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - 拜访潜在用户计划 :[]
INFO  [2018-12-28 15:25:13,605] cn.ihdou.buyermanage.service.impl.BuyerQueryServiceImpl - BuyerVisitServiceImpl listAgentVisit end.
INFO  [2018-12-28 15:25:17,862] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - BuyerVisiteServiceImpl getVisitHistoryInfo begin
INFO  [2018-12-28 15:25:17,862] cn.ihdou.buyermanage.service.impl.BuyerVisiteServiceImpl - 入参vo：{"agentId":"e59ef26cf282403ca7d7fdc982c8d3c0","cityLi":[],"countyLi":["3722"],"flag":"1","nation":"","paginationInfo":{"curPage":1,"limit":20,"offset":0,"pageSize":20},"provinceLi":[],"queryString":"","tagList":"","visitedGoalString":"","visitedState":"","visitedTypeString":""}
INFO  [2018-12-28 15:25:17,890] cn.ihdou.ihdou.common.dao.impl.DictionaryDaoImpl - 获取渠道Text&sql  SELECT tm.tag_id key, tm.tag_name value  FROM tag_manage tm  INNER JOIN TAG_GROUP_MANAGE tgm    ON tgm.tag_group_id = tm.tag_group_id  where tm.del_flag = '1'   AND tgm.del_flag = '1'   AND tgm.tag_group_state = '02'   AND tgm.tag_group_name = '渠道规划标签'
INFO  [2018-12-28 15:25:17,892] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取用户拜访记录(crm1.5)WITH VBI AS (SELECT VI.VISITED_ID ID,         LISTAGG(VI.TAG_ID, ',') WITHIN GROUP(ORDER BY VI.TAG_ID) TAGIDLIST,		 listagg(vi.visited_sales_goal, ',') within group(order by vi.tag_id) goalList    FROM VISITED_INTEND VI, VISITED_BUYERINFO VB   WHERE VB.VISITED_ID = VI.VISITED_ID and add_months(sysdate, -3)< vb.VISITED_DATE     AND VB.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VI.VISITED_ID),VPVP AS (SELECT VPI.VISITED_PLAN_ID ID,         LISTAGG(VPI.TAG_ID, ',') WITHIN GROUP(ORDER BY VPI.TAG_ID) TAGIDLIST,		 listagg(vpi.visited_sales_goal, ',') within group(order by vpi.tag_id) goalList    FROM VISITE_PLAN_INTEND VPI, VISITED_PLAN VP   WHERE VP.ID = VPI.VISITED_PLAN_ID  and add_months(sysdate, -3)< vp.add_time     AND VP.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VPI.VISITED_PLAN_ID),TEMP AS (SELECT DISTINCT TO_CHAR(BI.SHOPNAME) SHOPNAME,                  AREA1.AREANAME || '' || AREA2.AREANAME || '' ||                  AREA3.AREANAME || '' || TI.TOWNNAME || '' ||                  BI.COMPANYADDRESS COMPANYADRESS,                  VP.VISITED_TYPE VISITEDTYPE,                  '1' VISITSTATE,                  VP.VISITED_GOAL VISITEDGOAL,                  TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,                  NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,                  VB.VISITED_DATE SORTTIME2,                  VP.ID VISITEDPLANID,                  VB.VISITED_ID VISITEDID,                  TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,                  VPVP.TAGIDLIST TAGIDLIST,                  vpvp.goalList goalList,                  VP.BUYER_USERID REALBUYERID,                  VP.UNREAL_BUYER_ID UNREALBUYERID,                  TO_CHAR(BI.LONGITUDE) LONGITUDE,                  TO_CHAR(BI.LATITUDE) LATITUDE,                  TO_CHAR(BI.USERID) CUSTOMERID,                  bi.PRI_MOBILE phone,                  '3' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN BUYERINFO BI      ON VP.BUYER_USERID = BI.USERID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NOT NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT TO_CHAR(BI.SHOPNAME) SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || BI.COMPANYADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(BI.LONGITUDE) LONGITUDE,         TO_CHAR(BI.LATITUDE) LATITUDE,         TO_CHAR(BI.USERID) CUSTOMERID,         bi.PRI_MOBILE phone,         '3' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN BUYERINFO BI      ON VB.REAL_BUYER_ID = BI.USERID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NOT NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VP.VISITED_TYPE VISITEDTYPE,         '1' VISITSTATE,         VP.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VP.ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VPVP.TAGIDLIST TAGIDLIST,         vpvp.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VP.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VB.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) ))   select visitState,       shopname,       companyAdress,       visitedType,       visitedGoal,       visitedPlanId,       visitedTime,       tagIdList,       goalList,       realBuyerId,       unRealBuyerId,       visitedId,       longitude,       latitude,       customerId,       customerType  from temp  where 1=1  and add_months(sysdate, -3)< SORTTIME   order by  sortTime  desc  nulls last,shopname
INFO  [2018-12-28 15:25:17,892] cn.ihdou.buyermanage.dao.impl.ByerVistedDaoImpl - 获取用户拜访记录(crm1.5)分页查询&sql  SELECT * FROM (SELECT ROWNUM row_, t.* FROM (WITH VBI AS (SELECT VI.VISITED_ID ID,         LISTAGG(VI.TAG_ID, ',') WITHIN GROUP(ORDER BY VI.TAG_ID) TAGIDLIST,		 listagg(vi.visited_sales_goal, ',') within group(order by vi.tag_id) goalList    FROM VISITED_INTEND VI, VISITED_BUYERINFO VB   WHERE VB.VISITED_ID = VI.VISITED_ID and add_months(sysdate, -3)< vb.VISITED_DATE     AND VB.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VI.VISITED_ID),VPVP AS (SELECT VPI.VISITED_PLAN_ID ID,         LISTAGG(VPI.TAG_ID, ',') WITHIN GROUP(ORDER BY VPI.TAG_ID) TAGIDLIST,		 listagg(vpi.visited_sales_goal, ',') within group(order by vpi.tag_id) goalList    FROM VISITE_PLAN_INTEND VPI, VISITED_PLAN VP   WHERE VP.ID = VPI.VISITED_PLAN_ID  and add_months(sysdate, -3)< vp.add_time     AND VP.AGENT_STAFF_ID = 'e59ef26cf282403ca7d7fdc982c8d3c0'   GROUP BY VPI.VISITED_PLAN_ID),TEMP AS (SELECT DISTINCT TO_CHAR(BI.SHOPNAME) SHOPNAME,                  AREA1.AREANAME || '' || AREA2.AREANAME || '' ||                  AREA3.AREANAME || '' || TI.TOWNNAME || '' ||                  BI.COMPANYADDRESS COMPANYADRESS,                  VP.VISITED_TYPE VISITEDTYPE,                  '1' VISITSTATE,                  VP.VISITED_GOAL VISITEDGOAL,                  TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,                  NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,                  VB.VISITED_DATE SORTTIME2,                  VP.ID VISITEDPLANID,                  VB.VISITED_ID VISITEDID,                  TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,                  VPVP.TAGIDLIST TAGIDLIST,                  vpvp.goalList goalList,                  VP.BUYER_USERID REALBUYERID,                  VP.UNREAL_BUYER_ID UNREALBUYERID,                  TO_CHAR(BI.LONGITUDE) LONGITUDE,                  TO_CHAR(BI.LATITUDE) LATITUDE,                  TO_CHAR(BI.USERID) CUSTOMERID,                  bi.PRI_MOBILE phone,                  '3' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN BUYERINFO BI      ON VP.BUYER_USERID = BI.USERID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NOT NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT TO_CHAR(BI.SHOPNAME) SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || BI.COMPANYADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(BI.LONGITUDE) LONGITUDE,         TO_CHAR(BI.LATITUDE) LATITUDE,         TO_CHAR(BI.USERID) CUSTOMERID,         bi.PRI_MOBILE phone,         '3' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN BUYERINFO BI      ON VB.REAL_BUYER_ID = BI.USERID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = BI.PROVINCE    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = BI.CITY    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = BI.COUNTY    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = BI.TOWNID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NOT NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (bi.county in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VP.VISITED_TYPE VISITEDTYPE,         '1' VISITSTATE,         VP.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VP.VISIT_TIME, 'yyyy-MM-dd') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VP.ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VPVP.TAGIDLIST TAGIDLIST,         vpvp.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_PLAN VP    LEFT JOIN VPVP      ON VPVP.ID = VP.ID    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VP.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_BUYERINFO VB      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VP.DEL_FLAG = '1'     AND VP.BUYER_USERID IS NULL     AND VB.VISITED_DATE IS NULL     AND VB.VISITED_DATE_END IS NULL     AND VP.VISITED_FLG = '0'     AND VB.OPERATION_TYPE IS NULL     and vp.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) )  UNION ALL  SELECT UBI.SHOP_NAME SHOPNAME,         AREA1.AREANAME || '' || AREA2.AREANAME || '' || AREA3.AREANAME || '' ||         TI.TOWNNAME || '' || UBI.SHOP_ADDRESS COMPANYADRESS,         VB.VISITED_TYPE VISITEDTYPE,         CASE           WHEN VB.VISITED_DATE_END IS NULL THEN            '2'           WHEN VB.VISITED_DATE_END IS NOT NULL THEN            '3'         END VISITSTATE,         VB.VISITED_GOAL VISITEDGOAL,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDTIME,         NVL(VP.VISIT_TIME, VB.VISITED_DATE) SORTTIME,         VB.VISITED_DATE SORTTIME2,         VB.VISITED_PLAN_ID VISITEDPLANID,         VB.VISITED_ID VISITEDID,         TO_CHAR(VB.VISITED_DATE, 'yyyy-MM-dd HH24:mi:ss') VISITEDDATE,         VBI.TAGIDLIST TAGIDLIST,         vbi.goalList goalList,         VP.BUYER_USERID REALBUYERID,         VP.UNREAL_BUYER_ID UNREALBUYERID,         TO_CHAR(UBI.LONGITUDE) LONGITUDE,         TO_CHAR(UBI.LATITUDE) LATITUDE,         UBI.BUYER_ID CUSTOMERID,         ubi.PRI_MOBILE phone,         '2' AS CUSTOMERTYPE    FROM VISITED_BUYERINFO VB    LEFT JOIN UNREGISTERED_BUYERINFO UBI      ON VB.UNREAL_BUYER_ID = UBI.BUYER_ID    LEFT JOIN VISITED_PLAN VP      ON VB.VISITED_PLAN_ID = VP.ID    LEFT JOIN VBI      ON VBI.ID = VB.VISITED_ID    LEFT JOIN AREAINFO AREA1      ON AREA1.AREAID = UBI.PROVINCE_ID    LEFT JOIN AREAINFO AREA2      ON AREA2.AREAID = UBI.CITY_ID    LEFT JOIN AREAINFO AREA3      ON AREA3.AREAID = UBI.AREA_ID    LEFT JOIN TOWNINFO TI      ON TI.TOWNID = UBI.TOWN_ID   WHERE VB.DEL_FLAG = '1'     AND VB.REAL_BUYER_ID IS NULL     AND VB.VISITED_DATE IS NOT NULL     AND VB.OPERATION_TYPE IS NULL     and vb.agent_staff_id ='e59ef26cf282403ca7d7fdc982c8d3c0' and (ubi.area_id in (3722) ))   select visitState,       shopname,       companyAdress,       visitedType,       visitedGoal,       visitedPlanId,       visitedTime,       tagIdList,       goalList,       realBuyerId,       unRealBuyerId,       visitedId,       longitude,       latitude,       customerId,       customerType  from temp  where 1=1  and add_months(sysdate, -3)< SORTTIME   order by  sortTime  desc  nulls last,shopname) t ) WHERE row_ <=20 AND row_ >=1
INFO  [2018-12-28 15:25:18,882] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:25:19,384] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:25:19,384] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:25:21,161] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:25:24,135] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:25:25,206] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:25:25,708] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:25:25,708] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5551][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:52214<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5551 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5551 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5551 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5551 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5551 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5551 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5551 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5551 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5551 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5551 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 << "Date: Fri, 28 Dec 2018 07:25:28 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 << "{"code":200,"msg":null,"content":null}"
DEBUG: org.apache.http.headers - http-outgoing-5551 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5551 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5551 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5551 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5551 << Date: Fri, 28 Dec 2018 07:25:28 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5551 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5551 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5551][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5551][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5551: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5551: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:25:31,171] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:25:31,540] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:25:32,042] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:25:32,043] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:25:37,859] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
2018-12-28 15:25:38,301  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:25:38,361] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:25:38,361] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:25:41,181] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:25:44,182] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:25:44,684] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:25:44,684] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:25:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:25:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:25:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:25:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:25:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:25:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:25:46,657] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:25:46,660] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:25:50,503] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:25:51,005] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:25:51,005] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:25:51,192] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:25:54,144] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:25:56,825] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:25:57,327] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:25:57,327] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5552][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:57950<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5552 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5552 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5552 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5552 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5552 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5552 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5552 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5552 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5552 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5552 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 << "Date: Fri, 28 Dec 2018 07:25:59 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5552 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5552 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5552 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5552 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5552 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5552 << Date: Fri, 28 Dec 2018 07:25:59 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5552][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5552][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5552: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5552: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:25:59,561] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20000, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:25:59,563] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-2, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:26:01,201] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:26:03,144] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:26:03,646] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:26:03,647] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
ERROR [2018-12-28 15:26:05,979] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-12-28 15:26:08,310  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:26:09,464] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:26:09,966] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:26:09,966] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:26:11,209] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:26:15,782] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:26:16,285] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:26:16,285] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:26:21,212] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.22:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.20:27017
DEBUG: org.mongodb.driver.connection - Pruning pooled connections to 192.168.102.21:27017
DEBUG: org.mongodb.driver.connection - Ensuring minimum pooled connections to 192.168.102.21:27017
INFO  [2018-12-28 15:26:22,107] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:26:22,609] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:26:22,609] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO  [2018-12-28 15:26:24,153] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:26:28,429] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:26:28,931] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:26:28,931] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5553][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:63674<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5553 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5553 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5553 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5553 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5553 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5553 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5553 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5553 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5553 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5553 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 << "Date: Fri, 28 Dec 2018 07:26:29 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 << "[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5553 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5553 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5553 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5553 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5553 << Date: Fri, 28 Dec 2018 07:26:29 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5553 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5553 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5553][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5553][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5553: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5553: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:26:31,223] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:26:34,747] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:26:35,249] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:26:35,249] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:26:38,319  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:26:41,067] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
DEBUG [2018-12-28 15:26:41,231] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:26:41,569] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:26:41,569] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:26:44,905 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.22:27017
2018-12-28 15:26:44,906 DEBUG [pool-1-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.22:27017
2018-12-28 15:26:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.20:27017
2018-12-28 15:26:44,933 DEBUG [pool-2-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.20:27017
2018-12-28 15:26:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Pruning pooled connections to 192.168.102.21:27017
2018-12-28 15:26:44,944 DEBUG [pool-3-thread-1] (SLF4JLogger.java:56) - Ensuring minimum pooled connections to 192.168.102.21:27017
DEBUG [2018-12-28 15:26:46,660] com.alibaba.dubbo.remoting.exchange.support.header.HeartBeatTask -  [DUBBO] Send heartbeat to remote channel /192.168.102.37:20200, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms, dubbo version: 2.5.3, current host: 192.168.102.37
 DEBUG [2018-12-28 15:26:46,662] com.alibaba.dubbo.remoting.exchange.support.header.HeartbeatHandler -  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-1, dubbo version: 2.5.3, current host: 192.168.102.37
 INFO  [2018-12-28 15:26:47,393] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:26:47,895] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:26:47,895] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:26:51,236] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:26:53,708] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:26:54,162] com.xxl.job.core.thread.ExecutorRegistryThread$1 - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdouCrm-job-executor', registryValue='192.168.102.200:30010'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:26:54,210] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:26:54,211] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='flowRecharge-timerJob-dev', registryValue='172.21.9.12:9997'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG: org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
DEBUG: org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection request: [route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection leased: [id: 5554][route: {}->http://192.168.102.40:8080][total kept alive: 0; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to /192.168.102.40:8080
DEBUG: org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 192.168.102.37:9405<->192.168.102.40:8080
DEBUG: org.apache.http.impl.execchain.MainClientExec - Executing request POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
DEBUG: org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
DEBUG: org.apache.http.headers - http-outgoing-5554 >> POST /xxl-job-admin/api/registry HTTP/1.1
DEBUG: org.apache.http.headers - http-outgoing-5554 >> Content-Length: 108
DEBUG: org.apache.http.headers - http-outgoing-5554 >> Content-Type: application/json
DEBUG: org.apache.http.headers - http-outgoing-5554 >> Content-Encoding: UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5554 >> Host: 192.168.102.40:8080
DEBUG: org.apache.http.headers - http-outgoing-5554 >> Connection: Keep-Alive
DEBUG: org.apache.http.headers - http-outgoing-5554 >> User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)
DEBUG: org.apache.http.headers - http-outgoing-5554 >> Accept-Encoding: gzip,deflate
DEBUG: org.apache.http.wire - http-outgoing-5554 >> "POST /xxl-job-admin/api/registry HTTP/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 >> "Content-Length: 108[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 >> "Content-Type: application/json[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 >> "Content-Encoding: UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 >> "Host: 192.168.102.40:8080[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 >> "Connection: Keep-Alive[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 >> "User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_102)[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 >> "Accept-Encoding: gzip,deflate[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 >> "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 >> "{"registGroup":"EXECUTOR","registryKey":"serverfinance-job-executor","registryValue":"192.168.102.37:32000"}"
DEBUG: org.apache.http.wire - http-outgoing-5554 << "HTTP/1.1 200 OK[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 << "Server: Apache-Coyote/1.1[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 << "Content-Type: application/json;charset=UTF-8[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 << "Transfer-Encoding: chunked[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 << "Date: Fri, 28 Dec 2018 07:26:59 GMT[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 << "[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 << "26[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 << "{"code":200,"msg":null,"content":null}[\r][\n]"
DEBUG: org.apache.http.headers - http-outgoing-5554 << HTTP/1.1 200 OK
DEBUG: org.apache.http.headers - http-outgoing-5554 << Server: Apache-Coyote/1.1
DEBUG: org.apache.http.headers - http-outgoing-5554 << Content-Type: application/json;charset=UTF-8
DEBUG: org.apache.http.headers - http-outgoing-5554 << Transfer-Encoding: chunked
DEBUG: org.apache.http.headers - http-outgoing-5554 << Date: Fri, 28 Dec 2018 07:26:59 GMT
DEBUG: org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
DEBUG: org.apache.http.wire - http-outgoing-5554 << "0[\r][\n]"
DEBUG: org.apache.http.wire - http-outgoing-5554 << "[\r][\n]"
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection [id: 5554][route: {}->http://192.168.102.40:8080] can be kept alive indefinitely
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection released: [id: 5554][route: {}->http://192.168.102.40:8080][total kept alive: 1; route allocated: 1 of 2; total allocated: 1 of 20]
DEBUG: org.apache.http.impl.execchain.MainClientExec - Cancelling request execution
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager is shutting down
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5554: Close connection
DEBUG: org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5554: Close connection
DEBUG: org.apache.http.impl.conn.PoolingHttpClientConnectionManager - Connection manager shut down
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='serverfinance-job-executor', registryValue='192.168.102.37:32000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO  [2018-12-28 15:27:00,031] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:27:00,533] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:27:00,533] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
DEBUG [2018-12-28 15:27:01,245] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 ERROR [2018-12-28 15:27:05,979] com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1 -  [DUBBO] Unexpected error occur at send statistic, cause: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist)., dubbo version: 2.5.3, current host: 192.168.102.37
com.alibaba.dubbo.rpc.RpcException: Forbid consumer 192.168.102.37 access service com.alibaba.dubbo.monitor.MonitorService from registry 192.168.102.37:2181 use dubbo version 2.5.3, Please check registry access list (whitelist/blacklist).
	at com.alibaba.dubbo.registry.integration.RegistryDirectory.doList(RegistryDirectory.java:579)
	at com.alibaba.dubbo.rpc.cluster.directory.AbstractDirectory.list(AbstractDirectory.java:73)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.list(AbstractClusterInvoker.java:260)
	at com.alibaba.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:219)
	at com.alibaba.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:72)
	at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)
	at com.alibaba.dubbo.common.bytecode.proxy15.collect(proxy15.java)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor.send(DubboMonitor.java:113)
	at com.alibaba.dubbo.monitor.dubbo.DubboMonitor$1.run(DubboMonitor.java:70)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO  [2018-12-28 15:27:06,351] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:27:06,853] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:27:06,853] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
2018-12-28 15:27:08,328  INFO [Thread-18] (ExecutorRegistryThread.java:49) - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='oms-job-executor', registryValue='192.168.102.37:31000'}, registryResult:ReturnT [code=200, msg=null, content=null]
INFO : com.xxl.job.core.thread.ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry, RegistryParam:RegistryParam{registGroup='EXECUTOR', registryKey='ihdoumember-job-executor', registryValue='192.168.102.200:9999'}, registryResult:ReturnT [code=200, msg=null, content=null]
DEBUG [2018-12-28 15:27:11,253] org.apache.zookeeper.ClientCnxn$SendThread - Got ping response for sessionid: 0x167e331b7b100f2 after 0ms
 INFO  [2018-12-28 15:27:12,669] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop end.
INFO  [2018-12-28 15:27:13,171] cn.ihdou.common.service.impl.AppRedisServiceImpl - AppRedisServiceImpl blpop begin.
INFO  [2018-12-28 15:27:13,172] cn.ihdou.common.service.impl.AppRedisServiceImpl - redis的信息：key:shoutao_list
